import{r as Xn,D as vo,E as Y,A as ye,b as k,p as Qn,n as _o,M as So,u as Ce,v as Je,h as ws,w as Zn}from"./iframe-D1LqjIGT.js";import{_ as Co}from"./preload-helper-PPVm8Dsz.js";const Po={duration:250},er=s=>(e,t,i)=>{const n="max"+s.charAt(0).toUpperCase()+s.slice(1);Object.assign(e.style,{[n]:"",display:""});const{[s]:r}=e.getBoundingClientRect(),o=[0,r],[a,l]=t?o:o.slice().reverse(),c=e.animate([{[n]:`${a}px`},{[n]:`${l}px`}],{...Po,...i});c.onfinish=()=>Object.assign(e.style,{[n]:"",display:t?"":"none"})};let Dt,tr=0;function gi(s){Dt=s}function mi(){Dt=null,tr=0}function Oo(){return tr++}const vs=Symbol("haunted.phase"),Nt=Symbol("haunted.hook"),yi=Symbol("haunted.update"),bi=Symbol("haunted.commit"),Pe=Symbol("haunted.effects"),it=Symbol("haunted.layoutEffects"),Is="haunted.context";class Lo{update;host;virtual;[Nt];[Pe];[it];constructor(e,t){this.update=e,this.host=t,this[Nt]=new Map,this[Pe]=[],this[it]=[]}run(e){gi(this);let t=e();return mi(),t}_runEffects(e){let t=this[e];gi(this);for(let i of t)i.call(this);mi()}runEffects(){this._runEffects(Pe)}runLayoutEffects(){this._runEffects(it)}teardown(){this[Nt].forEach(t=>{typeof t.teardown=="function"&&t.teardown(!0)})}}const Eo=Promise.resolve().then.bind(Promise.resolve());function sr(){let s=[],e;function t(){e=null;let i=s;s=[];for(var n=0,r=i.length;n<r;n++)i[n]()}return function(i){s.push(i),e==null&&(e=Eo(t))}}const $o=sr(),xi=sr();class Ro{renderer;host;state;[vs];_updateQueued;_active;constructor(e,t){this.renderer=e,this.host=t,this.state=new Lo(this.update.bind(this),t),this[vs]=null,this._updateQueued=!1,this._active=!1}update(){this._active&&(this._updateQueued||($o(()=>{let e=this.handlePhase(yi);xi(()=>{this.handlePhase(bi,e),xi(()=>{this.handlePhase(Pe)})}),this._updateQueued=!1}),this._updateQueued=!0))}handlePhase(e,t){switch(this[vs]=e,e){case bi:this.commit(t),this.runEffects(it);return;case yi:return this.render();case Pe:return this.runEffects(Pe)}}render(){return this.state.run(()=>this.renderer.call(this.host,this.host))}runEffects(e){this.state._runEffects(e)}teardown(){this.state.teardown()}pause(){this._active=!1}resume(){this._active=!0}}const ni=(...s)=>{const e=new CSSStyleSheet;return e.replaceSync(s.join("")),e},ko=s=>s?.map(e=>typeof e=="string"?ni(e):e),To=(s,...e)=>s.flatMap((t,i)=>[t,e[i]||""]).join(""),ie=To,Ao=(s="")=>s.replace(/-+([a-z])?/g,(e,t)=>t?t.toUpperCase():"");function No(s){class e extends Ro{frag;renderResult;constructor(n,r,o){super(n,o||r),this.frag=r}commit(n){this.renderResult=s(n,this.frag)}}function t(i,n,r){const o=(r||n||{}).baseElement||HTMLElement,{observedAttributes:a=[],useShadowDOM:l=!0,shadowRootInit:c={},styleSheets:u}=r||n||{},h=ko(i.styleSheets||u);class d extends o{_scheduler;static get observedAttributes(){return i.observedAttributes||a||[]}constructor(){if(super(),l===!1)this._scheduler=new e(i,this);else{const m=this.attachShadow({mode:"open",...c});h&&(m.adoptedStyleSheets=h),this._scheduler=new e(i,m,this)}}connectedCallback(){this._scheduler.resume(),this._scheduler.update(),this._scheduler.renderResult?.setConnected(!0)}disconnectedCallback(){this._scheduler.pause(),this._scheduler.teardown(),this._scheduler.renderResult?.setConnected(!1)}attributeChangedCallback(m,y,b){if(y===b)return;let w=b===""?!0:b;Reflect.set(this,Ao(m),w)}}function f(g){let m=g,y=!1;return Object.freeze({enumerable:!0,configurable:!0,get(){return m},set(b){y&&m===b||(y=!0,m=b,this._scheduler&&this._scheduler.update())}})}const p=new Proxy(o.prototype,{getPrototypeOf(g){return g},set(g,m,y,b){let w;return m in g?(w=Object.getOwnPropertyDescriptor(g,m),w&&w.set?(w.set.call(b,y),!0):(Reflect.set(g,m,y,b),!0)):(typeof m=="symbol"||m[0]==="_"?w={enumerable:!0,configurable:!0,writable:!0,value:y}:w=f(y),Object.defineProperty(b,m,w),w.set&&w.set.call(b,y),!0)}});return Object.setPrototypeOf(d.prototype,p),d}return t}class be{id;state;constructor(e,t){this.id=e,this.state=t}}function zo(s,...e){let t=Oo(),i=Dt[Nt],n=i.get(t);return n||(n=new s(t,Dt,...e),i.set(t,n)),n.update(...e)}function xe(s){return zo.bind(null,s)}function ir(s){return xe(class extends be{callback;lastValues;values;_teardown;constructor(e,t,i,n){super(e,t),s(t,this)}update(e,t){this.callback=e,this.values=t}call(){const e=!this.values||this.hasChanged();this.lastValues=this.values,e&&this.run()}run(){this.teardown(),this._teardown=this.callback.call(this.state)}teardown(e){typeof this._teardown=="function"&&(this._teardown(),this._teardown=void 0),e&&(this.lastValues=this.values=void 0)}hasChanged(){return!this.lastValues||this.values.some((e,t)=>this.lastValues[t]!==e)}})}function nr(s,e){s[Pe].push(e)}const F=ir(nr),Fo=s=>s instanceof Element?s:s.startNode||s.endNode||s.parentNode,rr=xe(class extends be{Context;value;_ranEffect;_unsubscribe;constructor(s,e,t){super(s,e),this._updater=this._updater.bind(this),this._ranEffect=!1,this._unsubscribe=null,nr(e,this)}update(s){return this.Context!==s&&(this._subscribe(s),this.Context=s),this.value}call(){this._ranEffect||(this._ranEffect=!0,this._unsubscribe&&this._unsubscribe(),this._subscribe(this.Context),this.state.update())}_updater(s){this.value=s,this.state.update()}_subscribe(s){const e={Context:s,callback:this._updater};Fo(this.state.host).dispatchEvent(new CustomEvent(Is,{detail:e,bubbles:!0,cancelable:!0,composed:!0}));const{unsubscribe:i=null,value:n}=e;this.value=i?n:s.defaultValue,this._unsubscribe=i}teardown(){this._unsubscribe&&this._unsubscribe()}});function Io(s){return e=>{const t={Provider:class extends HTMLElement{listeners;_value;constructor(){super(),this.style.display="contents",this.listeners=new Set,this.addEventListener(Is,this)}disconnectedCallback(){this.removeEventListener(Is,this)}handleEvent(i){const{detail:n}=i;n.Context===t&&(n.value=this.value,n.unsubscribe=this.unsubscribe.bind(this,n.callback),this.listeners.add(n.callback),i.stopPropagation())}unsubscribe(i){this.listeners.delete(i)}set value(i){this._value=i;for(let n of this.listeners)n(i)}get value(){return this._value}},Consumer:s(function({render:i}){const n=rr(t);return i(n)},{useShadowDOM:!1}),defaultValue:e};return t}}const B=xe(class extends be{value;values;constructor(s,e,t,i){super(s,e),this.value=t(),this.values=i}update(s,e){return this.hasChanged(e)&&(this.values=e,this.value=s()),this.value}hasChanged(s=[]){return s.some((e,t)=>this.values[t]!==e)}}),U=(s,e)=>B(()=>s,e);function Do(s,e){s[it].push(e)}const Ds=ir(Do),he=xe(class extends be{args;constructor(s,e,t){super(s,e),this.updater=this.updater.bind(this),typeof t=="function"&&(t=t()),this.makeArgs(t)}update(){return this.args}updater(s){const[e]=this.args;typeof s=="function"&&(s=s(e)),!Object.is(e,s)&&(this.makeArgs(s),this.state.update())}makeArgs(s){this.args=Object.freeze([s,this.updater])}}),Mo=xe(class extends be{reducer;currentState;constructor(s,e,t,i,n){super(s,e),this.dispatch=this.dispatch.bind(this),this.currentState=n!==void 0?n(i):i}update(s){return this.reducer=s,[this.currentState,this.dispatch]}dispatch(s){this.currentState=this.reducer(this.currentState,s),this.state.update()}}),jo=/([A-Z])/gu,Vo=xe(class extends be{property;eventName;constructor(s,e,t,i){if(super(s,e),this.state.virtual)throw new Error("Can't be used with virtual components.");this.updater=this.updater.bind(this),this.property=t,this.eventName=t.replace(jo,"-$1").toLowerCase()+"-changed",this.state.host[this.property]==null&&(typeof i=="function"&&(i=i()),i!=null&&this.updateProp(i))}update(s,e){return[this.state.host[this.property],this.updater]}updater(s){const e=this.state.host[this.property];typeof s=="function"&&(s=s(e)),!Object.is(e,s)&&this.updateProp(s)}updateProp(s){this.notify(s).defaultPrevented||(this.state.host[this.property]=s)}notify(s){const e=new CustomEvent(this.eventName,{detail:{value:s,path:this.property},cancelable:!0});return this.state.host.dispatchEvent(e),e}});function yt(s){return B(()=>({current:s}),[])}xe(class extends be{update(){return this.state.host}});function Uo({render:s}){const e=No(s),t=Io(e);return{component:e,createContext:t}}const ne={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},pe=s=>(...e)=>({_$litDirective$:s,values:e});let ke=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};const nt=(s,e)=>{const t=s._$AN;if(t===void 0)return!1;for(const i of t)i._$AO?.(e,!1),nt(i,e);return!0},Mt=s=>{let e,t;do{if((e=s._$AM)===void 0)break;t=e._$AN,t.delete(s),s=e}while(t?.size===0)},or=s=>{for(let e;e=s._$AM;s=e){let t=e._$AN;if(t===void 0)e._$AN=t=new Set;else if(t.has(s))break;t.add(s),Ko(e)}};function Bo(s){this._$AN!==void 0?(Mt(this),this._$AM=s,or(this)):this._$AM=s}function Ho(s,e=!1,t=0){const i=this._$AH,n=this._$AN;if(n!==void 0&&n.size!==0)if(e)if(Array.isArray(i))for(let r=t;r<i.length;r++)nt(i[r],!1),Mt(i[r]);else i!=null&&(nt(i,!1),Mt(i));else nt(this,s)}const Ko=s=>{s.type==ne.CHILD&&(s._$AP??=Ho,s._$AQ??=Bo)};class ts extends ke{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,i){super._$AT(e,t,i),or(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(nt(this,e),Mt(this))}setValue(e){if(Xn(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}const{component:J,createContext:Jo}=Uo({render:vo});const Wo={},ar=pe(class extends ke{constructor(){super(...arguments),this.ot=Wo}render(s,e){return e()}update(s,[e,t]){if(Array.isArray(e)){if(Array.isArray(this.ot)&&this.ot.length===e.length&&e.every((i,n)=>i===this.ot[n]))return Y}else if(this.ot===e)return Y;return this.ot=Array.isArray(e)?Array.from(e):e,this.render(e,t)}}),_s=new WeakMap,ve=pe(class extends ts{render(s){return ye}update(s,[e]){const t=e!==this.G;return t&&this.G!==void 0&&this.rt(void 0),(t||this.lt!==this.ct)&&(this.G=e,this.ht=s.options?.host,this.rt(this.ct=s.element)),ye}rt(s){if(this.isConnected||(s=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let t=_s.get(e);t===void 0&&(t=new WeakMap,_s.set(e,t)),t.get(this.G)!==void 0&&this.G.call(this.ht,void 0),t.set(this.G,s),s!==void 0&&this.G.call(this.ht,s)}else this.G.value=s}get lt(){return typeof this.G=="function"?_s.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});const lr="important",Yo=" !"+lr,cr=pe(class extends ke{constructor(s){if(super(s),s.type!==ne.ATTRIBUTE||s.name!=="style"||s.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(s){return Object.keys(s).reduce((e,t)=>{const i=s[t];return i==null?e:e+`${t=t.includes("-")?t:t.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${i};`},"")}update(s,[e]){const{style:t}=s.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const i of this.ft)e[i]==null&&(this.ft.delete(i),i.includes("-")?t.removeProperty(i):t[i]=null);for(const i in e){const n=e[i];if(n!=null){this.ft.add(i);const r=typeof n=="string"&&n.endsWith(Yo);i.includes("-")||r?t.setProperty(i,r?n.slice(0,-11):n,r?lr:""):t[i]=n}}return Y}});function se(s,e,t){return s?e(s):t?.(s)}const qo=(s=HTMLElement)=>class extends s{connectedCallback(){super.connectedCallback?.(),this.dispatchEvent(new CustomEvent("connected"))}disconnectedCallback(){super.disconnectedCallback?.(),this.dispatchEvent(new CustomEvent("disconnected"))}},Go=ie`
	:host {
		position: fixed;
		left: -9999999999px;
		min-width: 72px;
		box-sizing: border-box;
		padding: var(--cosmoz-dropdown-spacing, 0px);
		z-index: var(--cosmoz-dropdown-z-index, 2);
		border-radius: var(--cosmoz-dropdown-border-radius, 15px);
	}
	:host(:popover-open) {
		margin: 0;
		border: 0;
		padding: 0;
		overflow: visible;
	}
	.wrap {
		background: var(--cosmoz-dropdown-bg-color, #fff);
		box-shadow: var(
			--cosmoz-dropdown-box-shadow,
			0px 3px 4px 2px rgba(0, 0, 0, 0.1)
		);
		border-radius: var(--cosmoz-dropdown-border-radius, 15px);
	}
	::slotted(*) {
		display: block;
	}
`,Xo=()=>k`<div class="wrap" part="wrap"><slot></slot></div>`;customElements.define("cosmoz-dropdown-content",qo(J(Xo,{styleSheets:[Go]})));const Ve=Math.min,ee=Math.max,jt=Math.round,_t=Math.floor,de=s=>({x:s,y:s}),Qo={left:"right",right:"left",bottom:"top",top:"bottom"},Zo={start:"end",end:"start"};function wi(s,e,t){return ee(s,Ve(e,t))}function ss(s,e){return typeof s=="function"?s(e):s}function Ee(s){return s.split("-")[0]}function is(s){return s.split("-")[1]}function ur(s){return s==="x"?"y":"x"}function hr(s){return s==="y"?"height":"width"}const ea=new Set(["top","bottom"]);function we(s){return ea.has(Ee(s))?"y":"x"}function dr(s){return ur(we(s))}function ta(s,e,t){t===void 0&&(t=!1);const i=is(s),n=dr(s),r=hr(n);let o=n==="x"?i===(t?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(o=Vt(o)),[o,Vt(o)]}function sa(s){const e=Vt(s);return[Ms(s),e,Ms(e)]}function Ms(s){return s.replace(/start|end/g,e=>Zo[e])}const vi=["left","right"],_i=["right","left"],ia=["top","bottom"],na=["bottom","top"];function ra(s,e,t){switch(s){case"top":case"bottom":return t?e?_i:vi:e?vi:_i;case"left":case"right":return e?ia:na;default:return[]}}function oa(s,e,t,i){const n=is(s);let r=ra(Ee(s),t==="start",i);return n&&(r=r.map(o=>o+"-"+n),e&&(r=r.concat(r.map(Ms)))),r}function Vt(s){return s.replace(/left|right|bottom|top/g,e=>Qo[e])}function aa(s){return{top:0,right:0,bottom:0,left:0,...s}}function la(s){return typeof s!="number"?aa(s):{top:s,right:s,bottom:s,left:s}}function Ut(s){const{x:e,y:t,width:i,height:n}=s;return{width:i,height:n,top:t,left:e,right:e+i,bottom:t+n,x:e,y:t}}function Si(s,e,t){let{reference:i,floating:n}=s;const r=we(e),o=dr(e),a=hr(o),l=Ee(e),c=r==="y",u=i.x+i.width/2-n.width/2,h=i.y+i.height/2-n.height/2,d=i[a]/2-n[a]/2;let f;switch(l){case"top":f={x:u,y:i.y-n.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:h};break;case"left":f={x:i.x-n.width,y:h};break;default:f={x:i.x,y:i.y}}switch(is(e)){case"start":f[o]-=d*(t&&c?-1:1);break;case"end":f[o]+=d*(t&&c?-1:1);break}return f}async function ca(s,e){var t;e===void 0&&(e={});const{x:i,y:n,platform:r,rects:o,elements:a,strategy:l}=s,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=ss(e,s),p=la(f),m=a[d?h==="floating"?"reference":"floating":h],y=Ut(await r.getClippingRect({element:(t=await(r.isElement==null?void 0:r.isElement(m)))==null||t?m:m.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=h==="floating"?{x:i,y:n,width:o.floating.width,height:o.floating.height}:o.reference,w=await(r.getOffsetParent==null?void 0:r.getOffsetParent(a.floating)),x=await(r.isElement==null?void 0:r.isElement(w))?await(r.getScale==null?void 0:r.getScale(w))||{x:1,y:1}:{x:1,y:1},v=Ut(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:w,strategy:l}):b);return{top:(y.top-v.top+p.top)/x.y,bottom:(v.bottom-y.bottom+p.bottom)/x.y,left:(y.left-v.left+p.left)/x.x,right:(v.right-y.right+p.right)/x.x}}const ua=async(s,e,t)=>{const{placement:i="bottom",strategy:n="absolute",middleware:r=[],platform:o}=t,a=r.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:s,floating:e,strategy:n}),{x:u,y:h}=Si(c,i,l),d=i,f={},p=0;for(let m=0;m<a.length;m++){var g;const{name:y,fn:b}=a[m],{x:w,y:x,data:v,reset:S}=await b({x:u,y:h,initialPlacement:i,placement:d,strategy:n,middlewareData:f,rects:c,platform:{...o,detectOverflow:(g=o.detectOverflow)!=null?g:ca},elements:{reference:s,floating:e}});u=w??u,h=x??h,f={...f,[y]:{...f[y],...v}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:s,floating:e,strategy:n}):S.rects),{x:u,y:h}=Si(c,d,l)),m=-1)}return{x:u,y:h,placement:d,strategy:n,middlewareData:f}},ha=function(s){return s===void 0&&(s={}),{name:"flip",options:s,async fn(e){var t,i;const{placement:n,middlewareData:r,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=ss(s,e);if((t=r.arrow)!=null&&t.alignmentOffset)return{};const y=Ee(n),b=we(a),w=Ee(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(c.floating)),v=d||(w||!g?[Vt(a)]:sa(a)),S=p!=="none";!d&&S&&v.push(...oa(a,g,p,x));const _=[a,...v],z=await l.detectOverflow(e,m),N=[];let R=((i=r.flip)==null?void 0:i.overflows)||[];if(u&&N.push(z[y]),h){const E=ta(n,o,x);N.push(z[E[0]],z[E[1]])}if(R=[...R,{placement:n,overflows:N}],!N.every(E=>E<=0)){var V,Q;const E=(((V=r.flip)==null?void 0:V.index)||0)+1,I=_[E];if(I&&(!(h==="alignment"?b!==we(I):!1)||R.every(C=>we(C.placement)===b?C.overflows[0]>0:!0)))return{data:{index:E,overflows:R},reset:{placement:I}};let D=(Q=R.filter($=>$.overflows[0]<=0).sort(($,C)=>$.overflows[1]-C.overflows[1])[0])==null?void 0:Q.placement;if(!D)switch(f){case"bestFit":{var j;const $=(j=R.filter(C=>{if(S){const A=we(C.placement);return A===b||A==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(A=>A>0).reduce((A,K)=>A+K,0)]).sort((C,A)=>C[1]-A[1])[0])==null?void 0:j[0];$&&(D=$);break}case"initialPlacement":D=a;break}if(n!==D)return{reset:{placement:D}}}return{}}}},da=function(s){return s===void 0&&(s={}),{name:"shift",options:s,async fn(e){const{x:t,y:i,placement:n,platform:r}=e,{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...c}=ss(s,e),u={x:t,y:i},h=await r.detectOverflow(e,c),d=we(Ee(n)),f=ur(d);let p=u[f],g=u[d];if(o){const y=f==="y"?"top":"left",b=f==="y"?"bottom":"right",w=p+h[y],x=p-h[b];p=wi(w,p,x)}if(a){const y=d==="y"?"top":"left",b=d==="y"?"bottom":"right",w=g+h[y],x=g-h[b];g=wi(w,g,x)}const m=l.fn({...e,[f]:p,[d]:g});return{...m,data:{x:m.x-t,y:m.y-i,enabled:{[f]:o,[d]:a}}}}}},fa=function(s){return s===void 0&&(s={}),{name:"size",options:s,async fn(e){var t,i;const{placement:n,rects:r,platform:o,elements:a}=e,{apply:l=()=>{},...c}=ss(s,e),u=await o.detectOverflow(e,c),h=Ee(n),d=is(n),f=we(n)==="y",{width:p,height:g}=r.floating;let m,y;h==="top"||h==="bottom"?(m=h,y=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(y=h,m=d==="end"?"top":"bottom");const b=g-u.top-u.bottom,w=p-u.left-u.right,x=Ve(g-u[m],b),v=Ve(p-u[y],w),S=!e.middlewareData.shift;let _=x,z=v;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(z=w),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(_=b),S&&!d){const R=ee(u.left,0),V=ee(u.right,0),Q=ee(u.top,0),j=ee(u.bottom,0);f?z=p-2*(R!==0||V!==0?R+V:ee(u.left,u.right)):_=g-2*(Q!==0||j!==0?Q+j:ee(u.top,u.bottom))}await l({...e,availableWidth:z,availableHeight:_});const N=await o.getDimensions(a.floating);return p!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function ns(){return typeof window<"u"}function He(s){return fr(s)?(s.nodeName||"").toLowerCase():"#document"}function te(s){var e;return(s==null||(e=s.ownerDocument)==null?void 0:e.defaultView)||window}function ge(s){var e;return(e=(fr(s)?s.ownerDocument:s.document)||window.document)==null?void 0:e.documentElement}function fr(s){return ns()?s instanceof Node||s instanceof te(s).Node:!1}function re(s){return ns()?s instanceof Element||s instanceof te(s).Element:!1}function fe(s){return ns()?s instanceof HTMLElement||s instanceof te(s).HTMLElement:!1}function Ci(s){return!ns()||typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof te(s).ShadowRoot}const pa=new Set(["inline","contents"]);function bt(s){const{overflow:e,overflowX:t,overflowY:i,display:n}=oe(s);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!pa.has(n)}const ga=new Set(["table","td","th"]);function ma(s){return ga.has(He(s))}const ya=[":popover-open",":modal"];function rs(s){return ya.some(e=>{try{return s.matches(e)}catch{return!1}})}const ba=["transform","translate","scale","rotate","perspective"],xa=["transform","translate","scale","rotate","perspective","filter"],wa=["paint","layout","strict","content"];function ri(s){const e=oi(),t=re(s)?oe(s):s;return ba.some(i=>t[i]?t[i]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||xa.some(i=>(t.willChange||"").includes(i))||wa.some(i=>(t.contain||"").includes(i))}function va(s){let e=_e(s);for(;fe(e)&&!Ue(e);){if(ri(e))return e;if(rs(e))return null;e=_e(e)}return null}function oi(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _a=new Set(["html","body","#document"]);function Ue(s){return _a.has(He(s))}function oe(s){return te(s).getComputedStyle(s)}function os(s){return re(s)?{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}:{scrollLeft:s.scrollX,scrollTop:s.scrollY}}function _e(s){if(He(s)==="html")return s;const e=s.assignedSlot||s.parentNode||Ci(s)&&s.host||ge(s);return Ci(e)?e.host:e}function pr(s){const e=_e(s);return Ue(e)?s.ownerDocument?s.ownerDocument.body:s.body:fe(e)&&bt(e)?e:pr(e)}function ut(s,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const n=pr(s),r=n===((i=s.ownerDocument)==null?void 0:i.body),o=te(n);if(r){const a=js(o);return e.concat(o,o.visualViewport||[],bt(n)?n:[],a&&t?ut(a):[])}return e.concat(n,ut(n,[],t))}function js(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}function gr(s){const e=oe(s);let t=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const n=fe(s),r=n?s.offsetWidth:t,o=n?s.offsetHeight:i,a=jt(t)!==r||jt(i)!==o;return a&&(t=r,i=o),{width:t,height:i,$:a}}function ai(s){return re(s)?s:s.contextElement}function Me(s){const e=ai(s);if(!fe(e))return de(1);const t=e.getBoundingClientRect(),{width:i,height:n,$:r}=gr(e);let o=(r?jt(t.width):t.width)/i,a=(r?jt(t.height):t.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Sa=de(0);function mr(s){const e=te(s);return!oi()||!e.visualViewport?Sa:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ca(s,e,t){return e===void 0&&(e=!1),!t||e&&t!==te(s)?!1:e}function $e(s,e,t,i){e===void 0&&(e=!1),t===void 0&&(t=!1);const n=s.getBoundingClientRect(),r=ai(s);let o=de(1);e&&(i?re(i)&&(o=Me(i)):o=Me(s));const a=Ca(r,t,i)?mr(r):de(0);let l=(n.left+a.x)/o.x,c=(n.top+a.y)/o.y,u=n.width/o.x,h=n.height/o.y;if(r){const d=te(r),f=i&&re(i)?te(i):i;let p=d,g=js(p);for(;g&&i&&f!==p;){const m=Me(g),y=g.getBoundingClientRect(),b=oe(g),w=y.left+(g.clientLeft+parseFloat(b.paddingLeft))*m.x,x=y.top+(g.clientTop+parseFloat(b.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,h*=m.y,l+=w,c+=x,p=te(g),g=js(p)}}return Ut({width:u,height:h,x:l,y:c})}function as(s,e){const t=os(s).scrollLeft;return e?e.left+t:$e(ge(s)).left+t}function yr(s,e){const t=s.getBoundingClientRect(),i=t.left+e.scrollLeft-as(s,t),n=t.top+e.scrollTop;return{x:i,y:n}}function Pa(s){let{elements:e,rect:t,offsetParent:i,strategy:n}=s;const r=n==="fixed",o=ge(i),a=e?rs(e.floating):!1;if(i===o||a&&r)return t;let l={scrollLeft:0,scrollTop:0},c=de(1);const u=de(0),h=fe(i);if((h||!h&&!r)&&((He(i)!=="body"||bt(o))&&(l=os(i)),fe(i))){const f=$e(i);c=Me(i),u.x=f.x+i.clientLeft,u.y=f.y+i.clientTop}const d=o&&!h&&!r?yr(o,l):de(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+u.x+d.x,y:t.y*c.y-l.scrollTop*c.y+u.y+d.y}}function Oa(s){return Array.from(s.getClientRects())}function La(s){const e=ge(s),t=os(s),i=s.ownerDocument.body,n=ee(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),r=ee(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-t.scrollLeft+as(s);const a=-t.scrollTop;return oe(i).direction==="rtl"&&(o+=ee(e.clientWidth,i.clientWidth)-n),{width:n,height:r,x:o,y:a}}const Pi=25;function Ea(s,e){const t=te(s),i=ge(s),n=t.visualViewport;let r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){r=n.width,o=n.height;const u=oi();(!u||u&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}const c=as(i);if(c<=0){const u=i.ownerDocument,h=u.body,d=getComputedStyle(h),f=u.compatMode==="CSS1Compat"&&parseFloat(d.marginLeft)+parseFloat(d.marginRight)||0,p=Math.abs(i.clientWidth-h.clientWidth-f);p<=Pi&&(r-=p)}else c<=Pi&&(r+=c);return{width:r,height:o,x:a,y:l}}const $a=new Set(["absolute","fixed"]);function Ra(s,e){const t=$e(s,!0,e==="fixed"),i=t.top+s.clientTop,n=t.left+s.clientLeft,r=fe(s)?Me(s):de(1),o=s.clientWidth*r.x,a=s.clientHeight*r.y,l=n*r.x,c=i*r.y;return{width:o,height:a,x:l,y:c}}function Oi(s,e,t){let i;if(e==="viewport")i=Ea(s,t);else if(e==="document")i=La(ge(s));else if(re(e))i=Ra(e,t);else{const n=mr(s);i={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return Ut(i)}function br(s,e){const t=_e(s);return t===e||!re(t)||Ue(t)?!1:oe(t).position==="fixed"||br(t,e)}function ka(s,e){const t=e.get(s);if(t)return t;let i=ut(s,[],!1).filter(a=>re(a)&&He(a)!=="body"),n=null;const r=oe(s).position==="fixed";let o=r?_e(s):s;for(;re(o)&&!Ue(o);){const a=oe(o),l=ri(o);!l&&a.position==="fixed"&&(n=null),(r?!l&&!n:!l&&a.position==="static"&&!!n&&$a.has(n.position)||bt(o)&&!l&&br(s,o))?i=i.filter(u=>u!==o):n=a,o=_e(o)}return e.set(s,i),i}function Ta(s){let{element:e,boundary:t,rootBoundary:i,strategy:n}=s;const o=[...t==="clippingAncestors"?rs(e)?[]:ka(e,this._c):[].concat(t),i],a=o[0],l=o.reduce((c,u)=>{const h=Oi(e,u,n);return c.top=ee(h.top,c.top),c.right=Ve(h.right,c.right),c.bottom=Ve(h.bottom,c.bottom),c.left=ee(h.left,c.left),c},Oi(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Aa(s){const{width:e,height:t}=gr(s);return{width:e,height:t}}function Na(s,e,t){const i=fe(e),n=ge(e),r=t==="fixed",o=$e(s,!0,r,e);let a={scrollLeft:0,scrollTop:0};const l=de(0);function c(){l.x=as(n)}if(i||!i&&!r)if((He(e)!=="body"||bt(n))&&(a=os(e)),i){const f=$e(e,!0,r,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else n&&c();r&&!i&&n&&c();const u=n&&!i&&!r?yr(n,a):de(0),h=o.left+a.scrollLeft-l.x-u.x,d=o.top+a.scrollTop-l.y-u.y;return{x:h,y:d,width:o.width,height:o.height}}function Ss(s){return oe(s).position==="static"}function Li(s,e){if(!fe(s)||oe(s).position==="fixed")return null;if(e)return e(s);let t=s.offsetParent;return ge(s)===t&&(t=t.ownerDocument.body),t}function xr(s,e){const t=te(s);if(rs(s))return t;if(!fe(s)){let n=_e(s);for(;n&&!Ue(n);){if(re(n)&&!Ss(n))return n;n=_e(n)}return t}let i=Li(s,e);for(;i&&ma(i)&&Ss(i);)i=Li(i,e);return i&&Ue(i)&&Ss(i)&&!ri(i)?t:i||va(s)||t}const za=async function(s){const e=this.getOffsetParent||xr,t=this.getDimensions,i=await t(s.floating);return{reference:Na(s.reference,await e(s.floating),s.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function Fa(s){return oe(s).direction==="rtl"}const Ia={convertOffsetParentRelativeRectToViewportRelativeRect:Pa,getDocumentElement:ge,getClippingRect:Ta,getOffsetParent:xr,getElementRects:za,getClientRects:Oa,getDimensions:Aa,getScale:Me,isElement:re,isRTL:Fa};function wr(s,e){return s.x===e.x&&s.y===e.y&&s.width===e.width&&s.height===e.height}function Da(s,e){let t=null,i;const n=ge(s);function r(){var a;clearTimeout(i),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),r();const c=s.getBoundingClientRect(),{left:u,top:h,width:d,height:f}=c;if(a||e(),!d||!f)return;const p=_t(h),g=_t(n.clientWidth-(u+d)),m=_t(n.clientHeight-(h+f)),y=_t(u),w={rootMargin:-p+"px "+-g+"px "+-m+"px "+-y+"px",threshold:ee(0,Ve(1,l))||1};let x=!0;function v(S){const _=S[0].intersectionRatio;if(_!==l){if(!x)return o();_?o(!1,_):i=setTimeout(()=>{o(!1,1e-7)},1e3)}_===1&&!wr(c,s.getBoundingClientRect())&&o(),x=!1}try{t=new IntersectionObserver(v,{...w,root:n.ownerDocument})}catch{t=new IntersectionObserver(v,w)}t.observe(s)}return o(!0),r}function Ma(s,e,t,i){i===void 0&&(i={});const{ancestorScroll:n=!0,ancestorResize:r=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=ai(s),u=n||r?[...c?ut(c):[],...ut(e)]:[];u.forEach(y=>{n&&y.addEventListener("scroll",t,{passive:!0}),r&&y.addEventListener("resize",t)});const h=c&&a?Da(c,t):null;let d=-1,f=null;o&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let p,g=l?$e(s):null;l&&m();function m(){const y=$e(s);g&&!wr(g,y)&&t(),g=y,p=requestAnimationFrame(m)}return t(),()=>{var y;u.forEach(b=>{n&&b.removeEventListener("scroll",t),r&&b.removeEventListener("resize",t)}),h?.(),(y=f)==null||y.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const ja=da,Va=ha,Ua=fa,Ba=(s,e,t)=>{const i=new Map,n={platform:Ia,...t},r={...n.platform,_c:i};return ua(s,e,{...n,platform:r})},vr=[Va({fallbackAxisSideDirection:"start",crossAxis:!1}),ja()],_r=({placement:s="bottom-start",strategy:e,middleware:t=vr}={})=>{const[i,n]=he(),[r,o]=he(),[a,l]=he();return F(()=>{if(!i||!(r instanceof HTMLElement)){l(void 0);return}return Ma(i,r,()=>Ba(i,r,{placement:s,strategy:e,middleware:t}).then(l))},[i,r,s,e,t]),{setReference:n,setFloating:o,styles:B(()=>a?{left:`${a.x}px`,top:`${a.y}px`}:{},[a?.x,a?.y])}},Ke=s=>{const e=B(()=>({}),[]);return B(()=>Object.assign(e,s),[e,...Object.values(s)])},Ei=s=>s.matches(":focus-within"),Sr=({disabled:s,onFocus:e})=>{const[t,i]=he(),{focused:n,closed:r}=t||{},o=n&&!s,a=Ke({closed:r,onFocus:e}),l=U(u=>i(h=>({...h,closed:u})),[]),c=U(u=>{const h=u.currentTarget;return Ei(h)?i(d=>({focused:!0,closed:!d?.closed})):h.focus()},[]);return F(()=>{if(!o)return;const u=h=>{if(h.defaultPrevented)return;const{closed:d}=a;h.key==="Escape"&&!d?(h.preventDefault(),l(!0)):["ArrowUp","Up"].includes(h.key)&&d&&(h.preventDefault(),l(!1))};return document.addEventListener("keydown",u,!0),()=>document.removeEventListener("keydown",u,!0)},[o]),{focused:o,active:o&&!r,setClosed:l,onToggle:c,onFocus:U(u=>{const h=Ei(u.currentTarget);i({focused:h}),a.onFocus?.(h)},[a])}},$i=["focusin","focusout"],Ha=s=>{const e=Sr(s),{onFocus:t}=e;return F(()=>(s.setAttribute("tabindex","0"),$i.forEach(i=>s.addEventListener(i,t)),()=>{$i.forEach(i=>s.removeEventListener(i,t))}),[]),e},Ka=s=>s.preventDefault(),Ja=ie`
	.anchor {
		pointer-events: none;
		padding: var(--cosmoz-dropdown-anchor-spacing);
	}
	button {
		pointer-events: auto;
		border: none;
		cursor: pointer;
		background: transparent;
		padding: 0;
	}
	::slotted(svg) {
		pointer-events: none;
	}
	@-moz-document url-prefix() {
		#content {
			left: auto;
		}
	}
`,Wa=s=>{const{placement:e,strategy:t,middleware:i,render:n}=s,{active:r,onToggle:o}=Ha(s),{styles:a,setReference:l,setFloating:c}=_r({placement:e,strategy:t,middleware:i});return k` <div class="anchor" part="anchor" ${ve(l)}>
			<button
				@mousedown=${Ka}
				@click=${o}
				part="button"
				id="dropdownButton"
			>
				<slot name="button">...</slot>
			</button>
		</div>
		${se(r,()=>k`<cosmoz-dropdown-content
					popover
					id="content"
					part="content"
					exportparts="wrap, content"
					style="${cr(a)}"
					@connected=${u=>u.target.showPopover?.()}
					${ve(c)}
					><slot></slot>${ar([n],()=>n?.()||ye)}</cosmoz-dropdown-content
				> `)}`};customElements.define("cosmoz-dropdown",J(Wa,{styleSheets:[Ja]}));const Ya=ie`
	:host {
		display: contents;
		max-height: var(--cosmoz-dropdown-menu-max-height, calc(96vh - 64px));
		overflow-y: auto;
		border-radius: var(--cosmoz-dropdown-border-radius, 15px);
	}
	::slotted(:not(slot)) {
		display: block;
		--paper-button_-_display: block;
		box-sizing: border-box;
		padding: 10px 24px;
		background: var(--cosmoz-dropdown-menu-bg-color, transparent);
		color: var(--cosmoz-dropdown-menu-color, #101010);
		transition:
			background 0.25s,
			color 0.25s;
		border: none;
		cursor: pointer;
		font-size: 14px;
		line-height: 20px;
		text-align: left;
		margin: 0;
		width: 100%;
	}

	::slotted(:not(slot):hover) {
		background: var(
			--cosmoz-dropdown-menu-hover-color,
			var(--cosmoz-selection-color, rgba(58, 145, 226, 0.1))
		);
	}

	::slotted(:not(slot)[disabled]) {
		opacity: 0.5;
		pointer-events: none;
	}
`,qa=()=>k` <slot></slot> `;customElements.define("cosmoz-dropdown-list",J(qa,{styleSheets:[Ya]}));const Ga=({placement:s})=>k` <cosmoz-dropdown
		.placement=${s}
		part="dropdown"
		exportparts="anchor, button, content, wrap, dropdown"
	>
		<slot name="button" slot="button"></slot>
		<cosmoz-dropdown-list><slot></slot></cosmoz-dropdown-list>
	</cosmoz-dropdown>`;customElements.define("cosmoz-dropdown-menu",J(Ga));const Xa=({host:s,popoverRef:e,openOnHover:t,openOnFocus:i,open:n,close:r})=>{const o=yt(),a=()=>clearTimeout(o.current),l=()=>{clearTimeout(o.current),o.current=setTimeout(()=>{const u=e.current;t&&(s.matches(":hover")||u?.matches(":hover"))||i&&(s.matches(":focus-within")||u?.matches(":focus-within"))||r()},100)},c=()=>{a(),n()};F(()=>{if(t)return s.addEventListener("pointerenter",c),s.addEventListener("pointerleave",l),()=>{a(),s.removeEventListener("pointerenter",c),s.removeEventListener("pointerleave",l)}},[t,s]),F(()=>{if(i)return s.addEventListener("focusin",c),s.addEventListener("focusout",l),()=>{a(),s.removeEventListener("focusin",c),s.removeEventListener("focusout",l)}},[i,s])},Qa=s=>{if(s.newState!=="open")return;const i=s.target.querySelector("slot:not([name])")?.assignedElements({flatten:!0})??[];for(const n of i){const r=n.matches("[autofocus]")?n:n.querySelector("[autofocus]");if(r instanceof HTMLElement){r.focus();break}}},Za=ie`
	:host {
		display: inline-block;
		anchor-name: --dropdown-anchor;
	}

	[popover] {
		position: fixed;
		position-anchor: --dropdown-anchor;
		inset: unset;
		margin: var(--cz-spacing, 0.25rem);
		position-try-fallbacks:
			flip-block,
			flip-inline,
			flip-block flip-inline;

		border: none;
		padding: 0;
		background: transparent;
		overflow: visible;

		/* Animation - open state */
		opacity: 1;
		transform: translateY(0) scale(1);

		/* Transitions for smooth open/close animation */
		transition:
			opacity 150ms ease-out,
			transform 150ms ease-out,
			overlay 150ms ease-out allow-discrete,
			display 150ms ease-out allow-discrete;
	}

	/* Starting state when popover opens */
	@starting-style {
		[popover]:popover-open {
			opacity: 0;
			transform: translateY(-4px) scale(0.96);
		}
	}

	/* Closing state */
	[popover]:not(:popover-open) {
		opacity: 0;
		transform: translateY(-4px) scale(0.96);
	}

	@media (prefers-reduced-motion: reduce) {
		[popover] {
			transition: none;
		}
	}
`,el=s=>{const{placement:e="bottom span-right",openOnHover:t,openOnFocus:i}=s,n=yt(),r=()=>n.current?.showPopover(),o=()=>n.current?.hidePopover(),a=()=>n.current?.togglePopover();return Xa({host:s,popoverRef:n,openOnHover:t,openOnFocus:i,open:r,close:o}),k`
		<slot name="button" @click=${a}></slot>
		<div
			popover
			style="position-area: ${e}"
			@toggle=${Qa}
			@select=${o}
			${ve(l=>l&&(n.current=l))}
		>
			<slot></slot>
		</div>
	`};customElements.define("cosmoz-dropdown-next",J(el,{styleSheets:[Za],observedAttributes:["placement","open-on-hover","open-on-focus"],shadowRootInit:{mode:"open",delegatesFocus:!0}}));function tl(s){return()=>s}const sl=tl(),Cr=sl,Be=s=>s,af=(s,...e)=>typeof s=="function"?s(...e):s,Pr=Jo(()=>Cr);customElements.define("cosmoz-keybinding-provider",Pr.Provider);const il=(s,e)=>{const t=rr(Pr),i=Ke(s);F(()=>t(i),e)};window.JSCompiler_renameProperty=function(s,e){return s};let nl=/(url\()([^)]*)(\))/g,rl=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/,St,Z;function rt(s,e){if(s&&rl.test(s)||s==="//")return s;if(St===void 0){St=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",St=t.href==="http://a/c%20d"}catch{}}if(e||(e=document.baseURI||window.location.href),St)try{return new URL(s,e).href}catch{return s}return Z||(Z=document.implementation.createHTMLDocument("temp"),Z.base=Z.createElement("base"),Z.head.appendChild(Z.base),Z.anchor=Z.createElement("a"),Z.body.appendChild(Z.anchor)),Z.base.href=e,Z.anchor.href=s,Z.anchor.href||s}function li(s,e){return s.replace(nl,function(t,i,n,r){return i+"'"+rt(n.replace(/["']/g,""),e)+"'"+r})}function ci(s){return s.substring(0,s.lastIndexOf("/")+1)}const ol=!window.ShadyDOM||!window.ShadyDOM.inUse;!window.ShadyCSS||window.ShadyCSS.nativeCss;const al=ol&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const s=new CSSStyleSheet;s.replaceSync("");const e=document.createElement("div");return e.attachShadow({mode:"open"}),e.shadowRoot.adoptedStyleSheets=[s],e.shadowRoot.adoptedStyleSheets[0]===s}catch{return!1}})();let ll=window.Polymer&&window.Polymer.rootPath||ci(document.baseURI||window.location.href),Bt=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0;window.Polymer&&window.Polymer.setPassiveTouchGestures;let Vs=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,cl=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,ul=window.Polymer&&window.Polymer.legacyOptimizations||!1,hl=window.Polymer&&window.Polymer.legacyWarnings||!1,dl=window.Polymer&&window.Polymer.syncInitialRender||!1,Us=window.Polymer&&window.Polymer.legacyUndefined||!1,fl=window.Polymer&&window.Polymer.orderedComputed||!1,Ri=window.Polymer&&window.Polymer.removeNestedTemplates||!1,pl=window.Polymer&&window.Polymer.fastDomIf||!1;window.Polymer&&window.Polymer.suppressTemplateNotifications;window.Polymer&&window.Polymer.legacyNoObservedAttributes;let gl=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1;let ml=0;const Te=function(s){let e=s.__mixinApplications;e||(e=new WeakMap,s.__mixinApplications=e);let t=ml++;function i(n){let r=n.__mixinSet;if(r&&r[t])return n;let o=e,a=o.get(n);if(!a){a=s(n),o.set(n,a);let l=Object.create(a.__mixinSet||r||null);l[t]=!0,a.__mixinSet=l}return a}return i};let ui={},Or={};function ki(s,e){ui[s]=Or[s.toLowerCase()]=e}function Ti(s){return ui[s]||Or[s.toLowerCase()]}function yl(s){s.querySelector("style")&&console.warn("dom-module %s has style outside template",s.id)}class ht extends HTMLElement{static get observedAttributes(){return["id"]}static import(e,t){if(e){let i=Ti(e);return i&&t?i.querySelector(t):i}return null}attributeChangedCallback(e,t,i,n){t!==i&&this.register()}get assetpath(){if(!this.__assetpath){const e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,t=rt(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=ci(t)}return this.__assetpath}register(e){if(e=e||this.id,e){if(Vs&&Ti(e)!==void 0)throw ki(e,null),new Error(`strictTemplatePolicy: dom-module ${e} re-registered`);this.id=e,ki(e,this),yl(this)}}}ht.prototype.modules=ui;customElements.define("dom-module",ht);const bl="link[rel=import][type~=css]",xl="include",Ai="shady-unscoped";function Lr(s){return ht.import(s)}function Ni(s){let e=s.body?s.body:s;const t=li(e.textContent,s.baseURI),i=document.createElement("style");return i.textContent=t,i}function wl(s){const e=s.trim().split(/\s+/),t=[];for(let i=0;i<e.length;i++)t.push(...vl(e[i]));return t}function vl(s){const e=Lr(s);if(!e)return console.warn("Could not find style data in module named",s),[];if(e._styles===void 0){const t=[];t.push(...$r(e));const i=e.querySelector("template");i&&t.push(...Er(i,e.assetpath)),e._styles=t}return e._styles}function Er(s,e){if(!s._styles){const t=[],i=s.content.querySelectorAll("style");for(let n=0;n<i.length;n++){let r=i[n],o=r.getAttribute(xl);o&&t.push(...wl(o).filter(function(a,l,c){return c.indexOf(a)===l})),e&&(r.textContent=li(r.textContent,e)),t.push(r)}s._styles=t}return s._styles}function _l(s){let e=Lr(s);return e?$r(e):[]}function $r(s){const e=[],t=s.querySelectorAll(bl);for(let i=0;i<t.length;i++){let n=t[i];if(n.import){const r=n.import,o=n.hasAttribute(Ai);if(o&&!r._unscopedStyle){const a=Ni(r);a.setAttribute(Ai,""),r._unscopedStyle=a}else r._style||(r._style=Ni(r));e.push(o?r._unscopedStyle:r._style)}}return e}const Oe=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?s=>ShadyDOM.patch(s):s=>s;function Bs(s){return s.indexOf(".")>=0}function Ae(s){let e=s.indexOf(".");return e===-1?s:s.slice(0,e)}function Sl(s,e){return s.indexOf(e+".")===0}function Ht(s,e){return e.indexOf(s+".")===0}function Kt(s,e,t){return e+t.slice(s.length)}function tt(s){if(Array.isArray(s)){let e=[];for(let t=0;t<s.length;t++){let i=s[t].toString().split(".");for(let n=0;n<i.length;n++)e.push(i[n])}return e.join(".")}else return s}function Rr(s){return Array.isArray(s)?tt(s).split("."):s.toString().split(".")}function G(s,e,t){let i=s,n=Rr(e);for(let r=0;r<n.length;r++){if(!i)return;let o=n[r];i=i[o]}return t&&(t.path=n.join(".")),i}function zi(s,e,t){let i=s,n=Rr(e),r=n[n.length-1];if(n.length>1){for(let o=0;o<n.length-1;o++){let a=n[o];if(i=i[a],!i)return}i[r]=t}else i[e]=t;return n.join(".")}const Jt={},Cl=/-[a-z]/g,Pl=/([A-Z])/g;function kr(s){return Jt[s]||(Jt[s]=s.indexOf("-")<0?s:s.replace(Cl,e=>e[1].toUpperCase()))}function ls(s){return Jt[s]||(Jt[s]=s.replace(Pl,"-$1").toLowerCase())}let Ol=0,Tr=0,je=[],Ll=0,Hs=!1,Ar=document.createTextNode("");new window.MutationObserver(El).observe(Ar,{characterData:!0});function El(){Hs=!1;const s=je.length;for(let e=0;e<s;e++){let t=je[e];if(t)try{t()}catch(i){setTimeout(()=>{throw i})}}je.splice(0,s),Tr+=s}const lf={after(s){return{run(e){return window.setTimeout(e,s)},cancel(e){window.clearTimeout(e)}}},run(s,e){return window.setTimeout(s,e)},cancel(s){window.clearTimeout(s)}},$l={run(s){return Hs||(Hs=!0,Ar.textContent=Ll++),je.push(s),Ol++},cancel(s){const e=s-Tr;if(e>=0){if(!je[e])throw new Error("invalid async handle: "+s);je[e]=null}}};const Rl=$l,Nr=Te(s=>{class e extends s{static createProperties(i){const n=this.prototype;for(let r in i)r in n||n._createPropertyAccessor(r)}static attributeNameForProperty(i){return i.toLowerCase()}static typeForProperty(i){}_createPropertyAccessor(i,n){this._addPropertyToAttributeMap(i),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[i]||(this.__dataHasAccessor[i]=!0,this._definePropertyAccessor(i,n))}_addPropertyToAttributeMap(i){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let n=this.__dataAttributes[i];return n||(n=this.constructor.attributeNameForProperty(i),this.__dataAttributes[n]=i),n}_definePropertyAccessor(i,n){Object.defineProperty(this,i,{get(){return this.__data[i]},set:n?function(){}:function(r){this._setPendingProperty(i,r,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let i in this.__dataHasAccessor)this.hasOwnProperty(i)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[i]=this[i],delete this[i])}_initializeInstanceProperties(i){Object.assign(this,i)}_setProperty(i,n){this._setPendingProperty(i,n)&&this._invalidateProperties()}_getProperty(i){return this.__data[i]}_setPendingProperty(i,n,r){let o=this.__data[i],a=this._shouldPropertyChange(i,n,o);return a&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(i in this.__dataOld)&&(this.__dataOld[i]=o),this.__data[i]=n,this.__dataPending[i]=n),a}_isPropertyPending(i){return!!(this.__dataPending&&this.__dataPending.hasOwnProperty(i))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,Rl.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const i=this.__data,n=this.__dataPending,r=this.__dataOld;this._shouldPropertiesChange(i,n,r)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(i,n,r)),this.__dataCounter--}_shouldPropertiesChange(i,n,r){return!!n}_propertiesChanged(i,n,r){}_shouldPropertyChange(i,n,r){return r!==n&&(r===r||n===n)}attributeChangedCallback(i,n,r,o){n!==r&&this._attributeToProperty(i,r),super.attributeChangedCallback&&super.attributeChangedCallback(i,n,r,o)}_attributeToProperty(i,n,r){if(!this.__serializing){const o=this.__dataAttributes,a=o&&o[i]||i;this[a]=this._deserializeValue(n,r||this.constructor.typeForProperty(a))}}_propertyToAttribute(i,n,r){this.__serializing=!0,r=arguments.length<3?this[i]:r,this._valueToNodeAttribute(this,r,n||this.constructor.attributeNameForProperty(i)),this.__serializing=!1}_valueToNodeAttribute(i,n,r){const o=this._serializeValue(n);(r==="class"||r==="name"||r==="slot")&&(i=Oe(i)),o===void 0?i.removeAttribute(r):i.setAttribute(r,o===""&&window.trustedTypes?window.trustedTypes.emptyScript:o)}_serializeValue(i){return typeof i==="boolean"?i?"":void 0:i?.toString()}_deserializeValue(i,n){switch(n){case Boolean:return i!==null;case Number:return Number(i);default:return i}}}return e});const zr={};let Ct=HTMLElement.prototype;for(;Ct;){let s=Object.getOwnPropertyNames(Ct);for(let e=0;e<s.length;e++)zr[s[e]]=!0;Ct=Object.getPrototypeOf(Ct)}const kl=window.trustedTypes?s=>trustedTypes.isHTML(s)||trustedTypes.isScript(s)||trustedTypes.isScriptURL(s):()=>!1;function Tl(s,e){if(!zr[e]){let t=s[e];t!==void 0&&(s.__data?s._setPendingProperty(e,t):(s.__dataProto?s.hasOwnProperty(JSCompiler_renameProperty("__dataProto",s))||(s.__dataProto=Object.create(s.__dataProto)):s.__dataProto={},s.__dataProto[e]=t))}}const Al=Te(s=>{const e=Nr(s);class t extends e{static createPropertiesForAttributes(){let n=this.observedAttributes;for(let r=0;r<n.length;r++)this.prototype._createPropertyAccessor(kr(n[r]))}static attributeNameForProperty(n){return ls(n)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(n){for(let r in n)this._setProperty(r,n[r])}_ensureAttribute(n,r){const o=this;o.hasAttribute(n)||this._valueToNodeAttribute(o,r,n)}_serializeValue(n){switch(typeof n){case"object":if(n instanceof Date)return n.toString();if(n){if(kl(n))return n;try{return JSON.stringify(n)}catch{return""}}default:return super._serializeValue(n)}}_deserializeValue(n,r){let o;switch(r){case Object:try{o=JSON.parse(n)}catch{o=n}break;case Array:try{o=JSON.parse(n)}catch{o=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${n}`)}break;case Date:o=isNaN(n)?String(n):Number(n),o=new Date(o);break;default:o=super._deserializeValue(n,r);break}return o}_definePropertyAccessor(n,r){Tl(this,n),super._definePropertyAccessor(n,r)}_hasAccessor(n){return this.__dataHasAccessor&&this.__dataHasAccessor[n]}_isPropertyPending(n){return!!(this.__dataPending&&n in this.__dataPending)}}return t});const Nl={"dom-if":!0,"dom-repeat":!0};let Fi=!1,Ii=!1;function zl(){if(!Fi){Fi=!0;const s=document.createElement("textarea");s.placeholder="a",Ii=s.placeholder===s.textContent}return Ii}function Fl(s){zl()&&s.localName==="textarea"&&s.placeholder&&s.placeholder===s.textContent&&(s.textContent=null)}const Il=(()=>{const s=window.trustedTypes&&window.trustedTypes.createPolicy("polymer-template-event-attribute-policy",{createScript:e=>e});return(e,t,i)=>{const n=t.getAttribute(i);if(s&&i.startsWith("on-")){e.setAttribute(i,s.createScript(n,i));return}e.setAttribute(i,n)}})();function Dl(s){let e=s.getAttribute("is");if(e&&Nl[e]){let t=s;for(t.removeAttribute("is"),s=t.ownerDocument.createElement(e),t.parentNode.replaceChild(s,t),s.appendChild(t);t.attributes.length;){const{name:i}=t.attributes[0];Il(s,t,i),t.removeAttribute(i)}}return s}function Fr(s,e){let t=e.parentInfo&&Fr(s,e.parentInfo);if(t){for(let i=t.firstChild,n=0;i;i=i.nextSibling)if(e.parentIndex===n++)return i}else return s}function Ml(s,e,t,i){i.id&&(e[i.id]=t)}function jl(s,e,t){if(t.events&&t.events.length)for(let i=0,n=t.events,r;i<n.length&&(r=n[i]);i++)s._addMethodEventListenerToNode(e,r.name,r.value,s)}function Vl(s,e,t,i){t.templateInfo&&(e._templateInfo=t.templateInfo,e._parentTemplateInfo=i)}function Ul(s,e,t){return s=s._methodHost||s,function(n){s[t]?s[t](n,n.detail):console.warn("listener method `"+t+"` not defined")}}const Bl=Te(s=>{class e extends s{static _parseTemplate(i,n){if(!i._templateInfo){let r=i._templateInfo={};r.nodeInfoList=[],r.nestedTemplate=!!n,r.stripWhiteSpace=n&&n.stripWhiteSpace||i.hasAttribute&&i.hasAttribute("strip-whitespace"),this._parseTemplateContent(i,r,{parent:null})}return i._templateInfo}static _parseTemplateContent(i,n,r){return this._parseTemplateNode(i.content,n,r)}static _parseTemplateNode(i,n,r){let o=!1,a=i;return a.localName=="template"&&!a.hasAttribute("preserve-content")?o=this._parseTemplateNestedTemplate(a,n,r)||o:a.localName==="slot"&&(n.hasInsertionPoint=!0),Fl(a),a.firstChild&&this._parseTemplateChildNodes(a,n,r),a.hasAttributes&&a.hasAttributes()&&(o=this._parseTemplateNodeAttributes(a,n,r)||o),o||r.noted}static _parseTemplateChildNodes(i,n,r){if(!(i.localName==="script"||i.localName==="style"))for(let o=i.firstChild,a=0,l;o;o=l){if(o.localName=="template"&&(o=Dl(o)),l=o.nextSibling,o.nodeType===Node.TEXT_NODE){let u=l;for(;u&&u.nodeType===Node.TEXT_NODE;)o.textContent+=u.textContent,l=u.nextSibling,i.removeChild(u),u=l;if(n.stripWhiteSpace&&!o.textContent.trim()){i.removeChild(o);continue}}let c={parentIndex:a,parentInfo:r};this._parseTemplateNode(o,n,c)&&(c.infoIndex=n.nodeInfoList.push(c)-1),o.parentNode&&a++}}static _parseTemplateNestedTemplate(i,n,r){let o=i,a=this._parseTemplate(o,n);return(a.content=o.content.ownerDocument.createDocumentFragment()).appendChild(o.content),r.templateInfo=a,!0}static _parseTemplateNodeAttributes(i,n,r){let o=!1,a=Array.from(i.attributes);for(let l=a.length-1,c;c=a[l];l--)o=this._parseTemplateNodeAttribute(i,n,r,c.name,c.value)||o;return o}static _parseTemplateNodeAttribute(i,n,r,o,a){return o.slice(0,3)==="on-"?(i.removeAttribute(o),r.events=r.events||[],r.events.push({name:o.slice(3),value:a}),!0):o==="id"?(r.id=a,!0):!1}static _contentForTemplate(i){let n=i._templateInfo;return n&&n.content||i.content}_stampTemplate(i,n){i&&!i.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(i),n=n||this.constructor._parseTemplate(i);let r=n.nodeInfoList,o=n.content||i.content,a=document.importNode(o,!0);a.__noInsertionPoint=!n.hasInsertionPoint;let l=a.nodeList=new Array(r.length);a.$={};for(let c=0,u=r.length,h;c<u&&(h=r[c]);c++){let d=l[c]=Fr(a,h);Ml(this,a.$,d,h),Vl(this,d,h,n),jl(this,d,h)}return a=a,a}_addMethodEventListenerToNode(i,n,r,o){o=o||i;let a=Ul(o,n,r);return this._addEventListenerToNode(i,n,a),a}_addEventListenerToNode(i,n,r){i.addEventListener(n,r)}_removeEventListenerFromNode(i,n,r){i.removeEventListener(n,r)}}return e});let dt=0;const ft=[],T={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},Ir="__computeInfo",Hl=/[A-Z]/;function Cs(s,e,t){let i=s[e];if(!i)i=s[e]={};else if(!s.hasOwnProperty(e)&&(i=s[e]=Object.create(s[e]),t))for(let n in i){let r=i[n],o=i[n]=Array(r.length);for(let a=0;a<r.length;a++)o[a]=r[a]}return i}function st(s,e,t,i,n,r){if(e){let o=!1;const a=dt++;for(let l in t){let c=n?Ae(l):l,u=e[c];if(u)for(let h=0,d=u.length,f;h<d&&(f=u[h]);h++)(!f.info||f.info.lastRun!==a)&&(!n||hi(l,f.trigger))&&(f.info&&(f.info.lastRun=a),f.fn(s,l,t,i,f.info,n,r),o=!0)}return o}return!1}function Kl(s,e,t,i,n,r,o,a){let l=!1,c=o?Ae(i):i,u=e[c];if(u)for(let h=0,d=u.length,f;h<d&&(f=u[h]);h++)(!f.info||f.info.lastRun!==t)&&(!o||hi(i,f.trigger))&&(f.info&&(f.info.lastRun=t),f.fn(s,i,n,r,f.info,o,a),l=!0);return l}function hi(s,e){if(e){let t=e.name;return t==s||!!(e.structured&&Sl(t,s))||!!(e.wildcard&&Ht(t,s))}else return!0}function Di(s,e,t,i,n){let r=typeof n.method=="string"?s[n.method]:n.method,o=n.property;r?r.call(s,s.__data[o],i[o]):n.dynamicFn||console.warn("observer method `"+n.method+"` not defined")}function Jl(s,e,t,i,n){let r=s[T.NOTIFY],o,a=dt++;for(let c in e)e[c]&&(r&&Kl(s,r,a,c,t,i,n)||n&&Wl(s,c,t))&&(o=!0);let l;o&&(l=s.__dataHost)&&l._invalidateProperties&&l._invalidateProperties()}function Wl(s,e,t){let i=Ae(e);if(i!==e){let n=ls(i)+"-changed";return Dr(s,n,t[e],e),!0}return!1}function Dr(s,e,t,i){let n={value:t,queueProperty:!0};i&&(n.path=i),Oe(s).dispatchEvent(new CustomEvent(e,{detail:n}))}function Yl(s,e,t,i,n,r){let a=(r?Ae(e):e)!=e?e:null,l=a?G(s,a):s.__data[e];a&&l===void 0&&(l=t[e]),Dr(s,n.eventName,l,a)}function ql(s,e,t,i,n){let r,o=s.detail,a=o&&o.path;a?(i=Kt(t,i,a),r=o&&o.value):r=s.currentTarget[t],r=n?!r:r,(!e[T.READ_ONLY]||!e[T.READ_ONLY][i])&&e._setPendingPropertyOrPath(i,r,!0,!!a)&&(!o||!o.queueProperty)&&e._invalidateProperties()}function Gl(s,e,t,i,n){let r=s.__data[e];Bt&&(r=Bt(r,n.attrName,"attribute",s)),s._propertyToAttribute(e,n.attrName,r)}function Xl(s,e,t,i){let n=s[T.COMPUTE];if(n)if(fl){dt++;const r=Zl(s),o=[];for(let l in e)Mi(l,n,o,r,i);let a;for(;a=o.shift();)Mr(s,"",e,t,a)&&Mi(a.methodInfo,n,o,r,i);Object.assign(t,s.__dataOld),Object.assign(e,s.__dataPending),s.__dataPending=null}else{let r=e;for(;st(s,n,r,t,i);)Object.assign(t,s.__dataOld),Object.assign(e,s.__dataPending),r=s.__dataPending,s.__dataPending=null}}const Ql=(s,e,t)=>{let i=0,n=e.length-1,r=-1;for(;i<=n;){const o=i+n>>1,a=t.get(e[o].methodInfo)-t.get(s.methodInfo);if(a<0)i=o+1;else if(a>0)n=o-1;else{r=o;break}}r<0&&(r=n+1),e.splice(r,0,s)},Mi=(s,e,t,i,n)=>{const r=n?Ae(s):s,o=e[r];if(o)for(let a=0;a<o.length;a++){const l=o[a];l.info.lastRun!==dt&&(!n||hi(s,l.trigger))&&(l.info.lastRun=dt,Ql(l.info,t,i))}};function Zl(s){let e=s.constructor.__orderedComputedDeps;if(!e){e=new Map;const t=s[T.COMPUTE];let{counts:i,ready:n,total:r}=ec(s),o;for(;o=n.shift();){e.set(o,e.size);const a=t[o];a&&a.forEach(l=>{const c=l.info.methodInfo;--r,--i[c]===0&&n.push(c)})}r!==0&&console.warn(`Computed graph for ${s.localName} incomplete; circular?`),s.constructor.__orderedComputedDeps=e}return e}function ec(s){const e=s[Ir],t={},i=s[T.COMPUTE],n=[];let r=0;for(let o in e){const a=e[o];r+=t[o]=a.args.filter(l=>!l.literal).length+(a.dynamicFn?1:0)}for(let o in i)e[o]||n.push(o);return{counts:t,ready:n,total:r}}function Mr(s,e,t,i,n){let r=Ks(s,e,t,i,n);if(r===ft)return!1;let o=n.methodInfo;return s.__dataHasAccessor&&s.__dataHasAccessor[o]?s._setPendingProperty(o,r,!0):(s[o]=r,!1)}function tc(s,e,t){let i=s.__dataLinkedPaths;if(i){let n;for(let r in i){let o=i[r];Ht(r,e)?(n=Kt(r,o,e),s._setPendingPropertyOrPath(n,t,!0,!0)):Ht(o,e)&&(n=Kt(o,r,e),s._setPendingPropertyOrPath(n,t,!0,!0))}}}function Ps(s,e,t,i,n,r,o){t.bindings=t.bindings||[];let a={kind:i,target:n,parts:r,literal:o,isCompound:r.length!==1};if(t.bindings.push(a),oc(a)){let{event:c,negate:u}=a.parts[0];a.listenerEvent=c||ls(n)+"-changed",a.listenerNegate=u}let l=e.nodeInfoList.length;for(let c=0;c<a.parts.length;c++){let u=a.parts[c];u.compoundIndex=c,sc(s,e,a,u,l)}}function sc(s,e,t,i,n){if(!i.literal)if(t.kind==="attribute"&&t.target[0]==="-")console.warn("Cannot set attribute "+t.target+' because "-" is not a valid attribute starting character');else{let r=i.dependencies,o={index:n,binding:t,part:i,evaluator:s};for(let a=0;a<r.length;a++){let l=r[a];typeof l=="string"&&(l=Vr(l),l.wildcard=!0),s._addTemplatePropertyEffect(e,l.rootProperty,{fn:ic,info:o,trigger:l})}}}function ic(s,e,t,i,n,r,o){let a=o[n.index],l=n.binding,c=n.part;if(r&&c.source&&e.length>c.source.length&&l.kind=="property"&&!l.isCompound&&a.__isPropertyEffectsClient&&a.__dataHasAccessor&&a.__dataHasAccessor[l.target]){let u=t[e];e=Kt(c.source,l.target,e),a._setPendingPropertyOrPath(e,u,!1,!0)&&s._enqueueClient(a)}else{let u=n.evaluator._evaluateBinding(s,c,e,t,i,r);u!==ft&&nc(s,a,l,c,u)}}function nc(s,e,t,i,n){if(n=rc(e,n,t,i),Bt&&(n=Bt(n,t.target,t.kind,e)),t.kind=="attribute")s._valueToNodeAttribute(e,n,t.target);else{let r=t.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[r]?(!e[T.READ_ONLY]||!e[T.READ_ONLY][r])&&e._setPendingProperty(r,n)&&s._enqueueClient(e):s._setUnmanagedPropertyToNode(e,r,n)}}function rc(s,e,t,i){if(t.isCompound){let n=s.__dataCompoundStorage[t.target];n[i.compoundIndex]=e,e=n.join("")}return t.kind!=="attribute"&&(t.target==="textContent"||t.target==="value"&&(s.localName==="input"||s.localName==="textarea"))&&(e=e??""),e}function oc(s){return!!s.target&&s.kind!="attribute"&&s.kind!="text"&&!s.isCompound&&s.parts[0].mode==="{"}function ac(s,e){let{nodeList:t,nodeInfoList:i}=e;if(i.length)for(let n=0;n<i.length;n++){let r=i[n],o=t[n],a=r.bindings;if(a)for(let l=0;l<a.length;l++){let c=a[l];lc(o,c),cc(o,s,c)}o.__dataHost=s}}function lc(s,e){if(e.isCompound){let t=s.__dataCompoundStorage||(s.__dataCompoundStorage={}),i=e.parts,n=new Array(i.length);for(let o=0;o<i.length;o++)n[o]=i[o].literal;let r=e.target;t[r]=n,e.literal&&e.kind=="property"&&(r==="className"&&(s=Oe(s)),s[r]=e.literal)}}function cc(s,e,t){if(t.listenerEvent){let i=t.parts[0];s.addEventListener(t.listenerEvent,function(n){ql(n,e,t.target,i.source,i.negate)})}}function ji(s,e,t,i,n,r){r=e.static||r&&(typeof r!="object"||r[e.methodName]);let o={methodName:e.methodName,args:e.args,methodInfo:n,dynamicFn:r};for(let a=0,l;a<e.args.length&&(l=e.args[a]);a++)l.literal||s._addPropertyEffect(l.rootProperty,t,{fn:i,info:o,trigger:l});return r&&s._addPropertyEffect(e.methodName,t,{fn:i,info:o}),o}function Ks(s,e,t,i,n){let r=s._methodHost||s,o=r[n.methodName];if(o){let a=s._marshalArgs(n.args,e,t);return a===ft?ft:o.apply(r,a)}else n.dynamicFn||console.warn("method `"+n.methodName+"` not defined")}const uc=[],jr="(?:[a-zA-Z_$][\\w.:$\\-*]*)",hc="(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)",dc="(?:'(?:[^'\\\\]|\\\\.)*')",fc='(?:"(?:[^"\\\\]|\\\\.)*")',pc="(?:"+dc+"|"+fc+")",Vi="(?:("+jr+"|"+hc+"|"+pc+")\\s*)",gc="(?:"+Vi+"(?:,\\s*"+Vi+")*)",mc="(?:\\(\\s*(?:"+gc+"?)\\)\\s*)",yc="("+jr+"\\s*"+mc+"?)",bc="(\\[\\[|{{)\\s*",xc="(?:]]|}})",wc="(?:(!)\\s*)?",vc=bc+wc+yc+xc,Ui=new RegExp(vc,"g");function Bi(s){let e="";for(let t=0;t<s.length;t++){let i=s[t].literal;e+=i||""}return e}function Os(s){let e=s.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){let i={methodName:e[1],static:!0,args:uc};if(e[2].trim()){let n=e[2].replace(/\\,/g,"&comma;").split(",");return _c(n,i)}else return i}return null}function _c(s,e){return e.args=s.map(function(t){let i=Vr(t);return i.literal||(e.static=!1),i},this),e}function Vr(s){let e=s.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),t={name:e,value:"",literal:!1},i=e[0];switch(i==="-"&&(i=e[1]),i>="0"&&i<="9"&&(i="#"),i){case"'":case'"':t.value=e.slice(1,-1),t.literal=!0;break;case"#":t.value=Number(e),t.literal=!0;break}return t.literal||(t.rootProperty=Ae(e),t.structured=Bs(e),t.structured&&(t.wildcard=e.slice(-2)==".*",t.wildcard&&(t.name=e.slice(0,-2)))),t}function Hi(s,e,t){let i=G(s,t);return i===void 0&&(i=e[t]),i}function Ur(s,e,t,i){const n={indexSplices:i};Us&&!s._overrideLegacyUndefined&&(e.splices=n),s.notifyPath(t+".splices",n),s.notifyPath(t+".length",e.length),Us&&!s._overrideLegacyUndefined&&(n.indexSplices=[])}function We(s,e,t,i,n,r){Ur(s,e,t,[{index:i,addedCount:n,removed:r,object:e,type:"splice"}])}function Sc(s){return s[0].toUpperCase()+s.substring(1)}const Cc=Te(s=>{const e=Bl(Al(s));class t extends e{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__computeInfo,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo,this._overrideLegacyUndefined}get PROPERTY_EFFECT_TYPES(){return T}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(Ye.length){let n=Ye[Ye.length-1];n._enqueueClient(this),this.__dataHost=n}}_initializeProtoProperties(n){this.__data=Object.create(n),this.__dataPending=Object.create(n),this.__dataOld={}}_initializeInstanceProperties(n){let r=this[T.READ_ONLY];for(let o in n)(!r||!r[o])&&(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[o]=this.__dataPending[o]=n[o])}_addPropertyEffect(n,r,o){this._createPropertyAccessor(n,r==T.READ_ONLY);let a=Cs(this,r,!0)[n];a||(a=this[r][n]=[]),a.push(o)}_removePropertyEffect(n,r,o){let a=Cs(this,r,!0)[n],l=a.indexOf(o);l>=0&&a.splice(l,1)}_hasPropertyEffect(n,r){let o=this[r];return!!(o&&o[n])}_hasReadOnlyEffect(n){return this._hasPropertyEffect(n,T.READ_ONLY)}_hasNotifyEffect(n){return this._hasPropertyEffect(n,T.NOTIFY)}_hasReflectEffect(n){return this._hasPropertyEffect(n,T.REFLECT)}_hasComputedEffect(n){return this._hasPropertyEffect(n,T.COMPUTE)}_setPendingPropertyOrPath(n,r,o,a){if(a||Ae(Array.isArray(n)?n[0]:n)!==n){if(!a){let l=G(this,n);if(n=zi(this,n,r),!n||!super._shouldPropertyChange(n,r,l))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(n,r,o))return tc(this,n,r),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[n])return this._setPendingProperty(n,r,o);this[n]=r}return!1}_setUnmanagedPropertyToNode(n,r,o){(o!==n[r]||typeof o=="object")&&(r==="className"&&(n=Oe(n)),n[r]=o)}_setPendingProperty(n,r,o){let a=this.__dataHasPaths&&Bs(n),l=a?this.__dataTemp:this.__data;return this._shouldPropertyChange(n,r,l[n])?(this.__dataPending||(this.__dataPending={},this.__dataOld={}),n in this.__dataOld||(this.__dataOld[n]=this.__data[n]),a?this.__dataTemp[n]=r:this.__data[n]=r,this.__dataPending[n]=r,(a||this[T.NOTIFY]&&this[T.NOTIFY][n])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[n]=o),!0):!1}_setProperty(n,r){this._setPendingProperty(n,r,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(n){this.__dataPendingClients=this.__dataPendingClients||[],n!==this&&this.__dataPendingClients.push(n)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let n=this.__dataPendingClients;if(n){this.__dataPendingClients=null;for(let r=0;r<n.length;r++){let o=n[r];o.__dataEnabled?o.__dataPending&&o._flushProperties():o._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(n,r){for(let o in n)(r||!this[T.READ_ONLY]||!this[T.READ_ONLY][o])&&this._setPendingPropertyOrPath(o,n[o],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(n,r,o){let a=this.__dataHasPaths;this.__dataHasPaths=!1;let l;Xl(this,r,o,a),l=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(r,o,a),this._flushClients(),st(this,this[T.REFLECT],r,o,a),st(this,this[T.OBSERVE],r,o,a),l&&Jl(this,l,r,o,a),this.__dataCounter==1&&(this.__dataTemp={})}_propagatePropertyChanges(n,r,o){this[T.PROPAGATE]&&st(this,this[T.PROPAGATE],n,r,o),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,n,r,o)}_runEffectsForTemplate(n,r,o,a){const l=(c,u)=>{st(this,n.propertyEffects,c,o,u,n.nodeList);for(let h=n.firstChild;h;h=h.nextSibling)this._runEffectsForTemplate(h,c,o,u)};n.runEffects?n.runEffects(l,r,a):l(r,a)}linkPaths(n,r){n=tt(n),r=tt(r),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[n]=r}unlinkPaths(n){n=tt(n),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[n]}notifySplices(n,r){let o={path:""},a=G(this,n,o);Ur(this,a,o.path,r)}get(n,r){return G(r||this,n)}set(n,r,o){o?zi(o,n,r):(!this[T.READ_ONLY]||!this[T.READ_ONLY][n])&&this._setPendingPropertyOrPath(n,r,!0)&&this._invalidateProperties()}push(n,...r){let o={path:""},a=G(this,n,o),l=a.length,c=a.push(...r);return r.length&&We(this,a,o.path,l,r.length,[]),c}pop(n){let r={path:""},o=G(this,n,r),a=!!o.length,l=o.pop();return a&&We(this,o,r.path,o.length,0,[l]),l}splice(n,r,o,...a){let l={path:""},c=G(this,n,l);r<0?r=c.length-Math.floor(-r):r&&(r=Math.floor(r));let u;return arguments.length===2?u=c.splice(r):u=c.splice(r,o,...a),(a.length||u.length)&&We(this,c,l.path,r,a.length,u),u}shift(n){let r={path:""},o=G(this,n,r),a=!!o.length,l=o.shift();return a&&We(this,o,r.path,0,0,[l]),l}unshift(n,...r){let o={path:""},a=G(this,n,o),l=a.unshift(...r);return r.length&&We(this,a,o.path,0,r.length,[]),l}notifyPath(n,r){let o;if(arguments.length==1){let a={path:""};r=G(this,n,a),o=a.path}else Array.isArray(n)?o=tt(n):o=n;this._setPendingPropertyOrPath(o,r,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(n,r){this._addPropertyEffect(n,T.READ_ONLY),r&&(this["_set"+Sc(n)]=function(o){this._setProperty(n,o)})}_createPropertyObserver(n,r,o){let a={property:n,method:r,dynamicFn:!!o};this._addPropertyEffect(n,T.OBSERVE,{fn:Di,info:a,trigger:{name:n}}),o&&this._addPropertyEffect(r,T.OBSERVE,{fn:Di,info:a,trigger:{name:r}})}_createMethodObserver(n,r){let o=Os(n);if(!o)throw new Error("Malformed observer expression '"+n+"'");ji(this,o,T.OBSERVE,Ks,null,r)}_createNotifyingProperty(n){this._addPropertyEffect(n,T.NOTIFY,{fn:Yl,info:{eventName:ls(n)+"-changed",property:n}})}_createReflectedProperty(n){let r=this.constructor.attributeNameForProperty(n);r[0]==="-"?console.warn("Property "+n+" cannot be reflected to attribute "+r+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(n,T.REFLECT,{fn:Gl,info:{attrName:r}})}_createComputedProperty(n,r,o){let a=Os(r);if(!a)throw new Error("Malformed computed expression '"+r+"'");const l=ji(this,a,T.COMPUTE,Mr,n,o);Cs(this,Ir)[n]=l}_marshalArgs(n,r,o){const a=this.__data,l=[];for(let c=0,u=n.length;c<u;c++){let{name:h,structured:d,wildcard:f,value:p,literal:g}=n[c];if(!g)if(f){const m=Ht(h,r),y=Hi(a,o,m?r:h);p={path:m?r:h,value:y,base:m?G(a,h):y}}else p=d?Hi(a,o,h):a[h];if(Us&&!this._overrideLegacyUndefined&&p===void 0&&n.length>1)return ft;l[c]=p}return l}static addPropertyEffect(n,r,o){this.prototype._addPropertyEffect(n,r,o)}static createPropertyObserver(n,r,o){this.prototype._createPropertyObserver(n,r,o)}static createMethodObserver(n,r){this.prototype._createMethodObserver(n,r)}static createNotifyingProperty(n){this.prototype._createNotifyingProperty(n)}static createReadOnlyProperty(n,r){this.prototype._createReadOnlyProperty(n,r)}static createReflectedProperty(n){this.prototype._createReflectedProperty(n)}static createComputedProperty(n,r,o){this.prototype._createComputedProperty(n,r,o)}static bindTemplate(n){return this.prototype._bindTemplate(n)}_bindTemplate(n,r){let o=this.constructor._parseTemplate(n),a=this.__preBoundTemplateInfo==o;if(!a)for(let l in o.propertyEffects)this._createPropertyAccessor(l);if(r)if(o=Object.create(o),o.wasPreBound=a,!this.__templateInfo)this.__templateInfo=o;else{const l=n._parentTemplateInfo||this.__templateInfo,c=l.lastChild;o.parent=l,l.lastChild=o,o.previousSibling=c,c?c.nextSibling=o:l.firstChild=o}else this.__preBoundTemplateInfo=o;return o}static _addTemplatePropertyEffect(n,r,o){let a=n.hostProps=n.hostProps||{};a[r]=!0;let l=n.propertyEffects=n.propertyEffects||{};(l[r]=l[r]||[]).push(o)}_stampTemplate(n,r){r=r||this._bindTemplate(n,!0),Ye.push(this);let o=super._stampTemplate(n,r);if(Ye.pop(),r.nodeList=o.nodeList,!r.wasPreBound){let a=r.childNodes=[];for(let l=o.firstChild;l;l=l.nextSibling)a.push(l)}return o.templateInfo=r,ac(this,r),this.__dataClientsReady&&(this._runEffectsForTemplate(r,this.__data,null,!1),this._flushClients()),o}_removeBoundDom(n){const r=n.templateInfo,{previousSibling:o,nextSibling:a,parent:l}=r;o?o.nextSibling=a:l&&(l.firstChild=a),a?a.previousSibling=o:l&&(l.lastChild=o),r.nextSibling=r.previousSibling=null;let c=r.childNodes;for(let u=0;u<c.length;u++){let h=c[u];Oe(Oe(h).parentNode).removeChild(h)}}static _parseTemplateNode(n,r,o){let a=e._parseTemplateNode.call(this,n,r,o);if(n.nodeType===Node.TEXT_NODE){let l=this._parseBindings(n.textContent,r);l&&(n.textContent=Bi(l)||" ",Ps(this,r,o,"text","textContent",l),a=!0)}return a}static _parseTemplateNodeAttribute(n,r,o,a,l){let c=this._parseBindings(l,r);if(c){let u=a,h="property";Hl.test(a)?h="attribute":a[a.length-1]=="$"&&(a=a.slice(0,-1),h="attribute");let d=Bi(c);return d&&h=="attribute"&&(a=="class"&&n.hasAttribute("class")&&(d+=" "+n.getAttribute(a)),n.setAttribute(a,d)),h=="attribute"&&u=="disable-upgrade$"&&n.setAttribute(a,""),n.localName==="input"&&u==="value"&&n.setAttribute(u,""),n.removeAttribute(u),h==="property"&&(a=kr(a)),Ps(this,r,o,h,a,c,d),!0}else return e._parseTemplateNodeAttribute.call(this,n,r,o,a,l)}static _parseTemplateNestedTemplate(n,r,o){let a=e._parseTemplateNestedTemplate.call(this,n,r,o);const l=n.parentNode,c=o.templateInfo,u=l.localName==="dom-if",h=l.localName==="dom-repeat";Ri&&(u||h)&&(l.removeChild(n),o=o.parentInfo,o.templateInfo=c,o.noted=!0,a=!1);let d=c.hostProps;if(pl&&u)d&&(r.hostProps=Object.assign(r.hostProps||{},d),Ri||(o.parentInfo.noted=!0));else{let f="{";for(let p in d){let g=[{mode:f,source:p,dependencies:[p],hostProp:!0}];Ps(this,r,o,"property","_host_"+p,g)}}return a}static _parseBindings(n,r){let o=[],a=0,l;for(;(l=Ui.exec(n))!==null;){l.index>a&&o.push({literal:n.slice(a,l.index)});let c=l[1][0],u=!!l[2],h=l[3].trim(),d=!1,f="",p=-1;c=="{"&&(p=h.indexOf("::"))>0&&(f=h.substring(p+2),h=h.substring(0,p),d=!0);let g=Os(h),m=[];if(g){let{args:y,methodName:b}=g;for(let x=0;x<y.length;x++){let v=y[x];v.literal||m.push(v)}let w=r.dynamicFns;(w&&w[b]||g.static)&&(m.push(b),g.dynamicFn=!0)}else m.push(h);o.push({source:h,mode:c,negate:u,customEvent:d,signature:g,dependencies:m,event:f}),a=Ui.lastIndex}if(a&&a<n.length){let c=n.substring(a);c&&o.push({literal:c})}return o.length?o:null}static _evaluateBinding(n,r,o,a,l,c){let u;return r.signature?u=Ks(n,o,a,l,r.signature):o!=r.source?u=G(n,r.source):c&&Bs(o)?u=G(n,o):u=n.__data[o],r.negate&&(u=!u),u}}return t}),Ye=[];function Pc(s){const e={};for(let t in s){const i=s[t];e[t]=typeof i=="function"?{type:i}:i}return e}const Oc=Te(s=>{const e=Nr(s);function t(r){const o=Object.getPrototypeOf(r);return o.prototype instanceof n?o:null}function i(r){if(!r.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",r))){let o=null;if(r.hasOwnProperty(JSCompiler_renameProperty("properties",r))){const a=r.properties;a&&(o=Pc(a))}r.__ownProperties=o}return r.__ownProperties}class n extends e{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){this.prototype;const o=this._properties;this.__observedAttributes=o?Object.keys(o).map(a=>this.prototype._addPropertyToAttributeMap(a)):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const o=t(this);o&&o.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const o=i(this);o&&this.createProperties(o)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const o=t(this);this.__properties=Object.assign({},o&&o._properties,i(this))}return this.__properties}static typeForProperty(o){const a=this._properties[o];return a&&a.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return n});const Lc="3.5.2",Ki=window.ShadyCSS&&window.ShadyCSS.cssBuild,Ec=Te(s=>{const e=Oc(Cc(s));function t(l){if(!l.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",l))){l.__propertyDefaults=null;let c=l._properties;for(let u in c){let h=c[u];"value"in h&&(l.__propertyDefaults=l.__propertyDefaults||{},l.__propertyDefaults[u]=h)}}return l.__propertyDefaults}function i(l){return l.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",l))||(l.__ownObservers=l.hasOwnProperty(JSCompiler_renameProperty("observers",l))?l.observers:null),l.__ownObservers}function n(l,c,u,h){u.computed&&(u.readOnly=!0),u.computed&&(l._hasReadOnlyEffect(c)?console.warn(`Cannot redefine computed property '${c}'.`):l._createComputedProperty(c,u.computed,h)),u.readOnly&&!l._hasReadOnlyEffect(c)?l._createReadOnlyProperty(c,!u.computed):u.readOnly===!1&&l._hasReadOnlyEffect(c)&&console.warn(`Cannot make readOnly property '${c}' non-readOnly.`),u.reflectToAttribute&&!l._hasReflectEffect(c)?l._createReflectedProperty(c):u.reflectToAttribute===!1&&l._hasReflectEffect(c)&&console.warn(`Cannot make reflected property '${c}' non-reflected.`),u.notify&&!l._hasNotifyEffect(c)?l._createNotifyingProperty(c):u.notify===!1&&l._hasNotifyEffect(c)&&console.warn(`Cannot make notify property '${c}' non-notify.`),u.observer&&l._createPropertyObserver(c,u.observer,h[u.observer]),l._addPropertyToAttributeMap(c)}function r(l,c,u,h){if(!Ki){const d=c.content.querySelectorAll("style"),f=Er(c),p=_l(u),g=c.content.firstElementChild;for(let y=0;y<p.length;y++){let b=p[y];b.textContent=l._processStyleText(b.textContent,h),c.content.insertBefore(b,g)}let m=0;for(let y=0;y<f.length;y++){let b=f[y],w=d[m];w!==b?(b=b.cloneNode(!0),w.parentNode.insertBefore(b,w)):m++,b.textContent=l._processStyleText(b.textContent,h)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(c,u),gl&&Ki&&al){const d=c.content.querySelectorAll("style");if(d){let f="";Array.from(d).forEach(p=>{f+=p.textContent,p.parentNode.removeChild(p)}),l._styleSheet=new CSSStyleSheet,l._styleSheet.replaceSync(f)}}}function o(l){let c=null;if(l&&(!Vs||cl)&&(c=ht.import(l,"template"),Vs&&!c))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${l}`);return c}class a extends e{static get polymerElementVersion(){return Lc}static _finalizeClass(){e._finalizeClass.call(this);const c=i(this);c&&this.createObservers(c,this._properties),this._prepareTemplate()}static _prepareTemplate(){let c=this.template;c&&(typeof c=="string"?(console.error("template getter must return HTMLTemplateElement"),c=null):ul||(c=c.cloneNode(!0))),this.prototype._template=c}static createProperties(c){for(let u in c)n(this.prototype,u,c[u],c)}static createObservers(c,u){const h=this.prototype;for(let d=0;d<c.length;d++)h._createMethodObserver(c[d],u)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){let c=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;typeof c=="function"&&(c=c()),this._template=c!==void 0?c:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&o(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(c){this._template=c}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const c=this.importMeta;if(c)this._importPath=ci(c.url);else{const u=ht.import(this.is);this._importPath=u&&u.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=ll,this.importPath=this.constructor.importPath;let c=t(this.constructor);if(c)for(let u in c){let h=c[u];if(this._canApplyPropertyDefault(u)){let d=typeof h.value=="function"?h.value.call(this):h.value;this._hasAccessor(u)?this._setPendingProperty(u,d,!0):this[u]=d}}}_canApplyPropertyDefault(c){return!this.hasOwnProperty(c)}static _processStyleText(c,u){return li(c,u)}static _finalizeTemplate(c){const u=this.prototype._template;if(u&&!u.__polymerFinalized){u.__polymerFinalized=!0;const h=this.importPath,d=h?rt(h):"";r(this,u,c,d),this.prototype._bindTemplate(u)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(c){const u=Oe(this);if(u.attachShadow)return c?(u.shadowRoot||(u.attachShadow({mode:"open",shadyUpgradeFragment:c}),u.shadowRoot.appendChild(c),this.constructor._styleSheet&&(u.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),dl&&window.ShadyDOM&&window.ShadyDOM.flushInitial(u.shadowRoot),u.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(c){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,c)}resolveUrl(c,u){return!u&&this.importPath&&(u=rt(this.importPath)),rt(c,u)}static _parseTemplateContent(c,u,h){return u.dynamicFns=u.dynamicFns||this._properties,e._parseTemplateContent.call(this,c,u,h)}static _addTemplatePropertyEffect(c,u,h){return hl&&!(u in this._properties)&&!(h.info.part.signature&&h.info.part.signature.static)&&!h.info.part.hostProp&&!c.nestedTemplate&&console.warn(`Property '${u}' used in template but not declared in 'properties'; attribute will not be observed.`),e._addTemplatePropertyEffect.call(this,c,u,h)}}return a});const Ji=window.trustedTypes&&trustedTypes.createPolicy("polymer-html-literal",{createHTML:s=>s});class Br{constructor(e,t){Kr(e,t);const i=t.reduce((n,r,o)=>n+Hr(r)+e[o+1],e[0]);this.value=i.toString()}toString(){return this.value}}function Hr(s){if(s instanceof Br)return s.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${s}`)}function $c(s){if(s instanceof HTMLTemplateElement)return s.innerHTML;if(s instanceof Br)return Hr(s);throw new Error(`non-template value passed to Polymer's html function: ${s}`)}const Rc=function(e,...t){Kr(e,t);const i=document.createElement("template");let n=t.reduce((r,o,a)=>r+$c(o)+e[a+1],e[0]);return Ji&&(n=Ji.createHTML(n)),i.innerHTML=n,i},Kr=(s,e)=>{if(!Array.isArray(s)||!Array.isArray(s.raw)||e.length!==s.length-1)throw new TypeError("Invalid call to the html template tag")};const kc=Ec(HTMLElement);function*Tc(s,e){if(s!==void 0){let t=0;for(const i of s)yield e(i,t++)}}function Ac(s){return s.boundingClientRect.height===0}function Nc(s){return s.getBoundingClientRect().height===0}const zc=s=>{if(s.element.tagName!=="SLOT")throw new Error("Overflow directive must be used on a slot element")};function Fc(s,e){s.forEach(t=>{Nc(t)||(e.add(t),s.delete(t))})}const Ic=(s,e)=>{let t=new Set,i=new Set,n=new Set;const r=new IntersectionObserver(a=>{a.forEach(l=>{const c=l.target;l.boundingClientRect.width===l.intersectionRect.width&&l.intersectionRect.height!==0?(t.add(c),i.delete(c),n.delete(c)):Ac(l)?(t.delete(c),i.delete(c),n.add(c)):(t.delete(c),i.add(c),n.delete(c))}),Fc(n,i),e({visible:t,overflowing:i,hidden:n})},{root:s.parentElement,threshold:[0,.5,1]}),o=()=>{const a=Array.from(s.assignedElements({flatten:!0})),l=new Set,c=new Set,u=new Set;for(const h of a)t.has(h)?l.add(h):i.has(h)?c.add(h):n.has(h)?u.add(h):r.observe(h);t=l,i=c,n=u,e({visible:t,overflowing:i,hidden:n})};return o(),s.addEventListener("slotchange",o),()=>{s.removeEventListener("slotchange",o),r.disconnect()}};class Dc extends ts{observer;slot;cleanup;render(){return Y}update(e,[t]){return zc(e),this.slot!==e.element&&(this.cleanup&&(this.cleanup(),this.cleanup=void 0),this.slot=e.element,this.cleanup=Ic(this.slot,t)),Y}}const Mc=pe(Dc),jc=ie`
	:host {
		display: block;
		overflow: hidden;
		bottom: 0;
		left: 0;
		width: 100%;
		max-width: 100%; /* Firefox fix */
		background-color: inherit;
		transition: max-height 0.3s ease;
		flex: none;
		background-color: var(
			--cosmoz-bottom-bar-bg-color,
			rgba(230, 230, 230, 0.8)
		);
		box-shadow: var(--cosmoz-bottom-bar-shadow, none);
		z-index: 1;

		--cosmoz-dropdown-anchor-spacing: 12px 6px;
	}

	:host([force-open]) {
		transition: none;
	}

	[hidden],
	::slotted([hidden]) {
		display: none !important;
	}

	#bar {
		height: 64px;
		padding: 0 3%;
		display: flex;
		align-items: center;
	}

	#info {
		flex: 0 0 auto;
		padding-right: 3%;
		white-space: nowrap;
	}

	#buttonContainer {
		display: flex;
		flex: 1 1 auto;
		overflow: hidden;
		flex-wrap: wrap;
		justify-content: flex-start;
		flex-direction: row-reverse;
		position: relative;
		margin: 0 8px;
		min-width: 0;
		max-height: 40px;
	}

	#bottomBarToolbar::slotted(:not(slot):not([unstyled])) {
		margin: 0 0.29em;
		min-width: 40px;
		min-height: 40px;
		text-overflow: ellipsis;
		white-space: nowrap;
		background: var(
			--cosmoz-bottom-bar-button-bg-color,
			var(--cosmoz-button-bg-color, #101010)
		);
		color: var(
			--cosmoz-bottom-bar-button-color,
			var(--cosmoz-button-color, #fff)
		);
		border-radius: 6px;
		border-color: transparent;
		padding: 0 18px;
		font-size: 14px;
		font-weight: 500;
		line-height: 40px;
		overflow: hidden;
		flex: 0 0 auto;
	}
	#bottomBarToolbar::slotted(
		:not(slot):not([unstyled])[data-visibility='hidden']
	) {
		visibility: hidden;
		width: 100%;
		order: 9999;
	}

	#bottomBarToolbar::slotted(:not(slot)[disabled]) {
		opacity: var(--cosmoz-button-disabled-opacity, 0.15);
		pointer-events: none;
	}

	#bottomBarToolbar::slotted(:not(slot):hover) {
		background: var(
			--cosmoz-bottom-bar-button-hover-bg-color,
			var(--cosmoz-button-hover-bg-color, #3a3f44)
		);
	}

	#dropdown::part(content) {
		max-width: 300px;
	}

	#dropdown::part(button) {
		border: none;
		cursor: pointer;
		outline: none;
		background: var(
			--cosmoz-bottom-bar-button-bg-color,
			var(--cosmoz-button-bg-color, #101010)
		);
		color: var(
			--cosmoz-bottom-bar-button-color,
			var(--cosmoz-button-color, #fff)
		);
		border-radius: 50%;
		width: 40px;
		height: 40px;
	}

	#dropdown::part(button):hover {
		background: var(
			--cosmoz-bottom-bar-button-hover-bg-color,
			var(--cosmoz-button-hover-bg-color, #3a3f44)
		);
	}

	:host([hide-actions]) #bottomBarToolbar,
	:host([hide-actions]) #bottomBarMenu,
	:host([hide-actions]) #dropdown {
		display: none;
	}

	:host(:not([has-menu-items])) cosmoz-dropdown-menu {
		display: none;
	}
`,Vc=Symbol("openMenu"),Uc=s=>{const e=s.shadowRoot?.querySelector("#dropdown");if(!e||e.hasAttribute("hidden"))return;e.shadowRoot?.querySelector("cosmoz-dropdown")?.shadowRoot?.querySelector("#dropdownButton")?.click()},Bc=s=>{const[e,t]=he({visible:new Set,overflowing:new Set});F(()=>{s.dispatchEvent(new CustomEvent("reflow",{detail:e}))},[e]);const i=B(()=>[...e.visible,...e.overflowing],[e]),n=B(()=>i.map(l=>({element:l,priority:Number(l.dataset.priority??0),text:l.textContent?.trim()||""})).toSorted((l,c)=>c.priority-l.priority),[i]),{maxToolbarItems:r=1}=s,o=Math.min(r,e.visible.size);F(()=>{n.forEach(({element:l,priority:c},u)=>{const h=u<o;l.dataset.visibility=h?"visible":"hidden",l.style.order=String(-c)})},[n,o]);const a=B(()=>n.slice(o).sort((l,c)=>c.element.compareDocumentPosition(l.element)-l.element.compareDocumentPosition(c.element)),[n,o]);return F(()=>{s.toggleAttribute("has-menu-items",a.length>0)},[a.length]),{setButtonStates:t,menuButtons:a}},Hc=s=>{const{active:e=!1}=s,t=yt(!1);il({activity:Vc,callback:()=>Uc(s),check:()=>e&&!s.hasAttribute("hide-actions"),element:()=>s.shadowRoot?.querySelector("#dropdown")},[e]);const{setButtonStates:i,menuButtons:n}=Bc(s),r=B(()=>er("height"),[]);return Ds(()=>{t.current?r(s,e):r(s,e,{duration:0}),t.current=!0},[e]),k` <div id="bar" part="bar">
		<div id="info" part="info"><slot name="info"></slot></div>
		<div id="buttonContainer" part="buttons">
			<slot id="bottomBarToolbar" ${Mc(i)}></slot>
		</div>

		<cosmoz-dropdown-menu id="dropdown" part="dropdown">
			<svg
				slot="button"
				width="4"
				height="16"
				viewBox="0 0 4 16"
				fill="none"
				xmlns="http://www.w3.org/2000/svg"
			>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M1.50996e-07 2C1.02714e-07 3.10457 0.89543 4 2 4C3.10457 4 4 3.10457 4 2C4 0.89543 3.10457 -3.91405e-08 2 -8.74228e-08C0.895431 -1.35705e-07 1.99278e-07 0.89543 1.50996e-07 2Z"
					fill="currentColor"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M1.50996e-07 8C1.02714e-07 9.10457 0.89543 10 2 10C3.10457 10 4 9.10457 4 8C4 6.89543 3.10457 6 2 6C0.895431 6 1.99278e-07 6.89543 1.50996e-07 8Z"
					fill="currentColor"
				/>
				<path
					fill-rule="evenodd"
					clip-rule="evenodd"
					d="M1.50996e-07 14C1.02714e-07 15.1046 0.89543 16 2 16C3.10457 16 4 15.1046 4 14C4 12.8954 3.10457 12 2 12C0.895431 12 1.99278e-07 12.8954 1.50996e-07 14Z"
					fill="currentColor"
				/>
			</svg>
			${Tc(n,o=>k`
					<button
						title=${o.text}
						@click=${()=>o.element.click()}
					>
						${o.text}
					</button>
				`)}
		</cosmoz-dropdown-menu>
		<slot name="extra" id="extraSlot"></slot>
	</div>`};customElements.define("cosmoz-bottom-bar",J(Hc,{observedAttributes:["active","max-toolbar-items"],styleSheets:[jc]}));const Wt=`
	<slot name="extra" slot="extra"></slot>
`;k(Object.assign([Wt],{raw:[Wt]}));Rc(Object.assign([Wt],{raw:[Wt]}));const cs=pe(class extends ke{constructor(s){if(super(s),s.type!==ne.PROPERTY&&s.type!==ne.ATTRIBUTE&&s.type!==ne.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!Xn(s))throw Error("`live` bindings can only contain a single expression")}render(s){return s}update(s,[e]){if(e===Y||e===ye)return e;const t=s.element,i=s.name;if(s.type===ne.PROPERTY){if(e===t[i])return Y}else if(s.type===ne.BOOLEAN_ATTRIBUTE){if(!!e===t.hasAttribute(i))return Y}else if(s.type===ne.ATTRIBUTE&&t.getAttribute(i)===e+"")return Y;return Qn(s),e}});const W=s=>s??ye,Jr=xe(class extends be{values;constructor(s,e,t,i){super(s,e),Object.assign(e.host,t),this.values=i}update(s,e){this.hasChanged(e)&&(this.values=e,Object.assign(this.state.host,s))}hasChanged(s=[]){return s.some((e,t)=>this.values[t]!==e)}}),xt=xe(class extends be{update(){return this.state.host}}),Kc=/([A-Z])/gu,pt=(s,e,t)=>{s[e]=t,s.dispatchEvent(new CustomEvent(e.replace(Kc,"-$1").toLowerCase()+"-changed",{detail:{value:t}}))},cf=(s,e,t=[e])=>{const i=xt();F(()=>{pt(i,s,e)},t)},Wr=s=>{const e=yt(void 0),t=U(c=>e.current=c,[]),i=s.shadowRoot,n=U(c=>s.dispatchEvent(new Event(c.type,{bubbles:c.bubbles})),[]),r=U(c=>pt(s,"value",c.target.value),[]),o=U(c=>pt(s,"focused",c.type==="focus"),[]),a=U(()=>e.current?.focus(),[]),l=U(()=>{const c=e.current?.checkValidity();return s.toggleAttribute("invalid",!c),c},[]);return Jr({focus:a,validate:l},[a,l]),F(()=>{const c=u=>{u.defaultPrevented||s.disabled||u.target.matches("input, textarea, label")||(u.preventDefault(),s.matches(":focus-within")||a())};return i.addEventListener("mousedown",c),()=>i.removeEventListener("mousedown",c)},[a]),{onChange:n,onFocus:o,onInput:r,onRef:t}},Jc=s=>B(()=>{if(s==null)return;const e=new RegExp(s,"u");return t=>{!t.defaultPrevented&&t.data&&!e.test(t.data)&&t.preventDefault()}},[s]),Yr=(s,{label:e,invalid:t,errorMessage:i})=>k`
		<div class="float" part="float">&nbsp;</div>
		<div class="wrap" part="wrap">
			<slot name="prefix"></slot>
			<div class="control" part="control">
				<slot name="control"></slot>
				${s}
				${se(e,()=>k`<label for="input" part="label">${e}</label>`)}
			</div>
			<slot name="suffix"></slot>
		</div>
		<div class="line" part="line"></div>
		${se(t&&i,()=>k`<div class="error" part="error">${i}</div>`)}
	`,qr=["autocomplete","readonly","disabled","maxlength","invalid","no-label-float","always-float-label"],Wc=({placeholder:s,noLabelFloat:e,label:t})=>(e?t:void 0)||s||" ",Yc=Math.abs,qc=(...s)=>s.some(e=>!!e),Gc=(...s)=>s.join(""),Xc=(s,e,t)=>s?e:t,Qc=(s,e)=>e.indexOf(s)>-1,Zc=(s,e)=>s===e,eu=s=>!!(s==null||Array.isArray(s)&&s.length===0||typeof s=="string"&&s.length===0||typeof s=="number"&&s===0),tu=(s,e)=>typeof s!="number"?"":s.toFixed(e),uf=Object.freeze(Object.defineProperty({__proto__:null,abs:Yc,anyTrue:qc,concat:Gc,ifElse:Xc,inArray:Qc,isEmpty:eu,isEqual:Zc,toFixed:tu},Symbol.toStringTag,{value:"Module"})),su={isoBasic:/^\d{4}-\d{2}-\d{2}$/iu},iu=s=>typeof s=="string"&&su.isoBasic.test(s)?new Date(`${s}T00:00`):new Date(s),hf=s=>{if(s==null)return;if(s instanceof Date&&!isNaN(s.getTime()))return s;if(!(typeof s=="number"||typeof s=="string"))return;const e=iu(s);if(!(e instanceof Date&&isNaN(e.getTime())))return e},qe=s=>s<10?"0"+s:s,df=s=>s instanceof Date?s.getFullYear()+"-"+qe(s.getMonth()+1)+"-"+qe(s.getDate())+"T"+qe(s.getHours())+":"+qe(s.getMinutes())+":"+qe(s.getSeconds())+"."+(s.getMilliseconds()/1e3).toFixed(3).slice(2,5):null,us=(s,...e)=>s.flatMap((t,i)=>[t,e[i]??""]).join(""),di=(...s)=>{const e=new CSSStyleSheet;return e.replaceSync(s.join("")),e},ff=(s,e)=>{const t=class extends e{};return Object.assign(t.prototype,s),t},Wi=us`
	.wrap {
		--contour-color: var(--focused-color);
		background: var(--focused-bg);
	}

	#input::placeholder,
	label {
		color: var(--focused-color);
		opacity: 1;
	}

	.line {
		border-bottom-color: var(--focused-color);
	}

	.line::before {
		transform: none;
		transition: 0.25s transform ease;
	}
`,Gr=us`
	:host {
		--font-family: var(
			--cosmoz-input-font-family,
			var(--paper-font-subhead_-_font-family, inherit)
		);
		--font-size: var(
			--cosmoz-input-font-size,
			var(--paper-font-subhead_-_font-size, 16px)
		);
		--line-height: var(
			--cosmoz-input-line-height,
			var(--paper-font-subhead_-_line-height, 24px)
		);
		--label-scale: var(--cosmoz-input-label-scale, 0.75);
		--disabled-opacity: var(
			--cosmoz-input-disabled-opacity,
			var(--paper-input-container-disabled_-_opacity, 0.33)
		);
		--disabled-line-opacity: var(
			--cosmoz-input-disabled-line-opacity,
			var(--paper-input-container-underline-disabled_-_opacity, 1)
		);
		--invalid-color: var(
			--cosmoz-input-invalid-color,
			var(--paper-input-container-invalid-color, var(--error-color, #fc5c5b))
		);
		--bg: var(--cosmoz-input-background);
		--focused-bg: var(--cosmoz-input-focused-background, var(--bg));
		--color: var(--cosmoz-input-color, var(--secondary-text-color, #737373));
		--line-color: var(--cosmoz-input-line-color, var(--color));
		--focused-color: var(
			--cosmoz-input-focused-color,
			var(--primary-color, #3f51b5)
		);
		--float-display: var(--cosmoz-input-float-display, block);
		--contour-color: var(--line-color);
		--contour-size: var(--cosmoz-input-contour-size);
		--label-translate-y: var(--cosmoz-input-label-translate-y, 0%);
		--focused: var(--cosmoz-input-focused, none);

		display: block;
		padding: var(--cosmoz-input-padding, 8px 0);
		position: relative;
		max-height: var(--cosmoz-input-max-height);
		font-size: var(--font-size);
		line-height: var(--line-height);
		font-family: var(--font-family);
		caret-color: var(--focused-color);
	}

	:host([disabled]) {
		opacity: var(--disabled-opacity);
	}

	.float {
		line-height: calc(var(--line-height) * var(--label-scale));
		background-color: var(--cosmoz-input-float-bg-color, none);
		display: var(--float-display);
	}

	.wrap {
		padding: var(--cosmoz-input-wrap-padding, 0px);
		display: flex;
		align-items: center;
		position: relative;
		background: var(--bg);
		opacity: var(--cosmoz-input-opacity);
		border-radius: var(--cosmoz-input-border-radius);
		box-shadow: 0 0 0 var(--contour-size) var(--contour-color);
	}

	.control {
		flex: 1;
		position: relative;
	}

	#input {
		padding: 0;
		margin: 0;
		outline: none;
		border: none;
		width: 100%;
		max-width: 100%;
		display: block;
		background: transparent;
		line-height: inherit;
		font-size: inherit;
		font-family: inherit;
		resize: none;
	}

	label {
		position: absolute;
		top: 0;
		left: 0;
		width: var(--cosmoz-input-label-width, 100%);
		transition:
			transform 0.25s,
			width 0.25s;
		transform-origin: left top;
		color: var(--color);
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
		text-transform: var(--cosmoz-input-label-text-transform);
		font-weight: var(--cosmoz-input-label-font-weight);
		user-select: none;
	}

	.wrap:has(#input:not(:placeholder-shown)) {
		slot[name='suffix']::slotted(*),
		slot[name='prefix']::slotted(*) {
			transform: translateY(var(--label-translate-y));
		}
	}

	:host([always-float-label]) label,
	#input:not(:placeholder-shown) + label {
		transform: translateY(
				calc(var(--label-scale) * -100% + var(--label-translate-y))
			)
			scale(var(--label-scale));
		background-color: var(--cosmoz-input-floating-label-bg, var(--bg));
	}

	:host([always-float-label]) input,
	#input:not(:placeholder-shown) {
		transform: translateY(var(--label-translate-y));
	}

	:host([always-float-label]) {
		slot[name='suffix']::slotted(*),
		slot[name='prefix']::slotted(*) {
			transform: translateY(var(--label-translate-y));
		}
	}

	:host([no-label-float]) {
		.float,
		label {
			display: none;
		}

		#input:not(:placeholder-shown) {
			transform: translateY(0%);
		}

		.wrap:has(#input:not(:placeholder-shown)) slot[name='suffix']::slotted(*),
		.wrap:has(#input:not(:placeholder-shown)) slot[name='prefix']::slotted(*) {
			transform: translateY(0%);
		}
	}

	.line {
		padding-top: 1px;
		border-bottom: 1px solid var(--line-color);
		position: relative;
		display: var(--cosmoz-input-line-display, block);
	}

	.line::before {
		content: '';
		position: absolute;
		border-bottom: 2px solid transparent;
		border-bottom-color: inherit;
		left: 0;
		right: 0;
		top: 0;
		transform: scaleX(0);
		transform-origin: center center;
		z-index: 1;
	}

	:host([disabled]) .line {
		border-bottom-style: dashed;
		opacity: var(--disabled-line-opacity);
	}

	.error {
		font-size: 12px;
		line-height: 20px;
		overflow: hidden;
		text-overflow: clip;
		position: absolute;
		max-width: 100%;
	}

	:host([invalid]) {
		--contour-color: var(--invalid-color);
		caret-color: var(--invalid-color);
	}

	:host([invalid]) label,
	.error {
		color: var(--invalid-color);
	}
	:host([invalid]) .line {
		border-bottom-color: var(--invalid-color);
	}

	#input::-webkit-inner-spin-button {
		z-index: 1;
	}

	:host([no-spinner]) #input::-webkit-inner-spin-button {
		display: none;
	}
	:host([no-spinner]) #input {
		-moz-appearence: textfield;
	}

	:host([autosize]) {
		width: min-content;
	}
	:host([autosize]) #input {
		min-width: 2ch;
		width: var(--chars);
	}
	:host([autosize]) .control {
		max-width: 100%;
	}

	:host([autosize][type='number']) #input {
		--width: calc(var(--chars) + 0.25em);
	}
	:host([autosize][type='number']:not([no-spinner])) #input {
		width: calc(var(--width) + 15px);
		min-width: calc(2ch + 0.25em + 15px);
	}
	:host([autosize][type='number'][no-spinner]) #input {
		width: var(--width);
		min-width: calc(2ch + 0.25em);
	}
	:host([type='color']) .line {
		display: none;
	}

	:host(:focus-within) {
		${Wi}
	}
	@container style(--focused: focused) {
		${Wi}
	}
`,nu=["type","pattern","allowed-pattern","min","max","step","autosize","label","placeholder",...qr],ru=s=>{const{type:e="text",pattern:t,allowedPattern:i,autocomplete:n,value:r,readonly:o,disabled:a,min:l,max:c,step:u,maxlength:h}=s,{onChange:d,onFocus:f,onInput:p,onRef:g}=Wr(s),m=Jc(i);return Yr(k`
			<input
				${ve(g)}
				style="--chars: ${r?.toString()?.length??0}ch"
				id="input"
				part="input"
				type=${e}
				pattern=${W(t)}
				autocomplete=${W(n)}
				placeholder=${Wc(s)}
				?readonly=${o}
				?aria-disabled=${a}
				?disabled=${a}
				.value=${cs(r??"")}
				maxlength=${W(h)}
				@beforeinput=${m}
				@input=${p}
				@change=${d}
				@focus=${f}
				@blur=${f}
				min=${W(l)}
				max=${W(c)}
				step=${W(u)}
			/>
		`,s)};customElements.define("cosmoz-input",J(ru,{observedAttributes:nu,styleSheets:[ni(Gr)]}));const Yi=s=>{s.style.height="",s.style.height=`${s.scrollHeight}px`},ou=(s,e=0)=>{if(e>0){const t=s.getAttribute("rows")??"",i=s.style.height;s.style.height="",s.setAttribute("rows",e),s.style.maxHeight=s.getBoundingClientRect().height+"px",s.style.height=i,s.setAttribute("rows",t)}},au=s=>{const{value:e,maxRows:t}=s,i=B(()=>()=>s.shadowRoot.querySelector("#input"),[]);F(()=>ou(i(),t),[t,i]),F(()=>Yi(i()),[i,e]),F(()=>{const n=i(),r=new ResizeObserver(()=>requestAnimationFrame(()=>Yi(n)));return r.observe(n),()=>r.unobserve(n)},[i])},lu=["rows","placeholder",...qr],cu=s=>{const{autocomplete:e,value:t,placeholder:i,readonly:n,disabled:r,rows:o,cols:a,maxlength:l}=s,{onChange:c,onFocus:u,onInput:h,onRef:d}=Wr(s);return au(s),Yr(k`
			<textarea id="input" part="input"
				${ve(d)}
				autocomplete=${W(e)}
				placeholder=${i||" "}
				rows=${o??1} cols=${W(a)}
				?readonly=${n} ?aria-disabled=${r} ?disabled=${r}
				.value=${cs(t??"")} maxlength=${W(l)} @input=${h}
				@change=${c} @focus=${u} @blur=${u}>`,s)};customElements.define("cosmoz-textarea",J(cu,{observedAttributes:lu,styleSheets:[ni(Gr)]}));const uu=s=>{const{label:e,value:t,disabled:i,error:n}=s,r=U(o=>s.dispatchEvent(new CustomEvent("change",{detail:o.target.checked})),[]);return k`<input
			id="toggle"
			class="toggle"
			part="toggle"
			type="checkbox"
			.checked=${cs(!!t)}
			?disabled=${i}
			@change=${r}
		/>
		${se(e,()=>k`<label for="toggle">${e}</label>`)}
		<slot name="suffix"></slot>
		${se(n,o=>k`<div class="failure">${o}</div>`)} `},hu=ie`
	.toggle {
		appearance: none;
		width: 35px;
		height: 18px;
		display: inline-block;
		position: relative;
		border-radius: 18px;
		overflow: hidden;
		outline: none;
		border: none;
		cursor: pointer;
		background: var(--cz-toggle-color, #101010);
		transition: background-color ease 0.25s;
		margin: 0;
	}
	.toggle::before {
		content: '';
		display: block;
		position: absolute;
		z-index: 2;
		width: 14px;
		height: 14px;
		background: var(--cz-toggle-thumb-color, #15b0d3);
		left: 2px;
		top: 2px;
		border-radius: 50%;
		transition: all cubic-bezier(0.3, 1.5, 0.7, 1) 0.25s;
	}
	.toggle:checked {
		background: var(--cz-toggle-checked-color, #66d7f0);
	}
	.toggle:checked::before {
		left: 19px;
	}
	.toggle + label {
		padding-left: 16px;
		font-size: 14px;
		line-height: 18px;
		cursor: pointer;
		user-select: none;
	}
	.toggle[disabled] {
		opacity: 0.6;
	}
`,du=ie`
	:host {
		display: block;
	}

	:host > * {
		vertical-align: middle;
		line-height: 0px;
	}

	::slotted(*) {
		margin-left: 5px;
	}
`;customElements.define("cosmoz-toggle",J(uu,{styleSheets:[du,hu],observedAttributes:["disabled"]}));const ot=Symbol("memo"),pf=s=>{let e=ot,t=ot,i;return function(n,r){if(e===n&&t===r)return i;const o=s(n,r);return i=o,e=n,t=r,o}},gf=s=>{let e=ot,t=ot,i=ot,n;return function(r,o,a){if(e===r&&t===o&&i===a)return n;const l=s(r,o,a);return n=l,e=r,t=o,i=a,l}},P=s=>typeof s=="string",Ge=()=>{let s,e;const t=new Promise((i,n)=>{s=i,e=n});return t.resolve=s,t.reject=e,t},qi=s=>s==null?"":""+s,fu=(s,e,t)=>{s.forEach(i=>{e[i]&&(t[i]=e[i])})},pu=/###/g,Gi=s=>s&&s.indexOf("###")>-1?s.replace(pu,"."):s,Xi=s=>!s||P(s),at=(s,e,t)=>{const i=P(e)?e.split("."):e;let n=0;for(;n<i.length-1;){if(Xi(s))return{};const r=Gi(i[n]);!s[r]&&t&&(s[r]=new t),Object.prototype.hasOwnProperty.call(s,r)?s=s[r]:s={},++n}return Xi(s)?{}:{obj:s,k:Gi(i[n])}},Qi=(s,e,t)=>{const{obj:i,k:n}=at(s,e,Object);if(i!==void 0||e.length===1){i[n]=t;return}let r=e[e.length-1],o=e.slice(0,e.length-1),a=at(s,o,Object);for(;a.obj===void 0&&o.length;)r=`${o[o.length-1]}.${r}`,o=o.slice(0,o.length-1),a=at(s,o,Object),a?.obj&&typeof a.obj[`${a.k}.${r}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${r}`]=t},gu=(s,e,t,i)=>{const{obj:n,k:r}=at(s,e,Object);n[r]=n[r]||[],n[r].push(t)},Yt=(s,e)=>{const{obj:t,k:i}=at(s,e);if(t&&Object.prototype.hasOwnProperty.call(t,i))return t[i]},mu=(s,e,t)=>{const i=Yt(s,t);return i!==void 0?i:Yt(e,t)},Xr=(s,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in s?P(s[i])||s[i]instanceof String||P(e[i])||e[i]instanceof String?t&&(s[i]=e[i]):Xr(s[i],e[i],t):s[i]=e[i]);return s},Ne=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var yu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const bu=s=>P(s)?s.replace(/[&<>"'\/]/g,e=>yu[e]):s;let xu=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}};const wu=[" ",",","?","!",";"],vu=new xu(20),_u=(s,e,t)=>{e=e||"",t=t||"";const i=wu.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(i.length===0)return!0;const n=vu.getRegExp(`(${i.map(o=>o==="?"?"\\?":o).join("|")})`);let r=!n.test(s);if(!r){const o=s.indexOf(t);o>0&&!n.test(s.substring(0,o))&&(r=!0)}return r},Js=(s,e,t=".")=>{if(!s)return;if(s[e])return Object.prototype.hasOwnProperty.call(s,e)?s[e]:void 0;const i=e.split(t);let n=s;for(let r=0;r<i.length;){if(!n||typeof n!="object")return;let o,a="";for(let l=r;l<i.length;++l)if(l!==r&&(a+=t),a+=i[l],o=n[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<i.length-1)continue;r+=l-r+1;break}n=o}return n},gt=s=>s?.replace("_","-"),Su={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){console?.[s]?.apply?.(console,e)}};let Cu=class Ws{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Su,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,n){return n&&!this.debug?null:(P(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Ws(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Ws(this.logger,e)}};var le=new Cu;let hs=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const n=this.observers[i].get(t)||0;this.observers[i].set(t,n+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([n,r])=>{for(let o=0;o<r;o++)n(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,r])=>{for(let o=0;o<r;o++)n.apply(n,[e,...t])})}},Zi=class extends hs{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i,n={}){const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,o=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],i&&(Array.isArray(i)?a.push(...i):P(i)&&r?a.push(...i.split(r)):a.push(i)));const l=Yt(this.data,a);return!l&&!t&&!i&&e.indexOf(".")>-1&&(e=a[0],t=a[1],i=a.slice(2).join(".")),l||!o||!P(i)?l:Js(this.data?.[e]?.[t],i,r)}addResource(e,t,i,n,r={silent:!1}){const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=[e,t];i&&(a=a.concat(o?i.split(o):i)),e.indexOf(".")>-1&&(a=e.split("."),n=t,t=a[1]),this.addNamespaces(t),Qi(this.data,a,n),r.silent||this.emit("added",e,t,i,n)}addResources(e,t,i,n={silent:!1}){for(const r in i)(P(i[r])||Array.isArray(i[r]))&&this.addResource(e,t,r,i[r],{silent:!0});n.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,n,r,o={silent:!1,skipCopy:!1}){let a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),n=i,i=t,t=a[1]),this.addNamespaces(t);let l=Yt(this.data,a)||{};o.skipCopy||(i=JSON.parse(JSON.stringify(i))),n?Xr(l,i,r):l={...l,...i},Qi(this.data,a,l),o.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(n=>t[n]&&Object.keys(t[n]).length>0)}toJSON(){return this.data}};var Qr={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,t,i,n){return s.forEach(r=>{e=this.processors[r]?.process(e,t,i,n)??e}),e}};const Zr=Symbol("i18next/PATH_KEY");function Pu(){const s=[],e=Object.create(null);let t;return e.get=(i,n)=>(t?.revoke?.(),n===Zr?s:(s.push(n),t=Proxy.revocable(i,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Ys(s,e){const{[Zr]:t}=s(Pu());return t.join(e?.keySeparator??".")}const en={},Ls=s=>!P(s)&&typeof s!="boolean"&&typeof s!="number";let tn=class eo extends hs{constructor(e,t={}){super(),fu(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=le.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const i={...t};if(e==null)return!1;const n=this.resolve(e,i);if(n?.res===void 0)return!1;const r=Ls(n.res);return!(i.returnObjects===!1&&r)}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const n=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const o=i&&e.indexOf(i)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!_u(e,i,n);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:P(r)?[r]:r};const c=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(c[0])>-1)&&(r=c.shift()),e=c.join(n)}return{key:e,namespaces:P(r)?[r]:r}}translate(e,t,i){let n=typeof t=="object"?{...t}:t;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";typeof e=="function"&&(e=Ys(e,{...this.options,...n})),Array.isArray(e)||(e=[String(e)]);const r=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],n),c=l[l.length-1];let u=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const h=n.lng||this.language,d=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode")return d?r?{res:`${c}${u}${a}`,usedKey:a,exactUsedKey:a,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:`${c}${u}${a}`:r?{res:a,usedKey:a,exactUsedKey:a,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(n)}:a;const f=this.resolve(e,n);let p=f?.res;const g=f?.usedKey||a,m=f?.exactUsedKey||a,y=["[object Number]","[object Function]","[object RegExp]"],b=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject,x=n.count!==void 0&&!P(n.count),v=eo.hasDefaultValue(n),S=x?this.pluralResolver.getSuffix(h,n.count,n):"",_=n.ordinal&&x?this.pluralResolver.getSuffix(h,n.count,{ordinal:!1}):"",z=x&&!n.ordinal&&n.count===0,N=z&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${S}`]||n[`defaultValue${_}`]||n.defaultValue;let R=p;w&&!p&&v&&(R=N);const V=Ls(R),Q=Object.prototype.toString.apply(R);if(w&&R&&V&&y.indexOf(Q)<0&&!(P(b)&&Array.isArray(R))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,R,{...n,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return r?(f.res=j,f.usedParams=this.getUsedParamsDetails(n),f):j}if(o){const j=Array.isArray(R),E=j?[]:{},I=j?m:g;for(const D in R)if(Object.prototype.hasOwnProperty.call(R,D)){const $=`${I}${o}${D}`;v&&!p?E[D]=this.translate($,{...n,defaultValue:Ls(N)?N[D]:void 0,joinArrays:!1,ns:l}):E[D]=this.translate($,{...n,joinArrays:!1,ns:l}),E[D]===$&&(E[D]=R[D])}p=E}}else if(w&&P(b)&&Array.isArray(p))p=p.join(b),p&&(p=this.extendTranslation(p,e,n,i));else{let j=!1,E=!1;!this.isValidLookup(p)&&v&&(j=!0,p=N),this.isValidLookup(p)||(E=!0,p=a);const D=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&E?void 0:p,$=v&&N!==p&&this.options.updateMissing;if(E||j||$){if(this.logger.log($?"updateKey":"missingKey",h,c,a,$?N:p),o){const H=this.resolve(a,{...n,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let C=[];const A=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&A&&A[0])for(let H=0;H<A.length;H++)C.push(A[H]);else this.options.saveMissingTo==="all"?C=this.languageUtils.toResolveHierarchy(n.lng||this.language):C.push(n.lng||this.language);const K=(H,me,Se)=>{const wt=v&&Se!==p?Se:D;this.options.missingKeyHandler?this.options.missingKeyHandler(H,c,me,wt,$,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(H,c,me,wt,$,n),this.emit("missingKey",H,c,me,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&x?C.forEach(H=>{const me=this.pluralResolver.getSuffixes(H,n);z&&n[`defaultValue${this.options.pluralSeparator}zero`]&&me.indexOf(`${this.options.pluralSeparator}zero`)<0&&me.push(`${this.options.pluralSeparator}zero`),me.forEach(Se=>{K([H],a+Se,n[`defaultValue${Se}`]||N)})}):K(C,a,N))}p=this.extendTranslation(p,e,n,f,i),E&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${c}${u}${a}`),(E||j)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${a}`:a,j?p:void 0,n))}return r?(f.res=p,f.usedParams=this.getUsedParamsDetails(n),f):p}extendTranslation(e,t,i,n,r){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const l=P(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(l){const h=e.match(this.interpolator.nestingRegexp);c=h&&h.length}let u=i.replace&&!P(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,i.lng||this.language||n.usedLng,i),l){const h=e.match(this.interpolator.nestingRegexp),d=h&&h.length;c<d&&(i.nest=!1)}!i.lng&&n&&n.res&&(i.lng=this.language||n.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>r?.[0]===h[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${t[0]}`),null):this.translate(...h,t),i)),i.interpolation&&this.interpolator.reset()}const o=i.postProcess||this.options.postProcess,a=P(o)?[o]:o;return e!=null&&a?.length&&i.applyPostProcessor!==!1&&(e=Qr.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,t={}){let i,n,r,o,a;return P(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(i))return;const c=this.extractFromKey(l,t),u=c.key;n=u;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const d=t.count!==void 0&&!P(t.count),f=d&&!t.ordinal&&t.count===0,p=t.context!==void 0&&(P(t.context)||typeof t.context=="number")&&t.context!=="",g=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(m=>{this.isValidLookup(i)||(a=m,!en[`${g[0]}-${m}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(en[`${g[0]}-${m}`]=!0,this.logger.warn(`key "${n}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(y=>{if(this.isValidLookup(i))return;o=y;const b=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(b,u,y,m,t);else{let x;d&&(x=this.pluralResolver.getSuffix(y,t.count,t));const v=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(t.ordinal&&x.indexOf(S)===0&&b.push(u+x.replace(S,this.options.pluralSeparator)),b.push(u+x),f&&b.push(u+v)),p){const _=`${u}${this.options.contextSeparator||"_"}${t.context}`;b.push(_),d&&(t.ordinal&&x.indexOf(S)===0&&b.push(_+x.replace(S,this.options.pluralSeparator)),b.push(_+x),f&&b.push(_+v))}}let w;for(;w=b.pop();)this.isValidLookup(i)||(r=w,i=this.getResource(y,m,w,t))}))})}),{res:i,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,i,n):this.resourceStore.getResource(e,t,i,n)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!P(e.replace);let n=i?e.replace:e;if(i&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!i){n={...n};for(const r of t)delete n[r]}return n}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}},sn=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=le.create("languageUtils")}getScriptPartFromCode(e){if(e=gt(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=gt(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(P(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const n=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const n=this.getScriptPartFromCode(i);if(this.isSupportedCode(n))return t=n;const r=this.getLanguagePartFromCode(i);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(o=>{if(o===r)return o;if(!(o.indexOf("-")<0&&r.indexOf("-")<0)&&(o.indexOf("-")>0&&r.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===r||o.indexOf(r)===0&&r.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),P(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),n=[],r=o=>{o&&(this.isSupportedCode(o)?n.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return P(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):P(e)&&r(this.formatLanguageCode(e)),i.forEach(o=>{n.indexOf(o)<0&&r(this.formatLanguageCode(o))}),n}};const nn={zero:0,one:1,two:2,few:3,many:4,other:5},rn={select:s=>s===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};let Ou=class{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=le.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const i=gt(e==="dev"?"en":e),n=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:i,type:n});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let o;try{o=new Intl.PluralRules(i,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),rn;if(!e.match(/-|_/))return rn;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,t)}return this.pluralRulesCache[r]=o,o}needsPlural(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,i={}){return this.getSuffixes(e,i).map(n=>`${t}${n}`)}getSuffixes(e,t={}){let i=this.getRule(e,t);return i||(i=this.getRule("dev",t)),i?i.resolvedOptions().pluralCategories.sort((n,r)=>nn[n]-nn[r]).map(n=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(e,t,i={}){const n=this.getRule(e,i);return n?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,i))}};const on=(s,e,t,i=".",n=!0)=>{let r=mu(s,e,t);return!r&&n&&P(t)&&(r=Js(s,t,i),r===void 0&&(r=Js(e,t,i))),r},Es=s=>s.replace(/\$/g,"$$$$");let an=class{constructor(e={}){this.logger=le.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:n,prefix:r,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:d,nestingPrefixEscaped:f,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:m,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=t!==void 0?t:bu,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=r?Ne(r):o||"{{",this.suffix=a?Ne(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?Ne(d):f||Ne("$t("),this.nestingSuffix=p?Ne(p):g||Ne(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t?.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,i,n){let r,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=f=>{if(f.indexOf(this.formatSeparator)<0){const y=on(t,l,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,i,{...n,...t,interpolationkey:f}):y}const p=f.split(this.formatSeparator),g=p.shift().trim(),m=p.join(this.formatSeparator).trim();return this.format(on(t,l,g,this.options.keySeparator,this.options.ignoreJSONStructure),m,i,{...n,...t,interpolationkey:g})};this.resetRegExp();const u=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,h=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>Es(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?Es(this.escape(f)):Es(f)}].forEach(f=>{for(a=0;r=f.regex.exec(e);){const p=r[1].trim();if(o=c(p),o===void 0)if(typeof u=="function"){const m=u(e,r,n);o=P(m)?m:""}else if(n&&Object.prototype.hasOwnProperty.call(n,p))o="";else if(h){o=r[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),o="";else!P(o)&&!this.useRawValueToEscape&&(o=qi(o));const g=f.safeValue(o);if(e=e.replace(r[0],g),h?(f.regex.lastIndex+=o.length,f.regex.lastIndex-=r[0].length):f.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t,i={}){let n,r,o;const a=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const h=l.split(new RegExp(`${u}[ ]*{`));let d=`{${h[1]}`;l=h[0],d=this.interpolate(d,o);const f=d.match(/'/g),p=d.match(/"/g);((f?.length??0)%2===0&&!p||p.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),c&&(o={...c,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${u}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;n=this.nestingRegexp.exec(e);){let l=[];o={...i},o=o.replace&&!P(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const c=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(c!==-1&&(l=n[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),n[1]=n[1].slice(0,c)),r=t(a.call(this,n[1].trim(),o),o),r&&n[0]===e&&!P(r))return r;P(r)||(r=qi(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),l.length&&(r=l.reduce((u,h)=>this.format(u,h,i.lng,{...i,interpolationkey:n[1].trim()}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}};const Lu=s=>{let e=s.toLowerCase().trim();const t={};if(s.indexOf("(")>-1){const i=s.split("(");e=i[0].toLowerCase().trim();const n=i[1].substring(0,i[1].length-1);e==="currency"&&n.indexOf(":")<0?t.currency||(t.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?t.range||(t.range=n.trim()):n.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();t[u]||(t[u]=c),c==="false"&&(t[u]=!1),c==="true"&&(t[u]=!0),isNaN(c)||(t[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:t}},ln=s=>{const e={};return(t,i,n)=>{let r=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(r={...r,[n.interpolationkey]:void 0});const o=i+JSON.stringify(r);let a=e[o];return a||(a=s(gt(i),n),e[o]=a),a(t)}},Eu=s=>(e,t,i)=>s(gt(t),i)(e);let $u=class{constructor(e={}){this.logger=le.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const i=t.cacheInBuiltFormats?ln:Eu;this.formats={number:i((n,r)=>{const o=new Intl.NumberFormat(n,{...r});return a=>o.format(a)}),currency:i((n,r)=>{const o=new Intl.NumberFormat(n,{...r,style:"currency"});return a=>o.format(a)}),datetime:i((n,r)=>{const o=new Intl.DateTimeFormat(n,{...r});return a=>o.format(a)}),relativetime:i((n,r)=>{const o=new Intl.RelativeTimeFormat(n,{...r});return a=>o.format(a,r.range||"day")}),list:i((n,r)=>{const o=new Intl.ListFormat(n,{...r});return a=>o.format(a)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=ln(t)}format(e,t,i,n={}){const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(a=>a.indexOf(")")>-1)){const a=r.findIndex(l=>l.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,a)].join(this.formatSeparator)}return r.reduce((a,l)=>{const{formatName:c,formatOptions:u}=Lu(l);if(this.formats[c]){let h=a;try{const d=n?.formatParams?.[n.interpolationkey]||{},f=d.locale||d.lng||n.locale||n.lng||i;h=this.formats[c](a,f,{...u,...n,...d})}catch(d){this.logger.warn(d)}return h}else this.logger.warn(`there was no format function for ${c}`);return a},e)}};const Ru=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};let ku=class extends hs{constructor(e,t,i,n={}){super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=n,this.logger=le.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,n.backend,n)}queueLoad(e,t,i,n){const r={},o={},a={},l={};return e.forEach(c=>{let u=!0;t.forEach(h=>{const d=`${c}|${h}`;!i.reload&&this.store.hasResourceBundle(c,h)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,u=!1,o[d]===void 0&&(o[d]=!0),r[d]===void 0&&(r[d]=!0),l[h]===void 0&&(l[h]=!0)))}),u||(a[c]=!0)}),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,i){const n=e.split("|"),r=n[0],o=n[1];t&&this.emit("failedLoading",r,o,t),!t&&i&&this.store.addResourceBundle(r,o,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const a={};this.queue.forEach(l=>{gu(l.loaded,[r],o),Ru(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(h=>{a[c][h]===void 0&&(a[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,t,i,n=0,r=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:n,wait:r,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,n+1,r*2,o)},r);return}o(c,u)},l=this.backend[i].bind(this.backend);if(l.length===2){try{const c=l(e,t);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,t,a)}prepareLoading(e,t,i={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();P(e)&&(e=this.languageUtils.toResolveHierarchy(e)),P(t)&&(t=[t]);const r=this.queueLoad(e,t,i,n);if(!r.toLoad.length)return r.pending.length||n(),null;r.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e,t=""){const i=e.split("|"),n=i[0],r=i[1];this.read(n,r,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${t}loading namespace ${r} for language ${n} failed`,o),!o&&a&&this.logger.log(`${t}loaded namespace ${r} for language ${n}`,a),this.loaded(e,o,a)})}saveMissing(e,t,i,n,r,o={},a=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const l={...o,isUpdate:r},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,t,i,n,l):u=c(e,t,i,n),u&&typeof u.then=="function"?u.then(h=>a(null,h)).catch(a):a(null,u)}catch(u){a(u)}else c(e,t,i,n,a,l)}!e||!e[0]||this.store.addResource(e[0],t,i,n)}}};const $s=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),P(s[1])&&(e.defaultValue=s[1]),P(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const t=s[3]||s[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),cn=s=>(P(s.ns)&&(s.ns=[s.ns]),P(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),P(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs?.indexOf?.("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),typeof s.initImmediate=="boolean"&&(s.initAsync=s.initImmediate),s),Pt=()=>{},Tu=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(t=>{typeof s[t]=="function"&&(s[t]=s[t].bind(s))})},Au=s=>!!(s?.modules?.backend?.name?.indexOf("Locize")>0||s?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||s?.options?.backend?.backends&&s.options.backend.backends.some(e=>e?.name?.indexOf("Locize")>0||e?.constructor?.name?.indexOf("Locize")>0));let Nu=class zt extends hs{constructor(e={},t){if(super(),this.options=cn(e),this.services={},this.logger=le,this.modules={external:[]},Tu(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(P(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=$s();this.options={...i,...this.options,...cn(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=i.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!Au(this)&&typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com ");const n=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?le.init(n(this.modules.logger),this.options):le.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=$u;const u=new sn(this.options);this.store=new Zi(this.options.resources,this.options);const h=this.services;h.logger=le,h.resourceStore=this.store,h.languageUtils=u,h.pluralResolver=new Ou(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=n(c),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new an(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new ku(n(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(f,...p)=>{this.emit(f,...p)}),this.modules.languageDetector&&(h.languageDetector=n(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=n(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new tn(this.services,this.options),this.translator.on("*",(f,...p)=>{this.emit(f,...p)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Pt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const a=Ge(),l=()=>{const c=(u,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(h),t(u,h)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,t=Pt){let i=t;const n=P(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const r=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&r.indexOf(c)<0&&r.push(c)})};n?o(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload?.forEach?.(a=>o(a)),this.services.backendConnector.load(r,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(a)})}else i(null)}reloadResources(e,t,i){const n=Ge();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=Pt),this.services.backendConnector.reload(e,t,r=>{n.resolve(),i(r)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Qr.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const i=Ge();this.emit("languageChanging",e);const n=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},r=(a,l)=>{l?this.isLanguageChangingTo===e&&(n(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,i.resolve((...c)=>this.t(...c)),t&&t(a,(...c)=>this.t(...c))},o=a=>{!e&&!a&&this.services.languageDetector&&(a=[]);const l=P(a)?a:a&&a[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(P(a)?[a]:a);c&&(this.language||n(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector?.cacheUserLanguage?.(c)),this.loadResources(c,u=>{r(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,t,i){const n=(r,o,...a)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([r,o].concat(a)):l={...o},l.lng=l.lng||n.lng,l.lngs=l.lngs||n.lngs,l.ns=l.ns||n.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||i||n.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(r)?u=r.map(h=>(typeof h=="function"&&(h=Ys(h,{...this.options,...o})),`${l.keyPrefix}${c}${h}`)):(typeof r=="function"&&(r=Ys(r,{...this.options,...o})),u=l.keyPrefix?`${l.keyPrefix}${c}${r}`:r),this.t(u,l)};return P(e)?n.lng=e:n.lngs=e,n.ns=t,n.keyPrefix=i,n}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(t.precheck){const a=t.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(i,e)&&(!n||o(r,e)))}loadNamespaces(e,t){const i=Ge();return this.options.ns?(P(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{i.resolve(),t&&t(n)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=Ge();P(e)&&(e=[e]);const n=this.options.preload||[],r=e.filter(o=>n.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return r.length?(this.options.preload=n.concat(r),this.loadResources(o=>{i.resolve(),t&&t(o)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const n=new Intl.Locale(e);if(n&&n.getTextInfo){const r=n.getTextInfo();if(r&&r.direction)return r.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new sn($s());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const i=new zt(e,t);return i.createInstance=zt.createInstance,i}cloneInstance(e={},t=Pt){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},r=new zt(n);if((e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(a=>{r[a]=this[a]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},i){const a=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,h)=>(u[h]={...l[c][h]},u),l[c]),l),{});r.store=new Zi(a,n),r.services.resourceStore=r.store}if(e.interpolation){const l={...$s().interpolation,...this.options.interpolation,...e.interpolation},c={...n,interpolation:l};r.services.interpolator=new an(c)}return r.translator=new tn(r.services,n),r.translator.on("*",(a,...l)=>{r.emit(a,...l)}),r.init(n,t),r.translator.options=n,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}};const X=Nu.createInstance();X.createInstance;X.dir;X.init;X.loadResources;X.reloadResources;X.use;X.changeLanguage;X.getFixedT;const Cf=X.t;X.exists;X.setDefaultNamespace;X.hasLoadedNamespace;X.loadNamespaces;X.loadLanguages;class qs{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(e,t){this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run(()=>{this._timer=null,Gs.delete(this),this._callback()})}cancel(){this.isActive()&&(this._cancelAsync(),Gs.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return this._timer!=null}static debounce(e,t,i){return e instanceof qs?e._cancelAsync():e=new qs,e.setConfig(t,i),e}}let Gs=new Set;const Pf=function(s){Gs.add(s)};const Of=pe(class extends ke{constructor(s){if(super(s),s.type!==ne.ATTRIBUTE||s.name!=="class"||s.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(s){return" "+Object.keys(s).filter(e=>s[e]).join(" ")+" "}update(s,[e]){if(this.st===void 0){this.st=new Set,s.strings!==void 0&&(this.nt=new Set(s.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in e)e[i]&&!this.nt?.has(i)&&this.st.add(i);return this.render(e)}const t=s.element.classList;for(const i of this.st)i in e||(t.remove(i),this.st.delete(i));for(const i in e){const n=!!e[i];n===this.st.has(i)||this.nt?.has(i)||(n?(t.add(i),this.st.add(i)):(t.remove(i),this.st.delete(i)))}return Y}}),O=s=>typeof s=="string",Xe=()=>{let s,e;const t=new Promise((i,n)=>{s=i,e=n});return t.resolve=s,t.reject=e,t},un=s=>s==null?"":""+s,zu=(s,e,t)=>{s.forEach(i=>{e[i]&&(t[i]=e[i])})},Fu=/###/g,hn=s=>s&&s.indexOf("###")>-1?s.replace(Fu,"."):s,dn=s=>!s||O(s),lt=(s,e,t)=>{const i=O(e)?e.split("."):e;let n=0;for(;n<i.length-1;){if(dn(s))return{};const r=hn(i[n]);!s[r]&&t&&(s[r]=new t),Object.prototype.hasOwnProperty.call(s,r)?s=s[r]:s={},++n}return dn(s)?{}:{obj:s,k:hn(i[n])}},fn=(s,e,t)=>{const{obj:i,k:n}=lt(s,e,Object);if(i!==void 0||e.length===1){i[n]=t;return}let r=e[e.length-1],o=e.slice(0,e.length-1),a=lt(s,o,Object);for(;a.obj===void 0&&o.length;)r=`${o[o.length-1]}.${r}`,o=o.slice(0,o.length-1),a=lt(s,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${r}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${r}`]=t},Iu=(s,e,t,i)=>{const{obj:n,k:r}=lt(s,e,Object);n[r]=n[r]||[],n[r].push(t)},qt=(s,e)=>{const{obj:t,k:i}=lt(s,e);if(t)return t[i]},Du=(s,e,t)=>{const i=qt(s,t);return i!==void 0?i:qt(e,t)},to=(s,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in s?O(s[i])||s[i]instanceof String||O(e[i])||e[i]instanceof String?t&&(s[i]=e[i]):to(s[i],e[i],t):s[i]=e[i]);return s},ze=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Mu={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ju=s=>O(s)?s.replace(/[&<>"'\/]/g,e=>Mu[e]):s;let Vu=class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}};const Uu=[" ",",","?","!",";"],Bu=new Vu(20),Hu=(s,e,t)=>{e=e||"",t=t||"";const i=Uu.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(i.length===0)return!0;const n=Bu.getRegExp(`(${i.map(o=>o==="?"?"\\?":o).join("|")})`);let r=!n.test(s);if(!r){const o=s.indexOf(t);o>0&&!n.test(s.substring(0,o))&&(r=!0)}return r},Xs=function(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!s)return;if(s[e])return s[e];const i=e.split(t);let n=s;for(let r=0;r<i.length;){if(!n||typeof n!="object")return;let o,a="";for(let l=r;l<i.length;++l)if(l!==r&&(a+=t),a+=i[l],o=n[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<i.length-1)continue;r+=l-r+1;break}n=o}return n},Gt=s=>s&&s.replace("_","-"),Ku={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){console&&console[s]&&console[s].apply(console,e)}};let Ju=class Qs{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Ku,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,n){return n&&!this.debug?null:(O(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Qs(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Qs(this.logger,e)}};var ce=new Ju;let ds=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const n=this.observers[i].get(t)||0;this.observers[i].set(t,n+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...i])})}},pn=class extends ds{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,o=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],i&&(Array.isArray(i)?a.push(...i):O(i)&&r?a.push(...i.split(r)):a.push(i)));const l=qt(this.data,a);return!l&&!t&&!i&&e.indexOf(".")>-1&&(e=a[0],t=a[1],i=a.slice(2).join(".")),l||!o||!O(i)?l:Xs(this.data&&this.data[e]&&this.data[e][t],i,r)}addResource(e,t,i,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=[e,t];i&&(a=a.concat(o?i.split(o):i)),e.indexOf(".")>-1&&(a=e.split("."),n=t,t=a[1]),this.addNamespaces(t),fn(this.data,a,n),r.silent||this.emit("added",e,t,i,n)}addResources(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const r in i)(O(i[r])||Array.isArray(i[r]))&&this.addResource(e,t,r,i[r],{silent:!0});n.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,n,r){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),n=i,i=t,t=a[1]),this.addNamespaces(t);let l=qt(this.data,a)||{};o.skipCopy||(i=JSON.parse(JSON.stringify(i))),n?to(l,i,r):l={...l,...i},fn(this.data,a,l),o.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(n=>t[n]&&Object.keys(t[n]).length>0)}toJSON(){return this.data}};var so={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,t,i,n){return s.forEach(r=>{this.processors[r]&&(e=this.processors[r].process(e,t,i,n))}),e}};const gn={};let mn=class io extends ds{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),zu(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ce.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return i&&i.res!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const n=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const o=i&&e.indexOf(i)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Hu(e,i,n);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:O(r)?[r]:r};const c=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(c[0])>-1)&&(r=c.shift()),e=c.join(n)}return{key:e,namespaces:O(r)?[r]:r}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const n=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),l=a[a.length-1],c=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const x=t.nsSeparator||this.options.nsSeparator;return n?{res:`${l}${x}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${x}${o}`}return n?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:o}const h=this.resolve(e,t);let d=h&&h.res;const f=h&&h.usedKey||o,p=h&&h.exactUsedKey||o,g=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],y=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!O(d)&&typeof d!="boolean"&&typeof d!="number";if(b&&d&&w&&m.indexOf(g)<0&&!(O(y)&&Array.isArray(d))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,d,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return n?(h.res=x,h.usedParams=this.getUsedParamsDetails(t),h):x}if(r){const x=Array.isArray(d),v=x?[]:{},S=x?p:f;for(const _ in d)if(Object.prototype.hasOwnProperty.call(d,_)){const z=`${S}${r}${_}`;v[_]=this.translate(z,{...t,joinArrays:!1,ns:a}),v[_]===z&&(v[_]=d[_])}d=v}}else if(b&&O(y)&&Array.isArray(d))d=d.join(y),d&&(d=this.extendTranslation(d,e,t,i));else{let x=!1,v=!1;const S=t.count!==void 0&&!O(t.count),_=io.hasDefaultValue(t),z=S?this.pluralResolver.getSuffix(c,t.count,t):"",N=t.ordinal&&S?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",R=S&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),V=R&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${z}`]||t[`defaultValue${N}`]||t.defaultValue;!this.isValidLookup(d)&&_&&(x=!0,d=V),this.isValidLookup(d)||(v=!0,d=o);const j=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&v?void 0:d,E=_&&V!==d&&this.options.updateMissing;if(v||x||E){if(this.logger.log(E?"updateKey":"missingKey",c,l,o,E?V:d),r){const C=this.resolve(o,{...t,keySeparator:!1});C&&C.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let C=0;C<D.length;C++)I.push(D[C]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(t.lng||this.language):I.push(t.lng||this.language);const $=(C,A,K)=>{const H=_&&K!==d?K:j;this.options.missingKeyHandler?this.options.missingKeyHandler(C,l,A,H,E,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(C,l,A,H,E,t),this.emit("missingKey",C,l,A,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?I.forEach(C=>{const A=this.pluralResolver.getSuffixes(C,t);R&&t[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(K=>{$([C],o+K,t[`defaultValue${K}`]||V)})}):$(I,o,V))}d=this.extendTranslation(d,e,t,h,i),v&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${o}`),(v||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,x?d:void 0):d=this.options.parseMissingKeyHandler(d))}return n?(h.res=d,h.usedParams=this.getUsedParamsDetails(t),h):d}extendTranslation(e,t,i,n,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const c=O(e)&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const d=e.match(this.interpolator.nestingRegexp);u=d&&d.length}let h=i.replace&&!O(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,i.lng||this.language||n.usedLng,i),c){const d=e.match(this.interpolator.nestingRegexp),f=d&&d.length;u<f&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&n&&n.res&&(i.lng=this.language||n.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];return r&&r[0]===f[0]&&!i.context?(o.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${t[0]}`),null):o.translate(...f,t)},i)),i.interpolation&&this.interpolator.reset()}const a=i.postProcess||this.options.postProcess,l=O(a)?[a]:a;return e!=null&&l&&l.length&&i.applyPostProcessor!==!1&&(e=so.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,n,r,o,a;return O(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(i))return;const c=this.extractFromKey(l,t),u=c.key;n=u;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const d=t.count!==void 0&&!O(t.count),f=d&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),p=t.context!==void 0&&(O(t.context)||typeof t.context=="number")&&t.context!=="",g=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(m=>{this.isValidLookup(i)||(a=m,!gn[`${g[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(gn[`${g[0]}-${m}`]=!0,this.logger.warn(`key "${n}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(y=>{if(this.isValidLookup(i))return;o=y;const b=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,u,y,m,t);else{let x;d&&(x=this.pluralResolver.getSuffix(y,t.count,t));const v=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(b.push(u+x),t.ordinal&&x.indexOf(S)===0&&b.push(u+x.replace(S,this.options.pluralSeparator)),f&&b.push(u+v)),p){const _=`${u}${this.options.contextSeparator}${t.context}`;b.push(_),d&&(b.push(_+x),t.ordinal&&x.indexOf(S)===0&&b.push(_+x.replace(S,this.options.pluralSeparator)),f&&b.push(_+v))}}let w;for(;w=b.pop();)this.isValidLookup(i)||(r=w,i=this.getResource(y,m,w,t))}))})}),{res:i,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,n):this.resourceStore.getResource(e,t,i,n)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!O(e.replace);let n=i?e.replace:e;if(i&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!i){n={...n};for(const r of t)delete n[r]}return n}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}};const Rs=s=>s.charAt(0).toUpperCase()+s.slice(1);let yn=class{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ce.create("languageUtils")}getScriptPartFromCode(e){if(e=Gt(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Gt(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(O(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let n=Intl.getCanonicalLocales(e)[0];if(n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n)return n}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(n=>n.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=Rs(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=Rs(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=Rs(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const n=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const n=this.getLanguagePartFromCode(i);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(r=>{if(r===n)return r;if(!(r.indexOf("-")<0&&n.indexOf("-")<0)&&(r.indexOf("-")>0&&n.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===n||r.indexOf(n)===0&&n.length>1))return r})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),O(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],r=o=>{o&&(this.isSupportedCode(o)?n.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return O(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):O(e)&&r(this.formatLanguageCode(e)),i.forEach(o=>{n.indexOf(o)<0&&r(this.formatLanguageCode(o))}),n}},Wu=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Yu={1:s=>+(s>1),2:s=>+(s!=1),3:s=>0,4:s=>s%10==1&&s%100!=11?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2,5:s=>s==0?0:s==1?1:s==2?2:s%100>=3&&s%100<=10?3:s%100>=11?4:5,6:s=>s==1?0:s>=2&&s<=4?1:2,7:s=>s==1?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2,8:s=>s==1?0:s==2?1:s!=8&&s!=11?2:3,9:s=>+(s>=2),10:s=>s==1?0:s==2?1:s<7?2:s<11?3:4,11:s=>s==1||s==11?0:s==2||s==12?1:s>2&&s<20?2:3,12:s=>+(s%10!=1||s%100==11),13:s=>+(s!==0),14:s=>s==1?0:s==2?1:s==3?2:3,15:s=>s%10==1&&s%100!=11?0:s%10>=2&&(s%100<10||s%100>=20)?1:2,16:s=>s%10==1&&s%100!=11?0:s!==0?1:2,17:s=>s==1||s%10==1&&s%100!=11?0:1,18:s=>s==0?0:s==1?1:2,19:s=>s==1?0:s==0||s%100>1&&s%100<11?1:s%100>10&&s%100<20?2:3,20:s=>s==1?0:s==0||s%100>0&&s%100<20?1:2,21:s=>s%100==1?1:s%100==2?2:s%100==3||s%100==4?3:0,22:s=>s==1?0:s==2?1:(s<0||s>10)&&s%10==0?2:3};const qu=["v1","v2","v3"],Gu=["v4"],bn={zero:0,one:1,two:2,few:3,many:4,other:5},Xu=()=>{const s={};return Wu.forEach(e=>{e.lngs.forEach(t=>{s[t]={numbers:e.nr,plurals:Yu[e.fc]}})}),s};let Qu=class{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ce.create("pluralResolver"),(!this.options.compatibilityJSON||Gu.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Xu(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const i=Gt(e==="dev"?"en":e),n=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:i,type:n});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let o;try{o=new Intl.PluralRules(i,{type:n})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,t)}return this.pluralRulesCache[r]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(n=>`${t}${n}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,t);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((n,r)=>bn[n]-bn[r]).map(n=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${n}`):i.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=this.getRule(e,i);return n?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let n=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(n===2?n="plural":n===1&&(n=""));const r=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return this.options.compatibilityJSON==="v1"?n===1?"":typeof n=="number"?`_plural_${n.toString()}`:r():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?r():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!qu.includes(this.options.compatibilityJSON)}};const xn=function(s,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=Du(s,e,t);return!r&&n&&O(t)&&(r=Xs(s,t,i),r===void 0&&(r=Xs(e,t,i))),r},ks=s=>s.replace(/\$/g,"$$$$");let Zu=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ce.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:n,prefix:r,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:d,nestingPrefixEscaped:f,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:m,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=t!==void 0?t:ju,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=r?ze(r):o||"{{",this.suffix=a?ze(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?ze(d):f||ze("$t("),this.nestingSuffix=p?ze(p):g||ze(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t&&t.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,n){let r,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=f=>{if(f.indexOf(this.formatSeparator)<0){const y=xn(t,l,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,i,{...n,...t,interpolationkey:f}):y}const p=f.split(this.formatSeparator),g=p.shift().trim(),m=p.join(this.formatSeparator).trim();return this.format(xn(t,l,g,this.options.keySeparator,this.options.ignoreJSONStructure),m,i,{...n,...t,interpolationkey:g})};this.resetRegExp();const u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,h=n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>ks(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?ks(this.escape(f)):ks(f)}].forEach(f=>{for(a=0;r=f.regex.exec(e);){const p=r[1].trim();if(o=c(p),o===void 0)if(typeof u=="function"){const m=u(e,r,n);o=O(m)?m:""}else if(n&&Object.prototype.hasOwnProperty.call(n,p))o="";else if(h){o=r[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),o="";else!O(o)&&!this.useRawValueToEscape&&(o=un(o));const g=f.safeValue(o);if(e=e.replace(r[0],g),h?(f.regex.lastIndex+=o.length,f.regex.lastIndex-=r[0].length):f.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,r,o;const a=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const h=l.split(new RegExp(`${u}[ ]*{`));let d=`{${h[1]}`;l=h[0],d=this.interpolate(d,o);const f=d.match(/'/g),p=d.match(/"/g);(f&&f.length%2===0&&!p||p.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),c&&(o={...c,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${u}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;n=this.nestingRegexp.exec(e);){let l=[];o={...i},o=o.replace&&!O(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(n[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(n[1])){const u=n[1].split(this.formatSeparator).map(h=>h.trim());n[1]=u.shift(),l=u,c=!0}if(r=t(a.call(this,n[1].trim(),o),o),r&&n[0]===e&&!O(r))return r;O(r)||(r=un(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),c&&(r=l.reduce((u,h)=>this.format(u,h,i.lng,{...i,interpolationkey:n[1].trim()}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}};const eh=s=>{let e=s.toLowerCase().trim();const t={};if(s.indexOf("(")>-1){const i=s.split("(");e=i[0].toLowerCase().trim();const n=i[1].substring(0,i[1].length-1);e==="currency"&&n.indexOf(":")<0?t.currency||(t.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?t.range||(t.range=n.trim()):n.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();t[u]||(t[u]=c),c==="false"&&(t[u]=!1),c==="true"&&(t[u]=!0),isNaN(c)||(t[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:t}},Fe=s=>{const e={};return(t,i,n)=>{let r=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(r={...r,[n.interpolationkey]:void 0});const o=i+JSON.stringify(r);let a=e[o];return a||(a=s(Gt(i),n),e[o]=a),a(t)}};let th=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ce.create("formatter"),this.options=e,this.formats={number:Fe((t,i)=>{const n=new Intl.NumberFormat(t,{...i});return r=>n.format(r)}),currency:Fe((t,i)=>{const n=new Intl.NumberFormat(t,{...i,style:"currency"});return r=>n.format(r)}),datetime:Fe((t,i)=>{const n=new Intl.DateTimeFormat(t,{...i});return r=>n.format(r)}),relativetime:Fe((t,i)=>{const n=new Intl.RelativeTimeFormat(t,{...i});return r=>n.format(r,i.range||"day")}),list:Fe((t,i)=>{const n=new Intl.ListFormat(t,{...i});return r=>n.format(r)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Fe(t)}format(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(a=>a.indexOf(")")>-1)){const a=r.findIndex(l=>l.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,a)].join(this.formatSeparator)}return r.reduce((a,l)=>{const{formatName:c,formatOptions:u}=eh(l);if(this.formats[c]){let h=a;try{const d=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},f=d.locale||d.lng||n.locale||n.lng||i;h=this.formats[c](a,f,{...u,...n,...d})}catch(d){this.logger.warn(d)}return h}else this.logger.warn(`there was no format function for ${c}`);return a},e)}};const sh=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};let ih=class extends ds{constructor(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=n,this.logger=ce.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,n.backend,n)}queueLoad(e,t,i,n){const r={},o={},a={},l={};return e.forEach(c=>{let u=!0;t.forEach(h=>{const d=`${c}|${h}`;!i.reload&&this.store.hasResourceBundle(c,h)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,u=!1,o[d]===void 0&&(o[d]=!0),r[d]===void 0&&(r[d]=!0),l[h]===void 0&&(l[h]=!0)))}),u||(a[c]=!0)}),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,i){const n=e.split("|"),r=n[0],o=n[1];t&&this.emit("failedLoading",r,o,t),!t&&i&&this.store.addResourceBundle(r,o,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const a={};this.queue.forEach(l=>{Iu(l.loaded,[r],o),sh(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(h=>{a[c][h]===void 0&&(a[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:n,wait:r,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,n+1,r*2,o)},r);return}o(c,u)},l=this.backend[i].bind(this.backend);if(l.length===2){try{const c=l(e,t);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,t,a)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();O(e)&&(e=this.languageUtils.toResolveHierarchy(e)),O(t)&&(t=[t]);const r=this.queueLoad(e,t,i,n);if(!r.toLoad.length)return r.pending.length||n(),null;r.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),n=i[0],r=i[1];this.read(n,r,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${t}loading namespace ${r} for language ${n} failed`,o),!o&&a&&this.logger.log(`${t}loaded namespace ${r} for language ${n}`,a),this.loaded(e,o,a)})}saveMissing(e,t,i,n,r){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:r},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,t,i,n,l):u=c(e,t,i,n),u&&typeof u.then=="function"?u.then(h=>a(null,h)).catch(a):a(null,u)}catch(u){a(u)}else c(e,t,i,n,a,l)}!e||!e[0]||this.store.addResource(e[0],t,i,n)}}};const wn=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),O(s[1])&&(e.defaultValue=s[1]),O(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const t=s[3]||s[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),vn=s=>(O(s.ns)&&(s.ns=[s.ns]),O(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),O(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs&&s.supportedLngs.indexOf("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),s),Ot=()=>{},nh=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(t=>{typeof s[t]=="function"&&(s[t]=s[t].bind(s))})};let no=class Zs extends ds{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=vn(e),this.services={},this.logger=ce,this.modules={external:[]},nh(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(O(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=wn();this.options={...n,...this.options,...vn(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?ce.init(r(this.modules.logger),this.options):ce.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=th);const h=new yn(this.options);this.store=new pn(this.options.resources,this.options);const d=this.services;d.logger=ce,d.resourceStore=this.store,d.languageUtils=h,d.pluralResolver=new Qu(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(d.formatter=r(u),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Zu(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new ih(r(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(f){for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];e.emit(f,...g)}),this.modules.languageDetector&&(d.languageDetector=r(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=r(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new mn(this.services,this.options),this.translator.on("*",function(f){for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];e.emit(f,...g)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,i||(i=Ot),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const l=Xe(),c=()=>{const u=(h,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),i(h,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot;const n=O(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&n.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const r=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&r.indexOf(c)<0&&r.push(c)})};n?o(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(r,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(a)})}else i(null)}reloadResources(e,t,i){const n=Xe();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=Ot),this.services.backendConnector.reload(e,t,r=>{n.resolve(),i(r)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&so.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const n=Xe();this.emit("languageChanging",e);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve(function(){return i.t(...arguments)}),t&&t(l,function(){return i.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=O(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||r(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{o(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,t,i){var n=this;const r=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];l=n.options.overloadTranslationOptionHandler([o,a].concat(u))}else l={...a};l.lng=l.lng||r.lng,l.lngs=l.lngs||r.lngs,l.ns=l.ns||r.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||i||r.keyPrefix);const d=n.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(o)?f=o.map(p=>`${l.keyPrefix}${d}${p}`):f=l.keyPrefix?`${l.keyPrefix}${d}${o}`:o,n.t(f,l)};return O(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(t.precheck){const a=t.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(i,e)&&(!n||o(r,e)))}loadNamespaces(e,t){const i=Xe();return this.options.ns?(O(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{i.resolve(),t&&t(n)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=Xe();O(e)&&(e=[e]);const n=this.options.preload||[],r=e.filter(o=>n.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return r.length?(this.options.preload=n.concat(r),this.loadResources(o=>{i.resolve(),t&&t(o)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new yn(wn());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Zs(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ot;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},r=new Zs(n);return(e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(a=>{r[a]=this[a]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},i&&(r.store=new pn(this.store.data,n),r.services.resourceStore=r.store),r.translator=new mn(r.services,n),r.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];r.emit(a,...c)}),r.init(n,t),r.translator.options=n,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}};const q=no.createInstance();q.createInstance=no.createInstance;q.createInstance;q.dir;q.init;q.loadResources;q.reloadResources;q.use;q.changeLanguage;q.getFixedT;const rh=q.t;q.exists;q.setDefaultNamespace;q.hasLoadedNamespace;q.loadNamespaces;q.loadLanguages;class oh{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class ah{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??=new Promise(e=>this.Z=e)}resume(){this.Z?.(),this.Y=this.Z=void 0}}const _n=s=>!_o(s)&&typeof s.then=="function",Sn=1073741823;let lh=class extends ts{constructor(){super(...arguments),this._$Cwt=Sn,this._$Cbt=[],this._$CK=new oh(this),this._$CX=new ah}render(...e){return e.find(t=>!_n(t))??Y}update(e,t){const i=this._$Cbt;let n=i.length;this._$Cbt=t;const r=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<t.length&&!(a>this._$Cwt);a++){const l=t[a];if(!_n(l))return this._$Cwt=a,l;a<n&&l===i[a]||(this._$Cwt=Sn,n=0,Promise.resolve(l).then(async c=>{for(;o.get();)await o.get();const u=r.deref();if(u!==void 0){const h=u._$Cbt.indexOf(l);h>-1&&h<u._$Cwt&&(u._$Cwt=h,u.setValue(c))}}))}return Y}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}};const ei=pe(lh);const Cn=(s,e,t)=>{const i=new Map;for(let n=e;n<=t;n++)i.set(s[n],n);return i},ch=pe(class extends ke{constructor(s){if(super(s),s.type!==ne.CHILD)throw Error("repeat() can only be used in text expressions")}dt(s,e,t){let i;t===void 0?t=e:e!==void 0&&(i=e);const n=[],r=[];let o=0;for(const a of s)n[o]=i?i(a,o):o,r[o]=t(a,o),o++;return{values:r,keys:n}}render(s,e,t){return this.dt(s,e,t).values}update(s,[e,t,i]){const n=So(s),{values:r,keys:o}=this.dt(e,t,i);if(!Array.isArray(n))return this.ut=o,r;const a=this.ut??=[],l=[];let c,u,h=0,d=n.length-1,f=0,p=r.length-1;for(;h<=d&&f<=p;)if(n[h]===null)h++;else if(n[d]===null)d--;else if(a[h]===o[f])l[f]=Ce(n[h],r[f]),h++,f++;else if(a[d]===o[p])l[p]=Ce(n[d],r[p]),d--,p--;else if(a[h]===o[p])l[p]=Ce(n[h],r[p]),Je(s,l[p+1],n[h]),h++,p--;else if(a[d]===o[f])l[f]=Ce(n[d],r[f]),Je(s,n[h],n[d]),d--,f++;else if(c===void 0&&(c=Cn(o,f,p),u=Cn(a,h,d)),c.has(a[h]))if(c.has(a[d])){const g=u.get(o[f]),m=g!==void 0?n[g]:null;if(m===null){const y=Je(s,n[h]);Ce(y,r[f]),l[f]=y}else l[f]=Ce(m,r[f]),Je(s,n[h],m),n[g]=null;f++}else ws(n[d]),d--;else ws(n[h]),h++;for(;f<=p;){const g=Je(s,l[p+1]);Ce(g,r[f]),l[f++]=g}for(;h<=d;){const g=n[h++];g!==null&&ws(g)}return this.ut=o,Qn(s,l),Y}});class fs extends Event{constructor(e){super(fs.eventName,{bubbles:!1}),this.first=e.first,this.last=e.last}}fs.eventName="rangeChanged";class ps extends Event{constructor(e){super(ps.eventName,{bubbles:!1}),this.first=e.first,this.last=e.last}}ps.eventName="visibilityChanged";class gs extends Event{constructor(){super(gs.eventName,{bubbles:!1})}}gs.eventName="unpinned";class uh{constructor(e){this._element=null;const t=e??window;this._node=t,e&&(this._element=e)}get element(){return this._element||document.scrollingElement||document.documentElement}get scrollTop(){return this.element.scrollTop||window.scrollY}get scrollLeft(){return this.element.scrollLeft||window.scrollX}get scrollHeight(){return this.element.scrollHeight}get scrollWidth(){return this.element.scrollWidth}get viewportHeight(){return this._element?this._element.getBoundingClientRect().height:window.innerHeight}get viewportWidth(){return this._element?this._element.getBoundingClientRect().width:window.innerWidth}get maxScrollTop(){return this.scrollHeight-this.viewportHeight}get maxScrollLeft(){return this.scrollWidth-this.viewportWidth}}class hh extends uh{constructor(e,t){super(t),this._clients=new Set,this._retarget=null,this._end=null,this.__destination=null,this.correctingScrollError=!1,this._checkForArrival=this._checkForArrival.bind(this),this._updateManagedScrollTo=this._updateManagedScrollTo.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollBy=this.scrollBy.bind(this);const i=this._node;this._originalScrollTo=i.scrollTo,this._originalScrollBy=i.scrollBy,this._originalScroll=i.scroll,this._attach(e)}get _destination(){return this.__destination}get scrolling(){return this._destination!==null}scrollTo(e,t){const i=typeof e=="number"&&typeof t=="number"?{left:e,top:t}:e;this._scrollTo(i)}scrollBy(e,t){const i=typeof e=="number"&&typeof t=="number"?{left:e,top:t}:e;i.top!==void 0&&(i.top+=this.scrollTop),i.left!==void 0&&(i.left+=this.scrollLeft),this._scrollTo(i)}_nativeScrollTo(e){this._originalScrollTo.bind(this._element||window)(e)}_scrollTo(e,t=null,i=null){this._end!==null&&this._end(),e.behavior==="smooth"?(this._setDestination(e),this._retarget=t,this._end=i):this._resetScrollState(),this._nativeScrollTo(e)}_setDestination(e){let{top:t,left:i}=e;return t=t===void 0?void 0:Math.max(0,Math.min(t,this.maxScrollTop)),i=i===void 0?void 0:Math.max(0,Math.min(i,this.maxScrollLeft)),this._destination!==null&&i===this._destination.left&&t===this._destination.top?!1:(this.__destination={top:t,left:i,behavior:"smooth"},!0)}_resetScrollState(){this.__destination=null,this._retarget=null,this._end=null}_updateManagedScrollTo(e){this._destination&&this._setDestination(e)&&this._nativeScrollTo(this._destination)}managedScrollTo(e,t,i){return this._scrollTo(e,t,i),this._updateManagedScrollTo}correctScrollError(e){this.correctingScrollError=!0,requestAnimationFrame(()=>requestAnimationFrame(()=>this.correctingScrollError=!1)),this._nativeScrollTo(e),this._retarget&&this._setDestination(this._retarget()),this._destination&&this._nativeScrollTo(this._destination)}_checkForArrival(){if(this._destination!==null){const{scrollTop:e,scrollLeft:t}=this;let{top:i,left:n}=this._destination;i=Math.min(i||0,this.maxScrollTop),n=Math.min(n||0,this.maxScrollLeft);const r=Math.abs(i-e),o=Math.abs(n-t);r<1&&o<1&&(this._end&&this._end(),this._resetScrollState())}}detach(e){return this._clients.delete(e),this._clients.size===0&&(this._node.scrollTo=this._originalScrollTo,this._node.scrollBy=this._originalScrollBy,this._node.scroll=this._originalScroll,this._node.removeEventListener("scroll",this._checkForArrival)),null}_attach(e){this._clients.add(e),this._clients.size===1&&(this._node.scrollTo=this.scrollTo,this._node.scrollBy=this.scrollBy,this._node.scroll=this.scrollTo,this._node.addEventListener("scroll",this._checkForArrival))}}let Pn=typeof window<"u"?window.ResizeObserver:void 0;const ti=Symbol("virtualizerRef"),Lt="virtualizer-sizer";let On;class dh{constructor(e){if(this._benchmarkStart=null,this._layout=null,this._clippingAncestors=[],this._scrollSize=null,this._scrollError=null,this._childrenPos=null,this._childMeasurements=null,this._toBeMeasured=new Map,this._rangeChanged=!0,this._itemsChanged=!0,this._visibilityChanged=!0,this._scrollerController=null,this._isScroller=!1,this._sizer=null,this._hostElementRO=null,this._childrenRO=null,this._mutationObserver=null,this._scrollEventListeners=[],this._scrollEventListenerOptions={passive:!0},this._loadListener=this._childLoaded.bind(this),this._scrollIntoViewTarget=null,this._updateScrollIntoViewCoordinates=null,this._items=[],this._first=-1,this._last=-1,this._firstVisible=-1,this._lastVisible=-1,this._scheduled=new WeakSet,this._measureCallback=null,this._measureChildOverride=null,this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null,this._layoutInitialized=null,this._connected=!1,!e)throw new Error("Virtualizer constructor requires a configuration object");if(e.hostElement)this._init(e);else throw new Error('Virtualizer configuration requires the "hostElement" property')}set items(e){Array.isArray(e)&&e!==this._items&&(this._itemsChanged=!0,this._items=e,this._schedule(this._updateLayout))}_init(e){this._isScroller=!!e.scroller,this._initHostElement(e);const t=e.layout||{};this._layoutInitialized=this._initLayout(t)}_initObservers(){this._mutationObserver=new MutationObserver(this._finishDOMUpdate.bind(this)),this._hostElementRO=new Pn(()=>this._hostElementSizeChanged()),this._childrenRO=new Pn(this._childrenSizeChanged.bind(this))}_initHostElement(e){const t=this._hostElement=e.hostElement;this._applyVirtualizerStyles(),t[ti]=this}connected(){this._initObservers();const e=this._isScroller;this._clippingAncestors=gh(this._hostElement,e),this._scrollerController=new hh(this,this._clippingAncestors[0]),this._schedule(this._updateLayout),this._observeAndListen(),this._connected=!0}_observeAndListen(){this._mutationObserver.observe(this._hostElement,{childList:!0}),this._hostElementRO.observe(this._hostElement),this._scrollEventListeners.push(window),window.addEventListener("scroll",this,this._scrollEventListenerOptions),this._clippingAncestors.forEach(e=>{e.addEventListener("scroll",this,this._scrollEventListenerOptions),this._scrollEventListeners.push(e),this._hostElementRO.observe(e)}),this._hostElementRO.observe(this._scrollerController.element),this._children.forEach(e=>this._childrenRO.observe(e)),this._scrollEventListeners.forEach(e=>e.addEventListener("scroll",this,this._scrollEventListenerOptions))}disconnected(){this._scrollEventListeners.forEach(e=>e.removeEventListener("scroll",this,this._scrollEventListenerOptions)),this._scrollEventListeners=[],this._clippingAncestors=[],this._scrollerController?.detach(this),this._scrollerController=null,this._mutationObserver?.disconnect(),this._mutationObserver=null,this._hostElementRO?.disconnect(),this._hostElementRO=null,this._childrenRO?.disconnect(),this._childrenRO=null,this._rejectLayoutCompletePromise("disconnected"),this._connected=!1}_applyVirtualizerStyles(){const t=this._hostElement.style;t.display=t.display||"block",t.position=t.position||"relative",t.contain=t.contain||"size layout",this._isScroller&&(t.overflow=t.overflow||"auto",t.minHeight=t.minHeight||"150px")}_getSizer(){const e=this._hostElement;if(!this._sizer){let t=e.querySelector(`[${Lt}]`);t||(t=document.createElement("div"),t.setAttribute(Lt,""),e.appendChild(t)),Object.assign(t.style,{position:"absolute",margin:"-2px 0 0 0",padding:0,visibility:"hidden",fontSize:"2px"}),t.textContent="&nbsp;",t.setAttribute(Lt,""),this._sizer=t}return this._sizer}async updateLayoutConfig(e){await this._layoutInitialized;const t=e.type||On;if(typeof t=="function"&&this._layout instanceof t){const i={...e};return delete i.type,this._layout.config=i,!0}return!1}async _initLayout(e){let t,i;if(typeof e.type=="function"){i=e.type;const n={...e};delete n.type,t=n}else t=e;i===void 0&&(On=i=(await Co(()=>import("./flow-BqIEBwW6.js"),[],import.meta.url)).FlowLayout),this._layout=new i(n=>this._handleLayoutMessage(n),t),this._layout.measureChildren&&typeof this._layout.updateItemSizes=="function"&&(typeof this._layout.measureChildren=="function"&&(this._measureChildOverride=this._layout.measureChildren),this._measureCallback=this._layout.updateItemSizes.bind(this._layout)),this._layout.listenForChildLoadEvents&&this._hostElement.addEventListener("load",this._loadListener,!0),this._schedule(this._updateLayout)}startBenchmarking(){this._benchmarkStart===null&&(this._benchmarkStart=window.performance.now())}stopBenchmarking(){if(this._benchmarkStart!==null){const e=window.performance.now(),t=e-this._benchmarkStart,n=performance.getEntriesByName("uv-virtualizing","measure").filter(r=>r.startTime>=this._benchmarkStart&&r.startTime<e).reduce((r,o)=>r+o.duration,0);return this._benchmarkStart=null,{timeElapsed:t,virtualizationTime:n}}return null}_measureChildren(){const e={},t=this._children,i=this._measureChildOverride||this._measureChild;for(let n=0;n<t.length;n++){const r=t[n],o=this._first+n;(this._itemsChanged||this._toBeMeasured.has(r))&&(e[o]=i.call(this,r,this._items[o]))}this._childMeasurements=e,this._schedule(this._updateLayout),this._toBeMeasured.clear()}_measureChild(e){const{width:t,height:i}=e.getBoundingClientRect();return Object.assign({width:t,height:i},fh(e))}async _schedule(e){this._scheduled.has(e)||(this._scheduled.add(e),await Promise.resolve(),this._scheduled.delete(e),e.call(this))}async _updateDOM(e){this._scrollSize=e.scrollSize,this._adjustRange(e.range),this._childrenPos=e.childPositions,this._scrollError=e.scrollError||null;const{_rangeChanged:t,_itemsChanged:i}=this;this._visibilityChanged&&(this._notifyVisibility(),this._visibilityChanged=!1),(t||i)&&(this._notifyRange(),this._rangeChanged=!1),this._finishDOMUpdate()}_finishDOMUpdate(){this._connected&&(this._children.forEach(e=>this._childrenRO.observe(e)),this._checkScrollIntoViewTarget(this._childrenPos),this._positionChildren(this._childrenPos),this._sizeHostElement(this._scrollSize),this._correctScrollError(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end"))}_updateLayout(){this._layout&&this._connected&&(this._layout.items=this._items,this._updateView(),this._childMeasurements!==null&&(this._measureCallback&&this._measureCallback(this._childMeasurements),this._childMeasurements=null),this._layout.reflowIfNeeded(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end"))}_handleScrollEvent(){if(this._benchmarkStart&&"mark"in window.performance){try{window.performance.measure("uv-virtualizing","uv-start","uv-end")}catch(e){console.warn("Error measuring performance data: ",e)}window.performance.mark("uv-start")}this._scrollerController.correctingScrollError===!1&&this._layout?.unpin(),this._schedule(this._updateLayout)}handleEvent(e){e.type==="scroll"?(e.currentTarget===window||this._clippingAncestors.includes(e.currentTarget))&&this._handleScrollEvent():console.warn("event not handled",e)}_handleLayoutMessage(e){e.type==="stateChanged"?this._updateDOM(e):e.type==="visibilityChanged"?(this._firstVisible=e.firstVisible,this._lastVisible=e.lastVisible,this._notifyVisibility()):e.type==="unpinned"&&this._hostElement.dispatchEvent(new gs)}get _children(){const e=[];let t=this._hostElement.firstElementChild;for(;t;)t.hasAttribute(Lt)||e.push(t),t=t.nextElementSibling;return e}_updateView(){const e=this._hostElement,t=this._scrollerController?.element,i=this._layout;if(e&&t&&i){let n,r,o,a;const l=e.getBoundingClientRect();n=0,r=0,o=window.innerHeight,a=window.innerWidth;const c=this._clippingAncestors.map(y=>y.getBoundingClientRect());c.unshift(l);for(const y of c)n=Math.max(n,y.top),r=Math.max(r,y.left),o=Math.min(o,y.bottom),a=Math.min(a,y.right);const u=t.getBoundingClientRect(),h={left:l.left-u.left,top:l.top-u.top},d={width:t.scrollWidth,height:t.scrollHeight},f=n-l.top+e.scrollTop,p=r-l.left+e.scrollLeft,g=Math.max(0,o-n),m=Math.max(0,a-r);i.viewportSize={width:m,height:g},i.viewportScroll={top:f,left:p},i.totalScrollSize=d,i.offsetWithinScroller=h}}_sizeHostElement(e){const i=e&&e.width!==null?Math.min(82e5,e.width):0,n=e&&e.height!==null?Math.min(82e5,e.height):0;if(this._isScroller)this._getSizer().style.transform=`translate(${i}px, ${n}px)`;else{const r=this._hostElement.style;r.minWidth=i?`${i}px`:"100%",r.minHeight=n?`${n}px`:"100%"}}_positionChildren(e){e&&e.forEach(({top:t,left:i,width:n,height:r,xOffset:o,yOffset:a},l)=>{const c=this._children[l-this._first];c&&(c.style.position="absolute",c.style.boxSizing="border-box",c.style.transform=`translate(${i}px, ${t}px)`,n!==void 0&&(c.style.width=n+"px"),r!==void 0&&(c.style.height=r+"px"),c.style.left=o===void 0?null:o+"px",c.style.top=a===void 0?null:a+"px")})}async _adjustRange(e){const{_first:t,_last:i,_firstVisible:n,_lastVisible:r}=this;this._first=e.first,this._last=e.last,this._firstVisible=e.firstVisible,this._lastVisible=e.lastVisible,this._rangeChanged=this._rangeChanged||this._first!==t||this._last!==i,this._visibilityChanged=this._visibilityChanged||this._firstVisible!==n||this._lastVisible!==r}_correctScrollError(){if(this._scrollError){const{scrollTop:e,scrollLeft:t}=this._scrollerController,{top:i,left:n}=this._scrollError;this._scrollError=null,this._scrollerController.correctScrollError({top:e-i,left:t-n})}}element(e){return e===1/0&&(e=this._items.length-1),this._items?.[e]===void 0?void 0:{scrollIntoView:(t={})=>this._scrollElementIntoView({...t,index:e})}}_scrollElementIntoView(e){if(e.index>=this._first&&e.index<=this._last)this._children[e.index-this._first].scrollIntoView(e);else if(e.index=Math.min(e.index,this._items.length-1),e.behavior==="smooth"){const t=this._layout.getScrollIntoViewCoordinates(e),{behavior:i}=e;this._updateScrollIntoViewCoordinates=this._scrollerController.managedScrollTo(Object.assign(t,{behavior:i}),()=>this._layout.getScrollIntoViewCoordinates(e),()=>this._scrollIntoViewTarget=null),this._scrollIntoViewTarget=e}else this._layout.pin=e}_checkScrollIntoViewTarget(e){const{index:t}=this._scrollIntoViewTarget||{};t&&e?.has(t)&&this._updateScrollIntoViewCoordinates(this._layout.getScrollIntoViewCoordinates(this._scrollIntoViewTarget))}_notifyRange(){this._hostElement.dispatchEvent(new fs({first:this._first,last:this._last}))}_notifyVisibility(){this._hostElement.dispatchEvent(new ps({first:this._firstVisible,last:this._lastVisible}))}get layoutComplete(){return this._layoutCompletePromise||(this._layoutCompletePromise=new Promise((e,t)=>{this._layoutCompleteResolver=e,this._layoutCompleteRejecter=t})),this._layoutCompletePromise}_rejectLayoutCompletePromise(e){this._layoutCompleteRejecter!==null&&this._layoutCompleteRejecter(e),this._resetLayoutCompleteState()}_scheduleLayoutComplete(){this._layoutCompletePromise&&this._pendingLayoutComplete===null&&(this._pendingLayoutComplete=requestAnimationFrame(()=>requestAnimationFrame(()=>this._resolveLayoutCompletePromise())))}_resolveLayoutCompletePromise(){this._layoutCompleteResolver!==null&&this._layoutCompleteResolver(),this._resetLayoutCompleteState()}_resetLayoutCompleteState(){this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null}_hostElementSizeChanged(){this._schedule(this._updateLayout)}_childLoaded(){}_childrenSizeChanged(e){if(this._layout?.measureChildren){for(const t of e)this._toBeMeasured.set(t.target,t.contentRect);this._measureChildren()}this._scheduleLayoutComplete(),this._itemsChanged=!1,this._rangeChanged=!1}}function fh(s){const e=window.getComputedStyle(s);return{marginTop:Et(e.marginTop),marginRight:Et(e.marginRight),marginBottom:Et(e.marginBottom),marginLeft:Et(e.marginLeft)}}function Et(s){const e=s?parseFloat(s):NaN;return Number.isNaN(e)?0:e}function Ln(s){if(s.assignedSlot!==null)return s.assignedSlot;if(s.parentElement!==null)return s.parentElement;const e=s.parentNode;return e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host||null}function ph(s,e=!1){const t=[];let i=e?s:Ln(s);for(;i!==null;)t.push(i),i=Ln(i);return t}function gh(s,e=!1){let t=!1;return ph(s,e).filter(i=>{if(t)return!1;const n=getComputedStyle(i);return t=n.position==="fixed",n.overflow!=="visible"})}const mh=s=>s,yh=(s,e)=>k`${e}: ${JSON.stringify(s,null,2)}`;class bh extends ts{constructor(e){if(super(e),this._virtualizer=null,this._first=0,this._last=-1,this._renderItem=(t,i)=>yh(t,i+this._first),this._keyFunction=(t,i)=>mh(t,i+this._first),this._items=[],e.type!==ne.CHILD)throw new Error("The virtualize directive can only be used in child expressions")}render(e){e&&this._setFunctions(e);const t=[];if(this._first>=0&&this._last>=this._first)for(let i=this._first;i<=this._last;i++)t.push(this._items[i]);return ch(t,this._keyFunction,this._renderItem)}update(e,[t]){this._setFunctions(t);const i=this._items!==t.items;return this._items=t.items||[],this._virtualizer?this._updateVirtualizerConfig(e,t):this._initialize(e,t),i?Y:this.render()}async _updateVirtualizerConfig(e,t){if(!await this._virtualizer.updateLayoutConfig(t.layout||{})){const n=e.parentNode;this._makeVirtualizer(n,t)}this._virtualizer.items=this._items}_setFunctions(e){const{renderItem:t,keyFunction:i}=e;t&&(this._renderItem=(n,r)=>t(n,r+this._first)),i&&(this._keyFunction=(n,r)=>i(n,r+this._first))}_makeVirtualizer(e,t){this._virtualizer&&this._virtualizer.disconnected();const{layout:i,scroller:n,items:r}=t;this._virtualizer=new dh({hostElement:e,layout:i,scroller:n}),this._virtualizer.items=r,this._virtualizer.connected()}_initialize(e,t){const i=e.parentNode;i&&i.nodeType===1&&(i.addEventListener("rangeChanged",n=>{this._first=n.first,this._last=n.last,this.setValue(this.render())}),this._makeVirtualizer(i,t))}disconnected(){this._virtualizer?.disconnected()}reconnected(){this._virtualizer?.connected()}}const xh=pe(bh),wh=(s=HTMLElement)=>class extends s{connectedCallback(){super.connectedCallback?.(),this.dispatchEvent(new CustomEvent("connected"))}disconnectedCallback(){super.disconnectedCallback?.(),this.dispatchEvent(new CustomEvent("disconnected"))}},vh=(s,e)=>{if(!s||!e)return;const t=Object.keys(e);return Object.fromEntries(Object.keys(s).flatMap(i=>t.includes(i)?[]:[[i,void 0]]))};class _h extends ke{_props;render(e){return Y}update(e,[t]){return this._props!==t&&Object.assign(e.element,vh(this._props,t),this._props=t),Y}}const Sh=pe(_h),Ch=s=>{const e=xt(),t=B(()=>new CSSStyleSheet,[]);F(()=>{e.shadowRoot.adoptedStyleSheets=[...e.shadowRoot.adoptedStyleSheets,t]},[]),F(()=>{t.replaceSync(s)},[s])};function ro(s){return s?e=>e?.[s]:Be}const Ph=s=>{const e=ro(s);return t=>typeof t=="string"?t:e(t)?.toString()||""},Oh=s=>e=>{const t={};for(const i in e)s.includes(i)&&(t[i]=e[i]);return t},Lh="data:image/svg+xml,%3Csvg width='11' height='8' viewBox='0 0 11 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M9.5 1L5.20039 7.04766L1.66348 3.46152' stroke='white' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E",Eh=ie`
	:host {
		position: fixed;
		z-index: 1000;
		font-family: var(--paper-font-subhead_-_font-family, inherit);
		background: var(
			--cosmoz-autocomplete-listbox-bg,
			rgba(255, 255, 255, 0.75)
		);
		min-width: 50px;
		backdrop-filter: blur(16px) saturate(180%);
		-webkit-backdrop-filter: blur(16px) saturate(180%);
		border-radius: 6px;
		box-shadow:
			0 4px 24px 0 rgba(0, 0, 0, 0.18),
			0 1.5px 6px 0 rgba(0, 0, 0, 0.1);
		text-transform: var(--cosmoz-autocomplete-listbox-text-transform, initial);
		overflow: hidden;
		transition:
			opacity 150ms ease-in-out,
			transform 100ms ease-in-out;
	}
	:host(:popover-open) {
		box-sizing: border-box;
		display: block;
		margin: 0;
		border: 1px solid rgba(200, 200, 200, 0.25);

		opacity: 1;
		transform: translateY(0);

		@starting-style {
			opacity: 0;
			transform: translateY(-50px);
		}
	}
	:host([popover]) {
		padding: 0;
	}
	.items {
		position: relative;
		overflow-y: auto;
		contain: layout paint !important;
	}
	.item {
		font-size: var(--cosmoz-autocomplete-listbox-font-size, 13px);
		font-weight: var(--cosmoz-autocomplete-listbox-font-weight, 400);
		padding: 0 22px;
		box-sizing: border-box;
		width: 100%;
		cursor: pointer;
		text-overflow: ellipsis;
		white-space: nowrap;
		transition: background 0.2s;
		color: var(--cosmoz-listbox-color, #101010);
		overflow: hidden;
	}

	.sizer {
		position: relative;
		visibility: hidden;
		opacity: 0;
		pointer-events: none;
		z-index: -1;
		height: 0;
		width: auto;
		padding: 0 20px;
		overflow: hidden;
		max-width: inherit;
		font-size: 14px;
	}

	:host(:not([multi])) .item[aria-selected] {
		background: var(--cosmoz-listbox-single-selection-color, #dadada);
	}

	:host([multi]) .item {
		padding-left: 0;
	}

	:host([multi]) .item::before {
		content: '';
		font-size: 0;
		padding: 7.5px;
		margin: 0 8px;
		background: #fff;
		border: 1px solid #d6d6d5;
		border-radius: 4px;
		vertical-align: top;
	}

	:host([multi]) .item[aria-selected]::before {
		border-color: #5881f6;
		/* prettier-ignore */
		background: url("${Lh}") #5881f6 no-repeat 50%;
	}

	:host([multi]) .sizer {
		padding-left: 33px;
	}

	.swatch {
		width: 18px;
		height: 18px;
		display: inline-block;
		box-sizing: border-box;
		vertical-align: middle;
		border-radius: 50%;
	}

	[virtualizer-sizer]:not(.sizer) {
		line-height: 1;
	}
`,$h=({index:s,itemHeight:e,auto:t})=>ie`
	${se(!t,()=>ie`
			.item {
				line-height: ${e}px;
				height: ${e}px;
			}
		`)}

	.item[data-index='${s||"0"}'] {
		background: var(
			--cosmoz-listbox-active-color,
			var(--cosmoz-selection-color, rgba(58, 145, 226, 0.1))
		);
	}
`,Rh=s=>{const e=s==="auto",[t,i]=he(e?40:s);return[t,n=>e?i(n):void 0]},kh=s=>{const e=Ke(s);F(()=>{const t=i=>{if(!(i.ctrlKey&&i.altKey||i.defaultPrevented))switch(i.key){case"Up":case"ArrowUp":i.preventDefault(),e.onUp();break;case"Down":case"ArrowDown":i.preventDefault(),e.onDown();break;case"Enter":i.preventDefault(),e.onEnter();break}};return document.addEventListener("keydown",t,!0),()=>document.removeEventListener("keydown",t,!0)},[e])},Th=({items:s,onSelect:e,defaultIndex:t=0})=>{const[i,n]=he({index:t}),{index:r}=i,{length:o}=s;return F(()=>{n({index:i.index<0?t:Math.min(i.index,s.length-1),scroll:!0})},[s,t]),kh({onUp:U(()=>n(a=>({index:a.index>0?a.index-1:o-1,scroll:!0})),[o]),onDown:U(()=>n(a=>({index:a.index<o-1?a.index+1:0,scroll:!0})),[o]),onEnter:U(()=>r>-1&&r<o&&e?.(s[r],r),[r,s,e])}),{position:i,highlight:U(a=>n({index:a}),[]),select:U(a=>e?.(a),[e])}},Ah=s=>typeof s=="object"&&s!==null&&Symbol.iterator in s;function Re(s){return s==null?[]:Array.isArray(s)?s:typeof s=="string"?[s]:Ah(s)?Array.from(s):[s]}const Ts=(s,e=Be)=>t=>{const i=Re(s).map(e);return Re(t).filter(n=>!i.includes(e(n)))},Nh=(s,e)=>e?t=>Re(s).find(i=>i[e]===t[e]):t=>Re(s).includes(t),zh=(s,e)=>{if(!e||!s)return s;const t=s.toLowerCase().indexOf(e.toLowerCase());if(t<0)return s;const i=t+e.length;return[s.slice(0,t),k`<mark>${s.slice(t,i)}</mark>`,s.slice(i)]},Fh=(s=Be)=>(e,t,{highlight:i,select:n,textual:r=Be,query:o,isSelected:a})=>{const l=r(e),c=zh(l,o),u=s(c,e,t);return k`<div
				class="item"
				role="option"
				part="option"
				?aria-selected=${a(e)}
				data-index=${t}
				@mouseenter=${()=>i(t)}
				@click=${()=>n(e)}
				@mousedown=${h=>h.preventDefault()}
				title=${l}
			>
				${u}
			</div>
			<div class="sizer" virtualizer-sizer>${u}</div>`},Ih=({itemRenderer:s=Fh(),...e})=>{const t=Ke(e);return U((i,n)=>s(i,n,t),[t,s])},Dh=["query","items","onSelect","textual","anchor","itemHeight","itemLimit","itemRenderer","defaultIndex","value","valueProperty","loading"],Mh=({value:s,valueProperty:e,items:t,onSelect:i,defaultIndex:n,query:r,textual:o,itemRenderer:a,itemHeight:l=40,itemLimit:c=5})=>{const u=B(()=>Nh(s,e),[s,e]),h=B(()=>t.slice(),[t,u]),{position:d,highlight:f,select:p}=Th({items:h,onSelect:i,defaultIndex:isNaN(n)?void 0:Number(n)}),[g,m]=Rh(l);return{position:d,items:h,height:Math.min(c,h.length)*g,highlight:f,select:p,itemHeight:g,setItemHeight:m,renderItem:Ih({itemRenderer:a,items:h,position:d,highlight:f,select:p,textual:o,query:r,isSelected:u})}},En=Cr,jh=s=>{const e=yt(void 0),{position:t,items:i,renderItem:n,height:r,itemHeight:o,setItemHeight:a}=Mh(s);return F(()=>{const l=e.current?.[ti];l&&l.layoutComplete.then(()=>{s.dispatchEvent(new CustomEvent("layout-complete"));const{averageChildSize:c,averageMarginSize:u}=l._layout._metricsCache;return a(c+u*2)},En)},[i]),F(()=>{if(!t.scroll)return;const l=e.current?.[ti];if(l){if(!l?._layout){l.layoutComplete.then(()=>l.element(t.index)?.scrollIntoView({block:"nearest"}),En);return}l.element(t.index)?.scrollIntoView({block:"nearest"})}},[t]),Ch($h({...t,itemHeight:o,auto:s.itemHeight==="auto"})),k`<div
			class="items"
			style="min-height: ${r}px"
			${ve(l=>e.current=l)}
		>
			<div virtualizer-sizer></div>
			${xh({items:i,renderItem:n,scroller:!0})}
		</div>
		<slot></slot>`};customElements.define("cosmoz-listbox",wh(J(jh,{styleSheets:[di(Eh)]})));const Vh=({multi:s,setFloating:e,styles:t,...i},n)=>k`<cosmoz-listbox
		style="${cr(t)}"
		@connected="${r=>r.target.showPopover?.()}"
		popover="manual"
		part="listbox"
		?multi=${s}
		${ve(e)}
		...=${Sh(Oh(Dh)(i))}
		>${n}</cosmoz-listbox
	>`,Uh=us`
	:host {
		border-radius: var(--cosmoz-autocomplete-chip-border-radius, 500px);
		background: var(--cosmoz-autocomplete-chip-bg-color, #cbcfdb);
		margin-bottom: 2px;
		display: flex;
		align-items: center;
		flex: 0.0001 1 fit-content;
		max-width: 18ch;
		min-width: 40px;
		padding-inline: 8px;
		gap: 4px;
		cursor: pointer;
		transform: translateY(var(--cosmoz-autocomplete-chip-translate-y, 0));
	}

	.content {
		color: var(--cosmoz-autocomplete-chip-color, #424242);
		font-family: var(
			--cosmoz-autocomplete-chip-text-font-family,
			'Inter',
			sans-serif
		);
		font-size: var(--cosmoz-autocomplete-chip-text-font-size, 12px);
		font-weight: var(--cosmoz-autocomplete-chip-text-font-weight, 400);
		line-height: var(--cosmoz-autocomplete-chip-text-line-height, 22px);
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;
		flex: auto;
		min-width: 16px;
	}

	.clear {
		background-color: var(--cosmoz-autocomplete-chip-clear-bg-color, #81899b);
		border-radius: 50%;
		cursor: pointer;
		width: 16px;
		height: 16px;
		margin-right: -4px;
		stroke: var(
			--cosmoz-autocomplete-chip-clear-stroke,
			var(--cosmoz-autocomplete-chip-bg-color, #cbcfdb)
		);
		display: var(--cosmoz-autocomplete-chip-clear-display, block);
		flex: none;
	}

	.clear:hover {
		filter: brightness(90%);
	}
	.clear svg {
		display: block;
		transform: translate(3.5px, 3.5px);
	}
`,Bh=k`
	<svg
		width="9"
		height="8"
		viewBox="0 0 9 8"
		fill="none"
		xmlns="http://www.w3.org/2000/svg"
	>
		<line
			x1="7.53033"
			y1="0.994808"
			x2="1.16637"
			y2="7.35877"
			stroke-width="1.5"
		/>
		<line
			x1="7.46967"
			y1="7.35882"
			x2="1.10571"
			y2="0.99486"
			stroke-width="1.5"
		/>
	</svg>
`,Hh=({onClear:s,disabled:e})=>k`
	<div class="content" part="content chip-text"><slot></slot></div>
	${se(s&&!e,()=>k`<span
				class="clear"
				part="clear chip-clear"
				@mousedown=${t=>t.preventDefault()}
				@click=${s}
			>
				${Bh}
			</span>`)}
`;customElements.define("cosmoz-autocomplete-chip",J(Hh,{observedAttributes:["disabled"],styleSheets:[di(Uh)]}));const Kh=({content:s,onClear:e,disabled:t,hidden:i,className:n="chip",slot:r})=>k`<cosmoz-autocomplete-chip
		class=${W(n)}
		slot=${W(r)}
		part="chip"
		exportparts="chip-text, chip-clear"
		?disabled=${t}
		?hidden=${i}
		.onClear=${e}
		title=${W(typeof s=="string"?s:void 0)}
		>${s}</cosmoz-autocomplete-chip
	>`,Jh=({value:s,min:e=0,onDeselect:t,textual:i,disabled:n,chipRenderer:r=Kh})=>[...s.filter(Boolean).map(o=>r({item:o,content:i(o),onClear:s.length>e&&(()=>t(o)),disabled:n,slot:"control"})),r({item:null,content:k`<span></span>`,className:"badge",disabled:!0,slot:"control",hidden:!0})],Wh=ie`
	:host {
		display: inline-block;
		vertical-align: middle;
		background-image: linear-gradient(90deg, #e0e0e0, #f5f5f5, #e0e0e0);
		background-size: 1000%;
		background-position: right;
		animation: sweep 1.5s cubic-bezier(0.3, 1, 0.3, 1) infinite;
		border-radius: 3px;
		width: calc(100% - 20px);
		max-width: 150px;
		height: 20px;
		margin: 10px;
	}

	:host-context([show-single]) {
		margin-left: 20px;
	}

	@keyframes sweep {
		0% {
			background-position: right;
		}
		100% {
			background-position: left;
		}
	}
`;customElements.define("cosmoz-autocomplete-skeleton-span",J(()=>ye,{styleSheets:[Wh]}));const Yh=us`
	:host {
		display: block;
		position: relative;
		min-width: 35px;
	}

	cosmoz-input::part(control) {
		display: flex;
		gap: 4px;
		min-width: 35px;
	}
	cosmoz-input::part(input) {
		flex: 1 24px;
		min-width: 0;
	}
	cosmoz-input:not([data-one])::part(input):focus {
		flex: 4 0.00001 50px;
		min-width: 20px;
	}
	.badge {
		min-width: initial;
		flex: none;
		text-align: center;
		padding: 0 4px;
	}

	[data-single]::part(input) {
		flex: 0;
	}
	[data-one] .chip {
		max-width: initial;
		flex: 1;
	}

	[data-one] .badge {
		display: none;
	}

	[hidden] {
		display: none;
	}

	:host([wrap]) cosmoz-input::part(control) {
		flex-wrap: wrap;
	}
	:host([wrap]) .chip {
		max-width: 100%;
	}

	slot {
		display: contents !important;
	}

	.no-result {
		font-size: var(--cosmoz-autocomplete-listbox-font-size, 13px);
		font-weight: var(--cosmoz-autocomplete-listbox-font-weight, 400);
		padding: 0 22px;
		color: var(--cosmoz-listbox-color, #101010);
	}
`,fi=(s,e=()=>({}))=>{const t={type:s,toString(){return s}};return Object.assign((...n)=>Object.assign(e(...n),t),t)},$n=s=>s.type||s.toString(),Rn=s=>Array.isArray(s)?s:[s],qh=(s,e)=>{const t=Rn(e),i=(t.every(Array.isArray)?t:[t]).map(([n,r])=>({actions:Rn(n).map($n),handle:r}));return(n=s,r)=>{const o=i.find(a=>a.actions.includes($n(r)));return o?o.handle(n,r):n}},Le={pending:"pending",rejected:"rejected",resolved:"resolved"},oo={error:void 0,result:void 0,state:Le.pending},ao=fi(Le.pending),lo=fi(Le.resolved,s=>({result:s})),co=fi(Le.rejected,s=>({error:s})),Gh=qh(oo,[[ao,()=>({error:void 0,result:void 0,state:Le.pending})],[lo,(s,{result:e})=>({error:void 0,result:e,state:Le.resolved})],[co,(s,{error:e})=>({error:e,result:void 0,state:Le.rejected})]]),Xh=s=>{const[{error:e,result:t,state:i},n]=Mo(Gh,oo);return F(()=>{if(!s)return;let r=!1;return n(ao()),s.then(o=>!r&&n(lo(o)),o=>!r&&n(co(o))),()=>{r=!0}},[s]),[t,e,i]},Qh=({focused:s,empty:e,...t})=>{const i=s&&e&&t.limit!==1,n=Ke(t);F(()=>{if(!i)return;const r=o=>{if(o.defaultPrevented)return;const{key:a}=o,l=Re(n.value),c=n.limit==1;if(l.length>0&&(a==="Backspace"||c&&a.length===1))return n.onChange(l.slice(0,-1))};return document.addEventListener("keydown",r,!0),()=>document.removeEventListener("keydown",r,!0)},[i,n])},kn=s=>s.normalize("NFD").replace(/[\u0300-\u036f]/gu,""),Zh=(s,e,t)=>{if(!e)return s;const i=kn(e.toLowerCase()),n=[];for(const r of s){const a=kn(t(r).toLowerCase()).indexOf(i);a<0||n.push({item:r,index:a})}return n.sort((r,o)=>r.index-o.index).map(({item:r})=>r)},ed=s=>s===!1||s==null?[]:s,uo=(s,e,t)=>s.dispatchEvent(new CustomEvent(e,{detail:t})),td=(s,e,t)=>U(i=>{e?.(i),uo(s,t,i)},[e]),sd=[],id=s=>(...e)=>{let t;const i=()=>{t&&cancelAnimationFrame(t)};return i(),t=requestAnimationFrame(()=>{t=void 0,s(...e)}),i},nd=({value:s,text:e,onChange:t,onText:i,onSelect:n,limit:r,min:o,source:a,textProperty:l,textual:c,valueProperty:u,keepOpened:h,keepQuery:d,preserveOrder:f,defaultIndex:p,externalSearch:g,...m})=>{const y=B(()=>(c??Ph)(l),[c,l]),{active:b,focused:w,onFocus:x,setClosed:v}=Sr(m),S=!e,_=B(()=>e?.trim(),[e]),z=xt(),N=td(z,i,"text"),R=U($=>{t?.($,()=>v(!0)),uo(z,"value",$)},[t]),[V,Q]=he([]),j=B(()=>Promise.resolve(typeof a=="function"?a({query:_,active:b}):a).then(ed),[a,b,_]),E=B(()=>Re(s),[s]);F(()=>j.then(Q),[j]),Qh({focused:w,empty:S,limit:r,value:E,onChange:R,onText:N}),F(()=>{!w&&!d&&N("")},[w,d]);const I=Ke({onText:N,onChange:R,value:E,limit:r,min:o,keepQuery:d,keepOpened:h,setClosed:v,onSelect:n}),[,,D]=Xh(j);return{active:b,query:_,textual:y,value:E,source$:j,loading:D==="pending",items:B(()=>{if(!b)return sd;const $=f?V:[...E,...Ts(E,ro(u))(V)];return g?$:Zh($,_,y)},[V,b,_,y,S,E,f,u,g]),onClick:U(()=>v(!1),[]),onFocus:x,onText:U($=>{N($.target.value),v(!1)},[N,e,v]),onSelect:U($=>{I.onSelect?.($,I);const{onChange:C,onText:A,limit:K,min:H,value:me,keepQuery:Se,keepOpened:wt,setClosed:wo}=I;Se||A(""),wt||wo(!0);const vt=Re(me),pi=vt.includes($);pi&&vt.length===H||C((pi?Ts($)(vt):[...vt,$]).slice(-K))},[I]),onDeselect:U($=>I.onChange(Ts($)(I.value)),[I]),defaultIndex:_!==void 0&&_?.length>0?0:p}},rd=s=>{const e=s.shadowRoot.querySelectorAll(".chip"),t=s.shadowRoot.querySelector(".badge");t.hidden=!0;for(const a of e)a.hidden=!1;const n=s.shadowRoot.querySelector("cosmoz-input").shadowRoot?.querySelector(".control")?.getBoundingClientRect();let r;for(r=0;r<e.length;r++){const l=e[r].getBoundingClientRect();if(!(l.x+l.width<=n.x+n.width-24))break}const o=e.length-r;for(t.querySelector("span").textContent="+"+o.toString(),t.hidden=o<1;r<e.length;r++)e[r].hidden=!0},od=({value:s,active:e,wrap:t,limit:i})=>{const n=xt(),r=!(t||i==1),o=B(()=>id(()=>rd(n)),[]),[a,l]=he(0);Ds(()=>{if(!r)return;const c=n.shadowRoot.querySelector("cosmoz-input"),u=new ResizeObserver(h=>{l(h[0].contentRect.width)});return u.observe(c),()=>u.disconnect()},[r]),Ds(()=>r?o():void 0,[r,a,e,s])},ad=["input","control","label","line","error","wrap"].map(s=>`${s}: input-${s}`).join(),ld=[Ua({apply({rects:s,elements:e}){Object.assign(e.floating.style,{minWidth:`${Math.max(s.reference.width,s.floating.width)}px`})}}),...vr],cd=({active:s,isSingle:e,showSingle:t})=>s?!(e&&!t):!1,ud=s=>{const{active:e,invalid:t,errorMessage:i,label:n,placeholder:r,disabled:o,noLabelFloat:a,alwaysFloatLabel:l,textual:c,text:u,onText:h,onFocus:d,onClick:f,onDeselect:p,value:g,limit:m,min:y,showSingle:b,items:w,source$:x,placement:v,loading:S,chipRenderer:_}=s,z=xt(),N=m==1,R=N&&g?.[0]!=null,{styles:V,setReference:Q,setFloating:j}=_r({placement:v,middleware:ld});F(()=>(z.addEventListener("focusin",d),z.addEventListener("focusout",d),()=>{z.removeEventListener("focusin",d),z.removeEventListener("focusout",d)}),[d]),Jr({focus:()=>z.shadowRoot?.querySelector("#input")?.focus()},[]);const E=S||w.length>0||u!=null&&u.length>0;return k`<cosmoz-input
				id="input"
				part="input"
				${ve(Q)}
				.label=${n}
				.placeholder=${R?void 0:r}
				?no-label-float=${a}
				?always-float-label=${g?.length>0||l}
				?readonly=${R}
				?disabled=${o}
				?invalid=${ei(x.then(()=>t,()=>!0),t)}
				.errorMessage=${ei(x.then(()=>i,I=>I.message),i)}
				.value=${cs(u)}
				@value-changed=${h}
				@click=${f}
				autocomplete="off"
				exportparts=${ad}
				?data-one=${N}
				?data-single=${R}
			>
				<slot name="prefix" slot="prefix"></slot>
				<slot name="suffix" slot="suffix"></slot>
				${Jh({value:g,min:y,onDeselect:p,textual:c,disabled:o,chipRenderer:_})}
			</cosmoz-input>

			${se(cd({active:e,isSingle:R,showSingle:b}),()=>Vh({...s,items:w,multi:!N,setFloating:j,styles:{...V,display:E?void 0:"none"}},se(S,()=>k`<cosmoz-autocomplete-skeleton-span></cosmoz-autocomplete-skeleton-span>`,()=>se(u!=null&&u.length>0&&w.length===0,()=>k`<slot name="no-result">
											<p class="no-result">${rh("No results found")}</p>
										</slot>`))))}`},ho=s=>{const e={...s,...nd(s)};return od(e),ud(e)},fo=["disabled","invalid","no-label-float","always-float-label","text-property","value-property","limit","min","show-single","preserve-order","keep-opened","keep-query","default-index","external-search","item-height","item-limit","wrap"],hd=s=>{const{onChange:e,onText:t,...i}=s,[n,r]=Vo("value");return F(()=>{s.onChange!=null&&console.warn("onChange is deprecated; use value-changed and lift instead")},[]),ho({...i,value:n,onChange:U((o,...a)=>{r(o),e?.(o,...a)},[e]),onText:U(o=>{s.text=o,t?.(o)},[t])})},po=[di(Yh)];customElements.define("cosmoz-autocomplete-ui",J(ho,{observedAttributes:fo,styleSheets:po}));customElements.define("cosmoz-autocomplete",J(hd,{observedAttributes:fo,styleSheets:po}));const dd=ie`
	@keyframes rotating {
		100% {
			transform: rotate(360deg);
		}
	}

	:host {
		--cosmoz-spinner-width: 20px;
		--cosmoz-spinner-height: 20px;
		display: inline-block;
		vertical-align: middle;
		border-radius: 50%;
		width: var(--cosmoz-spinner-width, 22px);
		height: var(--cosmoz-spinner-height, 22px);
		border: 2px solid rgba(0, 0, 0, 0.1);
		border-top: 2px solid #5f5a92;
		animation: rotating 1.2s infinite cubic-bezier(0.785, 0.135, 0.15, 0.86);
		box-sizing: border-box;
		margin: 0 4px;
		flex: none !important;
	}
`,fd=()=>ye,pd=J(fd,{styleSheets:[dd]});customElements.define("cosmoz-spinner",pd);const L=s=>typeof s=="string",Qe=()=>{let s,e;const t=new Promise((i,n)=>{s=i,e=n});return t.resolve=s,t.reject=e,t},Tn=s=>s==null?"":""+s,gd=(s,e,t)=>{s.forEach(i=>{e[i]&&(t[i]=e[i])})},md=/###/g,An=s=>s&&s.indexOf("###")>-1?s.replace(md,"."):s,Nn=s=>!s||L(s),ct=(s,e,t)=>{const i=L(e)?e.split("."):e;let n=0;for(;n<i.length-1;){if(Nn(s))return{};const r=An(i[n]);!s[r]&&t&&(s[r]=new t),Object.prototype.hasOwnProperty.call(s,r)?s=s[r]:s={},++n}return Nn(s)?{}:{obj:s,k:An(i[n])}},zn=(s,e,t)=>{const{obj:i,k:n}=ct(s,e,Object);if(i!==void 0||e.length===1){i[n]=t;return}let r=e[e.length-1],o=e.slice(0,e.length-1),a=ct(s,o,Object);for(;a.obj===void 0&&o.length;)r=`${o[o.length-1]}.${r}`,o=o.slice(0,o.length-1),a=ct(s,o,Object),a&&a.obj&&typeof a.obj[`${a.k}.${r}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${r}`]=t},yd=(s,e,t,i)=>{const{obj:n,k:r}=ct(s,e,Object);n[r]=n[r]||[],n[r].push(t)},Xt=(s,e)=>{const{obj:t,k:i}=ct(s,e);if(t)return t[i]},bd=(s,e,t)=>{const i=Xt(s,t);return i!==void 0?i:Xt(e,t)},go=(s,e,t)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in s?L(s[i])||s[i]instanceof String||L(e[i])||e[i]instanceof String?t&&(s[i]=e[i]):go(s[i],e[i],t):s[i]=e[i]);return s},Ie=s=>s.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var xd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const wd=s=>L(s)?s.replace(/[&<>"'\/]/g,e=>xd[e]):s;class vd{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const _d=[" ",",","?","!",";"],Sd=new vd(20),Cd=(s,e,t)=>{e=e||"",t=t||"";const i=_d.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(i.length===0)return!0;const n=Sd.getRegExp(`(${i.map(o=>o==="?"?"\\?":o).join("|")})`);let r=!n.test(s);if(!r){const o=s.indexOf(t);o>0&&!n.test(s.substring(0,o))&&(r=!0)}return r},si=function(s,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!s)return;if(s[e])return s[e];const i=e.split(t);let n=s;for(let r=0;r<i.length;){if(!n||typeof n!="object")return;let o,a="";for(let l=r;l<i.length;++l)if(l!==r&&(a+=t),a+=i[l],o=n[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<i.length-1)continue;r+=l-r+1;break}n=o}return n},Qt=s=>s&&s.replace("_","-"),Pd={type:"logger",log(s){this.output("log",s)},warn(s){this.output("warn",s)},error(s){this.output("error",s)},output(s,e){console&&console[s]&&console[s].apply(console,e)}};class Zt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Pd,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,i,n){return n&&!this.debug?null:(L(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Zt(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Zt(this.logger,e)}}var ue=new Zt;class ms{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const n=this.observers[i].get(t)||0;this.observers[i].set(t,n+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let c=0;c<l;c++)a.apply(a,[e,...i])})}}class Fn extends ms{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,o=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,t],i&&(Array.isArray(i)?a.push(...i):L(i)&&r?a.push(...i.split(r)):a.push(i)));const l=Xt(this.data,a);return!l&&!t&&!i&&e.indexOf(".")>-1&&(e=a[0],t=a[1],i=a.slice(2).join(".")),l||!o||!L(i)?l:si(this.data&&this.data[e]&&this.data[e][t],i,r)}addResource(e,t,i,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=[e,t];i&&(a=a.concat(o?i.split(o):i)),e.indexOf(".")>-1&&(a=e.split("."),n=t,t=a[1]),this.addNamespaces(t),zn(this.data,a,n),r.silent||this.emit("added",e,t,i,n)}addResources(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const r in i)(L(i[r])||Array.isArray(i[r]))&&this.addResource(e,t,r,i[r],{silent:!0});n.silent||this.emit("added",e,t,i)}addResourceBundle(e,t,i,n,r){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),n=i,i=t,t=a[1]),this.addNamespaces(t);let l=Xt(this.data,a)||{};o.skipCopy||(i=JSON.parse(JSON.stringify(i))),n?go(l,i,r):l={...l,...i},zn(this.data,a,l),o.silent||this.emit("added",e,t,i)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(n=>t[n]&&Object.keys(t[n]).length>0)}toJSON(){return this.data}}var mo={processors:{},addPostProcessor(s){this.processors[s.name]=s},handle(s,e,t,i,n){return s.forEach(r=>{this.processors[r]&&(e=this.processors[r].process(e,t,i,n))}),e}};const In={};class es extends ms{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),gd(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ue.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,t);return i&&i.res!==void 0}extractFromKey(e,t){let i=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const n=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const o=i&&e.indexOf(i)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!Cd(e,i,n);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:L(r)?[r]:r};const c=e.split(i);(i!==n||i===n&&this.options.ns.indexOf(c[0])>-1)&&(r=c.shift()),e=c.join(n)}return{key:e,namespaces:L(r)?[r]:r}}translate(e,t,i){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const n=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,r=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],t),l=a[a.length-1],c=t.lng||this.language,u=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(u){const x=t.nsSeparator||this.options.nsSeparator;return n?{res:`${l}${x}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${x}${o}`}return n?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:o}const h=this.resolve(e,t);let d=h&&h.res;const f=h&&h.usedKey||o,p=h&&h.exactUsedKey||o,g=Object.prototype.toString.apply(d),m=["[object Number]","[object Function]","[object RegExp]"],y=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,b=!this.i18nFormat||this.i18nFormat.handleAsObject,w=!L(d)&&typeof d!="boolean"&&typeof d!="number";if(b&&d&&w&&m.indexOf(g)<0&&!(L(y)&&Array.isArray(d))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,d,{...t,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return n?(h.res=x,h.usedParams=this.getUsedParamsDetails(t),h):x}if(r){const x=Array.isArray(d),v=x?[]:{},S=x?p:f;for(const _ in d)if(Object.prototype.hasOwnProperty.call(d,_)){const z=`${S}${r}${_}`;v[_]=this.translate(z,{...t,joinArrays:!1,ns:a}),v[_]===z&&(v[_]=d[_])}d=v}}else if(b&&L(y)&&Array.isArray(d))d=d.join(y),d&&(d=this.extendTranslation(d,e,t,i));else{let x=!1,v=!1;const S=t.count!==void 0&&!L(t.count),_=es.hasDefaultValue(t),z=S?this.pluralResolver.getSuffix(c,t.count,t):"",N=t.ordinal&&S?this.pluralResolver.getSuffix(c,t.count,{ordinal:!1}):"",R=S&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),V=R&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${z}`]||t[`defaultValue${N}`]||t.defaultValue;!this.isValidLookup(d)&&_&&(x=!0,d=V),this.isValidLookup(d)||(v=!0,d=o);const j=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&v?void 0:d,E=_&&V!==d&&this.options.updateMissing;if(v||x||E){if(this.logger.log(E?"updateKey":"missingKey",c,l,o,E?V:d),r){const C=this.resolve(o,{...t,keySeparator:!1});C&&C.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const D=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&D&&D[0])for(let C=0;C<D.length;C++)I.push(D[C]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(t.lng||this.language):I.push(t.lng||this.language);const $=(C,A,K)=>{const H=_&&K!==d?K:j;this.options.missingKeyHandler?this.options.missingKeyHandler(C,l,A,H,E,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(C,l,A,H,E,t),this.emit("missingKey",C,l,A,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?I.forEach(C=>{const A=this.pluralResolver.getSuffixes(C,t);R&&t[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(K=>{$([C],o+K,t[`defaultValue${K}`]||V)})}):$(I,o,V))}d=this.extendTranslation(d,e,t,h,i),v&&d===o&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${o}`),(v||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,x?d:void 0):d=this.options.parseMissingKeyHandler(d))}return n?(h.res=d,h.usedParams=this.getUsedParamsDetails(t),h):d}extendTranslation(e,t,i,n,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const c=L(e)&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const d=e.match(this.interpolator.nestingRegexp);u=d&&d.length}let h=i.replace&&!L(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,i.lng||this.language||n.usedLng,i),c){const d=e.match(this.interpolator.nestingRegexp),f=d&&d.length;u<f&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&n&&n.res&&(i.lng=this.language||n.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];return r&&r[0]===f[0]&&!i.context?(o.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${t[0]}`),null):o.translate(...f,t)},i)),i.interpolation&&this.interpolator.reset()}const a=i.postProcess||this.options.postProcess,l=L(a)?[a]:a;return e!=null&&l&&l.length&&i.applyPostProcessor!==!1&&(e=mo.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,n,r,o,a;return L(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(i))return;const c=this.extractFromKey(l,t),u=c.key;n=u;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const d=t.count!==void 0&&!L(t.count),f=d&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),p=t.context!==void 0&&(L(t.context)||typeof t.context=="number")&&t.context!=="",g=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(m=>{this.isValidLookup(i)||(a=m,!In[`${g[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(In[`${g[0]}-${m}`]=!0,this.logger.warn(`key "${n}" for languages "${g.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(y=>{if(this.isValidLookup(i))return;o=y;const b=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(b,u,y,m,t);else{let x;d&&(x=this.pluralResolver.getSuffix(y,t.count,t));const v=`${this.options.pluralSeparator}zero`,S=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(b.push(u+x),t.ordinal&&x.indexOf(S)===0&&b.push(u+x.replace(S,this.options.pluralSeparator)),f&&b.push(u+v)),p){const _=`${u}${this.options.contextSeparator}${t.context}`;b.push(_),d&&(b.push(_+x),t.ordinal&&x.indexOf(S)===0&&b.push(_+x.replace(S,this.options.pluralSeparator)),f&&b.push(_+v))}}let w;for(;w=b.pop();)this.isValidLookup(i)||(r=w,i=this.getResource(y,m,w,t))}))})}),{res:i,usedKey:n,exactUsedKey:r,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,i,n):this.resourceStore.getResource(e,t,i,n)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!L(e.replace);let n=i?e.replace:e;if(i&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!i){n={...n};for(const r of t)delete n[r]}return n}static hasDefaultValue(e){const t="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&t===i.substring(0,t.length)&&e[i]!==void 0)return!0;return!1}}const As=s=>s.charAt(0).toUpperCase()+s.slice(1);class Dn{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ue.create("languageUtils")}getScriptPartFromCode(e){if(e=Qt(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Qt(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(L(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let n=Intl.getCanonicalLocales(e)[0];if(n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n)return n}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(n=>n.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=As(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),t.indexOf(i[1].toLowerCase())>-1&&(i[1]=As(i[1].toLowerCase())),t.indexOf(i[2].toLowerCase())>-1&&(i[2]=As(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(i=>{if(t)return;const n=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(n))&&(t=n)}),!t&&this.options.supportedLngs&&e.forEach(i=>{if(t)return;const n=this.getLanguagePartFromCode(i);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(r=>{if(r===n)return r;if(!(r.indexOf("-")<0&&n.indexOf("-")<0)&&(r.indexOf("-")>0&&n.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===n||r.indexOf(n)===0&&n.length>1))return r})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),L(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let i=e[t];return i||(i=e[this.getScriptPartFromCode(t)]),i||(i=e[this.formatLanguageCode(t)]),i||(i=e[this.getLanguagePartFromCode(t)]),i||(i=e.default),i||[]}toResolveHierarchy(e,t){const i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],r=o=>{o&&(this.isSupportedCode(o)?n.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return L(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):L(e)&&r(this.formatLanguageCode(e)),i.forEach(o=>{n.indexOf(o)<0&&r(this.formatLanguageCode(o))}),n}}let Od=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Ld={1:s=>+(s>1),2:s=>+(s!=1),3:s=>0,4:s=>s%10==1&&s%100!=11?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2,5:s=>s==0?0:s==1?1:s==2?2:s%100>=3&&s%100<=10?3:s%100>=11?4:5,6:s=>s==1?0:s>=2&&s<=4?1:2,7:s=>s==1?0:s%10>=2&&s%10<=4&&(s%100<10||s%100>=20)?1:2,8:s=>s==1?0:s==2?1:s!=8&&s!=11?2:3,9:s=>+(s>=2),10:s=>s==1?0:s==2?1:s<7?2:s<11?3:4,11:s=>s==1||s==11?0:s==2||s==12?1:s>2&&s<20?2:3,12:s=>+(s%10!=1||s%100==11),13:s=>+(s!==0),14:s=>s==1?0:s==2?1:s==3?2:3,15:s=>s%10==1&&s%100!=11?0:s%10>=2&&(s%100<10||s%100>=20)?1:2,16:s=>s%10==1&&s%100!=11?0:s!==0?1:2,17:s=>s==1||s%10==1&&s%100!=11?0:1,18:s=>s==0?0:s==1?1:2,19:s=>s==1?0:s==0||s%100>1&&s%100<11?1:s%100>10&&s%100<20?2:3,20:s=>s==1?0:s==0||s%100>0&&s%100<20?1:2,21:s=>s%100==1?1:s%100==2?2:s%100==3||s%100==4?3:0,22:s=>s==1?0:s==2?1:(s<0||s>10)&&s%10==0?2:3};const Ed=["v1","v2","v3"],$d=["v4"],Mn={zero:0,one:1,two:2,few:3,many:4,other:5},Rd=()=>{const s={};return Od.forEach(e=>{e.lngs.forEach(t=>{s[t]={numbers:e.nr,plurals:Ld[e.fc]}})}),s};class kd{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ue.create("pluralResolver"),(!this.options.compatibilityJSON||$d.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Rd(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const i=Qt(e==="dev"?"en":e),n=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:i,type:n});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let o;try{o=new Intl.PluralRules(i,{type:n})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,t)}return this.pluralRulesCache[r]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,t);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(n=>`${t}${n}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,t);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((n,r)=>Mn[n]-Mn[r]).map(n=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${n}`):i.numbers.map(n=>this.getSuffix(e,n,t)):[]}getSuffix(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=this.getRule(e,i);return n?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const i=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let n=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(n===2?n="plural":n===1&&(n=""));const r=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return this.options.compatibilityJSON==="v1"?n===1?"":typeof n=="number"?`_plural_${n.toString()}`:r():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?r():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!Ed.includes(this.options.compatibilityJSON)}}const jn=function(s,e,t){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=bd(s,e,t);return!r&&n&&L(t)&&(r=si(s,t,i),r===void 0&&(r=si(e,t,i))),r},Ns=s=>s.replace(/\$/g,"$$$$");class Td{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ue.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:i,useRawValueToEscape:n,prefix:r,prefixEscaped:o,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:d,nestingPrefixEscaped:f,nestingSuffix:p,nestingSuffixEscaped:g,nestingOptionsSeparator:m,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=t!==void 0?t:wd,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=r?Ie(r):o||"{{",this.suffix=a?Ie(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?Ie(d):f||Ie("$t("),this.nestingSuffix=p?Ie(p):g||Ie(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=y||1e3,this.alwaysFormat=b!==void 0?b:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,i)=>t&&t.source===i?(t.lastIndex=0,t):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,i,n){let r,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=f=>{if(f.indexOf(this.formatSeparator)<0){const y=jn(t,l,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,i,{...n,...t,interpolationkey:f}):y}const p=f.split(this.formatSeparator),g=p.shift().trim(),m=p.join(this.formatSeparator).trim();return this.format(jn(t,l,g,this.options.keySeparator,this.options.ignoreJSONStructure),m,i,{...n,...t,interpolationkey:g})};this.resetRegExp();const u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,h=n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>Ns(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?Ns(this.escape(f)):Ns(f)}].forEach(f=>{for(a=0;r=f.regex.exec(e);){const p=r[1].trim();if(o=c(p),o===void 0)if(typeof u=="function"){const m=u(e,r,n);o=L(m)?m:""}else if(n&&Object.prototype.hasOwnProperty.call(n,p))o="";else if(h){o=r[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),o="";else!L(o)&&!this.useRawValueToEscape&&(o=Tn(o));const g=f.safeValue(o);if(e=e.replace(r[0],g),h?(f.regex.lastIndex+=o.length,f.regex.lastIndex-=r[0].length):f.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n,r,o;const a=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const h=l.split(new RegExp(`${u}[ ]*{`));let d=`{${h[1]}`;l=h[0],d=this.interpolate(d,o);const f=d.match(/'/g),p=d.match(/"/g);(f&&f.length%2===0&&!p||p.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),c&&(o={...c,...o})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${u}${d}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;n=this.nestingRegexp.exec(e);){let l=[];o={...i},o=o.replace&&!L(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let c=!1;if(n[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(n[1])){const u=n[1].split(this.formatSeparator).map(h=>h.trim());n[1]=u.shift(),l=u,c=!0}if(r=t(a.call(this,n[1].trim(),o),o),r&&n[0]===e&&!L(r))return r;L(r)||(r=Tn(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),c&&(r=l.reduce((u,h)=>this.format(u,h,i.lng,{...i,interpolationkey:n[1].trim()}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const Ad=s=>{let e=s.toLowerCase().trim();const t={};if(s.indexOf("(")>-1){const i=s.split("(");e=i[0].toLowerCase().trim();const n=i[1].substring(0,i[1].length-1);e==="currency"&&n.indexOf(":")<0?t.currency||(t.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?t.range||(t.range=n.trim()):n.split(";").forEach(o=>{if(o){const[a,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();t[u]||(t[u]=c),c==="false"&&(t[u]=!1),c==="true"&&(t[u]=!0),isNaN(c)||(t[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:t}},De=s=>{const e={};return(t,i,n)=>{let r=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(r={...r,[n.interpolationkey]:void 0});const o=i+JSON.stringify(r);let a=e[o];return a||(a=s(Qt(i),n),e[o]=a),a(t)}};class Nd{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ue.create("formatter"),this.options=e,this.formats={number:De((t,i)=>{const n=new Intl.NumberFormat(t,{...i});return r=>n.format(r)}),currency:De((t,i)=>{const n=new Intl.NumberFormat(t,{...i,style:"currency"});return r=>n.format(r)}),datetime:De((t,i)=>{const n=new Intl.DateTimeFormat(t,{...i});return r=>n.format(r)}),relativetime:De((t,i)=>{const n=new Intl.RelativeTimeFormat(t,{...i});return r=>n.format(r,i.range||"day")}),list:De((t,i)=>{const n=new Intl.ListFormat(t,{...i});return r=>n.format(r)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=De(t)}format(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(a=>a.indexOf(")")>-1)){const a=r.findIndex(l=>l.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,a)].join(this.formatSeparator)}return r.reduce((a,l)=>{const{formatName:c,formatOptions:u}=Ad(l);if(this.formats[c]){let h=a;try{const d=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},f=d.locale||d.lng||n.locale||n.lng||i;h=this.formats[c](a,f,{...u,...n,...d})}catch(d){this.logger.warn(d)}return h}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const zd=(s,e)=>{s.pending[e]!==void 0&&(delete s.pending[e],s.pendingCount--)};class Fd extends ms{constructor(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=i,this.languageUtils=i.languageUtils,this.options=n,this.logger=ue.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,n.backend,n)}queueLoad(e,t,i,n){const r={},o={},a={},l={};return e.forEach(c=>{let u=!0;t.forEach(h=>{const d=`${c}|${h}`;!i.reload&&this.store.hasResourceBundle(c,h)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,u=!1,o[d]===void 0&&(o[d]=!0),r[d]===void 0&&(r[d]=!0),l[h]===void 0&&(l[h]=!0)))}),u||(a[c]=!0)}),(Object.keys(r).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(r),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,t,i){const n=e.split("|"),r=n[0],o=n[1];t&&this.emit("failedLoading",r,o,t),!t&&i&&this.store.addResourceBundle(r,o,i,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&i&&(this.state[e]=0);const a={};this.queue.forEach(l=>{yd(l.loaded,[r],o),zd(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const u=l.loaded[c];u.length&&u.forEach(h=>{a[c][h]===void 0&&(a[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,t,i){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:i,tried:n,wait:r,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,i,n+1,r*2,o)},r);return}o(c,u)},l=this.backend[i].bind(this.backend);if(l.length===2){try{const c=l(e,t);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,t,a)}prepareLoading(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();L(e)&&(e=this.languageUtils.toResolveHierarchy(e)),L(t)&&(t=[t]);const r=this.queueLoad(e,t,i,n);if(!r.toLoad.length)return r.pending.length||n(),null;r.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,i){this.prepareLoading(e,t,{},i)}reload(e,t,i){this.prepareLoading(e,t,{reload:!0},i)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),n=i[0],r=i[1];this.read(n,r,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${t}loading namespace ${r} for language ${n} failed`,o),!o&&a&&this.logger.log(`${t}loaded namespace ${r} for language ${n}`,a),this.loaded(e,o,a)})}saveMissing(e,t,i,n,r){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${i}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:r},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,t,i,n,l):u=c(e,t,i,n),u&&typeof u.then=="function"?u.then(h=>a(null,h)).catch(a):a(null,u)}catch(u){a(u)}else c(e,t,i,n,a,l)}!e||!e[0]||this.store.addResource(e[0],t,i,n)}}}const Vn=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:s=>{let e={};if(typeof s[1]=="object"&&(e=s[1]),L(s[1])&&(e.defaultValue=s[1]),L(s[2])&&(e.tDescription=s[2]),typeof s[2]=="object"||typeof s[3]=="object"){const t=s[3]||s[2];Object.keys(t).forEach(i=>{e[i]=t[i]})}return e},interpolation:{escapeValue:!0,format:s=>s,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Un=s=>(L(s.ns)&&(s.ns=[s.ns]),L(s.fallbackLng)&&(s.fallbackLng=[s.fallbackLng]),L(s.fallbackNS)&&(s.fallbackNS=[s.fallbackNS]),s.supportedLngs&&s.supportedLngs.indexOf("cimode")<0&&(s.supportedLngs=s.supportedLngs.concat(["cimode"])),s),$t=()=>{},Id=s=>{Object.getOwnPropertyNames(Object.getPrototypeOf(s)).forEach(t=>{typeof s[t]=="function"&&(s[t]=s[t].bind(s))})};class mt extends ms{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Un(e),this.services={},this.logger=ue,this.modules={external:[]},Id(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(i=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(L(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=Vn();this.options={...n,...this.options,...Un(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?ue.init(r(this.modules.logger),this.options):ue.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:typeof Intl<"u"&&(u=Nd);const h=new Dn(this.options);this.store=new Fn(this.options.resources,this.options);const d=this.services;d.logger=ue,d.resourceStore=this.store,d.languageUtils=h,d.pluralResolver=new kd(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(d.formatter=r(u),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Td(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Fd(r(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(f){for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];e.emit(f,...g)}),this.modules.languageDetector&&(d.languageDetector=r(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=r(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new es(this.services,this.options),this.translator.on("*",function(f){for(var p=arguments.length,g=new Array(p>1?p-1:0),m=1;m<p;m++)g[m-1]=arguments[m];e.emit(f,...g)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,i||(i=$t),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=function(){return e.store[u](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=function(){return e.store[u](...arguments),e}});const l=Qe(),c=()=>{const u=(h,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),i(h,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$t;const n=L(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&n.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const r=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&r.indexOf(c)<0&&r.push(c)})};n?o(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(r,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(a)})}else i(null)}reloadResources(e,t,i){const n=Qe();return typeof e=="function"&&(i=e,e=void 0),typeof t=="function"&&(i=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),i||(i=$t),this.services.backendConnector.reload(e,t,r=>{n.resolve(),i(r)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&mo.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const i=this.languages[t];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,t){var i=this;this.isLanguageChangingTo=e;const n=Qe();this.emit("languageChanging",e);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,c)=>{c?(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve(function(){return i.t(...arguments)}),t&&t(l,function(){return i.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=L(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||r(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,u=>{o(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),n}getFixedT(e,t,i){var n=this;const r=function(o,a){let l;if(typeof a!="object"){for(var c=arguments.length,u=new Array(c>2?c-2:0),h=2;h<c;h++)u[h-2]=arguments[h];l=n.options.overloadTranslationOptionHandler([o,a].concat(u))}else l={...a};l.lng=l.lng||r.lng,l.lngs=l.lngs||r.lngs,l.ns=l.ns||r.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||i||r.keyPrefix);const d=n.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(o)?f=o.map(p=>`${l.keyPrefix}${d}${p}`):f=l.keyPrefix?`${l.keyPrefix}${d}${o}`:o,n.t(f,l)};return L(e)?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=i,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=t.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(t.precheck){const a=t.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(i,e)&&(!n||o(r,e)))}loadNamespaces(e,t){const i=Qe();return this.options.ns?(L(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{i.resolve(),t&&t(n)}),i):(t&&t(),Promise.resolve())}loadLanguages(e,t){const i=Qe();L(e)&&(e=[e]);const n=this.options.preload||[],r=e.filter(o=>n.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return r.length?(this.options.preload=n.concat(r),this.loadResources(o=>{i.resolve(),t&&t(o)}),i):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new Dn(Vn());return t.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new mt(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$t;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},r=new mt(n);return(e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(a=>{r[a]=this[a]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},i&&(r.store=new Fn(this.store.data,n),r.services.resourceStore=r.store),r.translator=new es(r.services,n),r.translator.on("*",function(a){for(var l=arguments.length,c=new Array(l>1?l-1:0),u=1;u<l;u++)c[u-1]=arguments[u];r.emit(a,...c)}),r.init(n,t),r.translator.options=n,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const M=mt.createInstance();M.createInstance=mt.createInstance;M.createInstance;M.dir;M.init;M.loadResources;M.reloadResources;M.use;M.changeLanguage;M.getFixedT;M.t;M.exists;M.setDefaultNamespace;M.hasLoadedNamespace;M.loadNamespaces;M.loadLanguages;const Ft=[],ys=()=>{M.isInitialized||M.init({lng:"en",resStore:{en:{}},fallbackLng:!1})},bs=s=>s.reduce((e,t,i)=>(e.count===void 0&&typeof t=="number"&&(e.count=t),typeof t=="object"?{...e,...t}:(e[i]=t,e)),{}),Bn=function(s){ys();const e=bs([...arguments].slice(1));return delete e.count,M.t(s,e)},Dd=function(s,e){ys();const t=bs([...arguments].slice(2)),i=t.count;let n;delete t.count;const r=M.services.pluralResolver.getSuffix(M.language,i);return r?(t.defaultValue=e,n=s+r):(n=s,t.defaultValue=s),M.t(n,t)},Md=function(s,e){ys();const t=bs([...arguments].slice(2));return t.context=s,delete t.count,M.t(e,t)},jd=function(s,e,t){ys();const i=bs([...arguments].slice(3)),n=i.count,r=s?"_"+s:"";let o=e;delete i.count;const a=M.services.pluralResolver.getSuffix(M.language,n);return a?(i.defaultValue=t,o=e+r+a):(o=e,i.context=s),M.t(o,i)},Vd=(s,e,t)=>{M.init({resources:{}}),M.addResourceBundle(s,e,t)},Ff=Te(s=>class extends s{static get properties(){return{t:{type:Object,value(){return{}}}}}_filterT(e){return e.filter(t=>t!==this.t)}_(){return Bn.apply(null,this._filterT([...arguments]))}connectedCallback(){super.connectedCallback(),Ft.push(this)}disconnectedCallback(){super.disconnectedCallback();const e=Ft.indexOf(this);e>=0&&Ft.splice(e,1)}gettext(){return Bn.apply(null,this._filterT([...arguments]))}ngettext(){return Dd.apply(null,this._filterT([...arguments]))}pgettext(){return Md.apply(null,this._filterT([...arguments]))}npgettext(){return jd.apply(null,this._filterT([...arguments]))}});class Ud extends kc{static get properties(){return{compatibilityJSON:{type:String,value:"v3"},domain:{type:String,value:"messages"},interpolationPrefix:{type:String,value:"__"},interpolationSuffix:{type:String,value:"__"},language:{type:String,value:"en"},namespace:{type:String,value:"translation"},translations:{type:Object,observer(e){e!=null&&(Vd(this.language,this.namespace,e),Ft.forEach(t=>t.set("t",{})))}},keySeparator:{type:String,value:"."},nsSeparator:{type:String,value:":"}}}ready(){super.ready(),M.init({compatibilityJSON:this.compatibilityJSON,interpolation:{escapeValue:!1,prefix:this.interpolationPrefix,suffix:this.interpolationSuffix},keySeparator:this.keySeparator,lng:this.language,nsSeparator:this.nsSeparator,resStore:{}})}}customElements.define("cosmoz-i18next",Ud);const yo=["T"," "],Hn=s=>{if(!s||typeof s!="string")return;let e;return yo.some(t=>s.match(t)?(e=s.split(t),!0):!1),e||[s]},Bd=(s,e)=>{const t=Hn(s),i=Hn(e);return{minDate:Array.isArray(t)?t.shift():null,minTime:Array.isArray(t)?t.shift():null,maxDate:Array.isArray(i)?i.shift():null,maxTime:Array.isArray(i)?i.shift():null}},Kn=(s,e)=>{if(!(!s&&!e))return!s&&e?`T${e}`:s&&!e?s:`${s}T${e}`},Hd=s=>{if(s){for(const e of yo)if(s.match(e)){const t=s.split(e);return{date:t.shift(),time:t.shift()}}return{date:s}}},Kd=s=>{const{dateLabel:e,timeLabel:t,min:i,max:n,step:r="1",value:o}=s,{minDate:a,maxDate:l,minTime:c,maxTime:u}=B(()=>Bd(i,n),[i,n]),{date:h,time:d}=B(()=>Hd(o)??{},[o]);return F(()=>{s.dispatchEvent(new CustomEvent("cosmoz-datetime-input-value-changed",{bubbles:!0,composed:!0}))},[o]),k`
		<style>
			:host {
				display: flex;
				flex-direction: row;
			}
		</style>
		<cosmoz-input
			label="${e}"
			type="date"
			.value="${h}"
			@value-changed="${f=>pt(s,"value",Kn(f.target.value,d))}"
			.min="${a}"
			.max="${l}"
		></cosmoz-input>
		<cosmoz-input
			label="${t}"
			type="time"
			.value="${d}"
			@value-changed="${f=>pt(s,"value",Kn(h,f.target.value))}"
			step="${r}"
			.min="${c}"
			.max="${u}"
		></cosmoz-input>
	`};customElements.define("cosmoz-datetime-input",J(Kd,{observedAttributes:["date-label","time-label","min","max","step"]}));const Jd=s=>e=>{const t=e.match(s);return t&&{result:t,url:new URL(e,document.location.origin)}},Wd=(s,e)=>{for(const t of s){const i=t.rule,n=typeof i=="function"?i(e):Jd(i)(e);if(n)return{...t,route:t,match:n,url:e}}},Jn=()=>window.location.href.replace(window.location.origin,""),Yd=()=>{const[s,e]=he(Jn);return F(()=>{const t=()=>e(Jn);return window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t)},[e]),s},qd=s=>{const e=Yd();return B(()=>Wd(s,e),[s,e])},If=(s,e=null,{notify:t=!0,replace:i=!0}={})=>{(i?history.replaceState:history.pushState).call(history,e,"",s),t&&queueMicrotask(()=>window.dispatchEvent(new CustomEvent("popstate",{bubbles:!1})))},Gd=s=>{const e=qd(s);return{route:e,result:B(()=>{if(e){const{handle:t,...i}=e;return t(i)}},[e])}},Rt=(s,e,t)=>s.dispatchEvent(new CustomEvent(e,{bubbles:!1,cancelable:!1,composed:!0,...t})),Xd=(s,e,t)=>{F(()=>{if(!t){Rt(s,"route-not-found");return}Rt(s,"route-loading",{detail:e}),Promise.resolve(t).then(()=>Rt(s,"route-loaded",{detail:e})).catch(i=>Rt(s,"route-error",{detail:{route:e,error:i}}))},[t])},Qd=s=>{const e=s.routes,{route:t,result:i}=Gd(e);return Xd(s,t,i),ar([i],()=>ei(Promise.resolve(i).catch(()=>ye),ye))};customElements.define("cosmoz-router",J(Qd));const bo=()=>new URL(location.hash.replace(/^#!?/iu,"").replace("%23","#"),location.origin),Df=(s,e=Be)=>{const t=new URLSearchParams(bo().hash.replace("#","")).getAll(s);switch(t.length){case 0:return;case 1:return e(t[0]);default:return t.map(e)}},Mf=(s,e=Be)=>{const t=Array.from(new URLSearchParams(bo().hash.replace("#","")).entries()).filter(([i])=>i.startsWith(s)).map(([i,n])=>e([i.replace(s,""),n])).filter(([,i])=>i!=null);return Object.fromEntries(t)};var ae=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0;function Zd(s,e){return typeof e>"u"?e={autoBom:!1}:typeof e!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}function zs(s,e,t){var i=new XMLHttpRequest;i.open("GET",s),i.responseType="blob",i.onload=function(){ii(i.response,e,t)},i.onerror=function(){console.error("could not download file")},i.send()}function Wn(s){var e=new XMLHttpRequest;e.open("HEAD",s,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function kt(s){try{s.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),s.dispatchEvent(e)}}var Yn=ae.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),ii=ae.saveAs||(typeof window!="object"||window!==ae?function(){}:"download"in HTMLAnchorElement.prototype&&!Yn?function(e,t,i){var n=ae.URL||ae.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener",typeof e=="string"?(r.href=e,r.origin!==location.origin?Wn(r.href)?zs(e,t,i):kt(r,r.target="_blank"):kt(r)):(r.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(r.href)},4e4),setTimeout(function(){kt(r)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,i){if(t=t||e.name||"download",typeof e=="string")if(Wn(e))zs(e,t,i);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){kt(n)})}else navigator.msSaveOrOpenBlob(Zd(e,i),t)}:function(e,t,i,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return zs(e,t,i);var r=e.type==="application/octet-stream",o=/constructor/i.test(ae.HTMLElement)||ae.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&o||Yn)&&typeof FileReader<"u"){var l=new FileReader;l.onloadend=function(){var h=l.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},l.readAsDataURL(e)}else{var c=ae.URL||ae.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});ae.saveAs=ii.saveAs=ii;const It=function(s){s&&console.log(s)};class xo{constructor(e,t){this._filename=e,this.buffer=null,this.lastDownloadBlobUrl=null,this._mimeType=t}generate(){}createDownloadUrl(){this.buffer||this.generate();const e=new Blob([this.buffer],{type:this._mimeType});return this.lastDownloadBlobUrl&&window.URL.revokeObjectURL(this.lastDownloadBlobUrl),this.lastDownloadBlobUrl=URL.createObjectURL(e),this.lastDownloadBlobUrl}createDownloadLink(e){const t=e instanceof HTMLAnchorElement?e:document.createElement("a");return typeof e=="string"&&(t.innerHTML=e),t.href=this.createDownloadUrl(),t.download=this._filename,t.hasChildNodes||(t.innerText=this._filename),It("Link created for file "+this._filename),t}}let Tt=null;class ef extends xo{constructor(e,t){super(e,"application/zip"),this.files=[],this.createFolderEntries=!!t;const i=new Date;this.timeInt=Math.round(i.getSeconds()/2)|i.getMinutes()<<5|i.getHours()<<11,this.dateInt=i.getFullYear()-1980<<9|i.getMonth()+1<<5|i.getDate()}addFileFromString(e,t){const i=new TextEncoder("utf-8").encode(t);return this.addFileFromUint8Array(e,i),this}addFileFromUint8Array(e,t){if(!(t instanceof Uint8Array))throw new Error("invalid parameter");return this.files.push({name:e.replace("\\","/"),data:t}),this}generate(){It("NullZip archive generation started");const e={};for(const c of this.files)c.size=c.data?c.data.byteLength:0,c.crc=c.data?this.crc(c.data):0,e[c.name]=c;const t=[];if(this.createFolderEntries){const c=/\//giu;for(const u of this.files){const h=u.name;for(let d=c.exec(h);d!==null;d=c.exec(h)){const f={name:h.substr(0,d.index+1),size:0,crc:0,data:new Uint8Array(0)};typeof e[f.name]>"u"&&(e[f.name]=f,t.push(f))}}}Array.prototype.push.apply(this.files,t),this.files.sort((c,u)=>c.name.length-u.name.length||c.name.localeCompare(u.name));const i=this.files.reduce((c,u)=>c+76+u.name.length*2+u.size,22);It("Estimated file size: "+i),this.buffer=new ArrayBuffer(i);const n=new tf(this.buffer),r=this.hex2u8a("504b0304140000000000");for(const c of this.files)c.offs=n.i,n.writeByteArray(r),n.uint16(this.timeInt),n.uint16(this.dateInt),n.uint32(c.crc),n.uint32(c.size),n.uint32(c.size),n.uint16(c.name.length),n.uint16(0),n.writeASCII(c.name),c.size>0&&n.writeByteArray(c.data);const o=n.i,a=this.hex2u8a("504b01023f00140000000000");for(const c of this.files)n.writeByteArray(a),n.uint16(this.timeInt),n.uint16(this.dateInt),n.uint32(c.crc),n.uint32(c.size),n.uint32(c.size),n.uint16(c.name.length),n.uint16(0),n.uint16(0),n.uint16(0),n.uint16(0),n.uint32(c.size?32:48),n.uint32(c.offs),n.writeASCII(c.name);const l=n.i-o;return n.writeByteArray(this.hex2u8a("504b050600000000")),n.uint16(this.files.length),n.uint16(this.files.length),n.uint32(l),n.uint32(o),n.uint16(0),It("Finished creating zip. size="+n.i+", predicted size="+i),this.buffer}crc(e){let t,i,n=-1;if(!Tt)for(Tt=[],i=0;i<256;t=++i){for(let r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;Tt[i]=t}for(let r=0;r<e.byteLength;r++)n=n>>>8^Tt[(n^e[r])&255];return(n^-1)>>>0}hex2u8a(e){const t=new Uint8Array(Math.ceil(e.length/2));for(let i=0;i<t.length;i++)t[i]=parseInt(e.substr(i*2,2),16);return t}}class tf{constructor(e){this.dw=new DataView(e),this.i=0,this.le=!0,this.utf8encoder=new TextEncoder("utf-8")}uint8(e){this.dw.setUint8(this.i++,e)}uint16(e){this.dw.setUint16(this.i,e,this.le),this.i+=2}uint32(e){this.dw.setUint32(this.i,e,this.le),this.i+=4}writeByteArray(e){if(!(e instanceof Uint8Array))throw new Error("invalid parameter");new Uint8Array(this.dw.buffer).set(e,this.i),this.i+=e.byteLength}writeASCII(e){for(let t=0;t<e.length;t++)this.dw.setUint8(this.i++,e.charCodeAt(t)&255)}}const Ze="application/vnd.openxmlformats-officedocument.spreadsheetml",xs="http://schemas.openxmlformats.org",At=`${xs}/spreadsheetml/2006/main`,Fs=`${xs}/package/2006`,et=`${xs}/officeDocument/2006/relationships`,qn=[{id:164,code:"yyyy&quot;-&quot;mm&quot;-&quot;dd"},{id:165,code:"yyyy&quot;-&quot;mm&quot;-&quot;dd&quot; &quot;h&quot;:&quot;mm&quot;:&quot;ss"}];class jf extends xo{constructor(e,t){super(e,`${Ze}.sheet`),this.sheets=[],this.frozen=!!(t&&t.frozen),this.autoFilter=!!(t&&t.filter)}addSheetFromData(e,t){const i=this.sheets.length+1;return this.sheets.push({id:i,name:this.escapeXml(t||"Sheet"+i),data:e}),this}generate(){const e=[{name:"xl/styles.xml",xml:`<styleSheet xmlns="${At}" xmlns:mc="${xs}/markup-compatibility/2006"><numFmts count="${qn.length}">${qn.map(n=>`<numFmt numFmtId="${n.id}" formatCode="${n.code}" />`)}</numFmts><fonts count="2"><font><sz val="10.0"/><color rgb="FF000000"/><name val="Arial"/></font><font><b/></font></fonts><fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="lightGray"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/></border></borders><cellStyleXfs count="1"><xf borderId="0" fillId="0" fontId="0" numFmtId="0" applyAlignment="1" applyFont="1"/></cellStyleXfs><cellXfs><xf borderId="0" fillId="0" fontId="0" numFmtId="0" xfId="0" applyAlignment="1" applyFont="1"><alignment/></xf><xf borderId="0" fillId="0" fontId="1" numFmtId="0" xfId="0" applyAlignment="1" applyFont="1"><alignment/></xf><xf borderId="0" fillId="0" fontId="0" numFmtId="164" xfId="0" applyAlignment="1" applyFont="1" applyNumberFormat="1"><alignment /></xf><xf borderId="0" fillId="0" fontId="0" numFmtId="165" xfId="0" applyAlignment="1" applyFont="1" applyNumberFormat="1"><alignment /></xf></cellXfs><cellStyles count="1"><cellStyle xfId="0" name="Normal" builtinId="0"/></cellStyles><dxfs count="0"/></styleSheet>`},{name:"xl/sharedStrings.xml",xml:`<sst xmlns="${At}" count="2" uniqueCount="2"><si><t>text here</t></si></sst>`},{name:"xl/workbook.xml",xml:`<workbook xmlns="${At}" xmlns:r="${et}"><workbookPr/><sheets>`+this.sheets.map(n=>`<sheet state="visible" name="${n.name}" sheetId="${n.id}" r:id="rId${n.id+2}"/>`).join("")+"</sheets><definedNames/><calcPr/></workbook>"},{name:"xl/_rels/workbook.xml.rels",xml:`<Relationships xmlns="${Fs}/relationships"><Relationship Id="rId1" Type="${et}/styles" Target="styles.xml" /><Relationship Id="rId2" Type="${et}/sharedStrings" Target="sharedStrings.xml"/>`+this.sheets.map(n=>`<Relationship Id="rId${n.id+2}" Type="${et}/worksheet" Target="worksheets/sheet${n.id}.xml"/>`).join("")+"</Relationships>"},{name:"[Content_Types].xml",xml:`<Types xmlns="${Fs}/content-types"><Default ContentType="application/xml" Extension="xml"/><Default ContentType="application/vnd.openxmlformats-package.relationships+xml" Extension="rels"/>`+this.sheets.map(n=>`<Override ContentType="${Ze}.worksheet+xml" PartName="/xl/worksheets/sheet${n.id}.xml"/>`).join("")+`<Override ContentType="${Ze}.sharedStrings+xml" PartName="/xl/sharedStrings.xml"/><Override ContentType="${Ze}.styles+xml" PartName="/xl/styles.xml" /><Override ContentType="${Ze}.sheet.main+xml" PartName="/xl/workbook.xml"/></Types>`},{name:"_rels/.rels",xml:`<Relationships xmlns="${Fs}/relationships"><Relationship Id="rId1" Type="${et}/officeDocument" Target="xl/workbook.xml"/></Relationships>`}],t=this.sheets.map(n=>{let r=0;const o=n.data.map((a,l)=>{const c=this.frozen&&l===0?' s="1"':"";a.length>r&&(r=a.length);const u=a.map((h,d)=>{const f=this.colName(d)+(l+1);return typeof h=="number"?`<c r="${f}"${c}><v>${h}</v></c>`:h instanceof Date?`<c s="${h.getHours()||h.getMinutes()||h.getSeconds()?3:2}"><v>${this.dateToExcelDate(h)}</v></c>`:`<c t="inlineStr"${c}><is><t>${this.escapeXml(h.toString())}</t></is></c>`});return`<row r="${l+1}">${u.join("")}</row>`});return{name:`xl/worksheets/sheet${n.id}.xml`,xml:`<worksheet xmlns="${At}"><sheetViews><sheetView workbookViewId="0"`+(this.frozen?' tabSelected="1"><pane ySplit="1" topLeftCell="A2" activePane="bottomLeft" state="frozen"/></sheetView>':"/>")+`</sheetViews><sheetFormatPr customHeight="1" defaultColWidth="17.5" defaultRowHeight="15.75"/><sheetData>${o.join("")}</sheetData>`+(this.autoFilter?`<autoFilter ref="A1:${this.colName(r)}${n.data.length}"/>`:"")+"</worksheet>"}}),i=new ef(this._filename,!1);return[...e,...t].forEach(n=>i.addFileFromString(n.name,n.xml)),this.buffer=i.generate(),this.buffer}colName(e){return e<26?String.fromCharCode(e+65):String.fromCharCode(Math.floor(e/26+64))+String.fromCharCode(Math.floor(e%26+65))}escapeXml(e){return e.replace(/[<>&'"]/gu,t=>["&lt;","&gt;","&amp;","&apos;","&quot;"][`<>&'"`.indexOf(t)])}dateToExcelDate(e){return 25569+(e.getTime()-e.getTimezoneOffset()*6e4)/864e5}}const Vf=({slot:s,title:e,className:t,width:i="24",height:n="24",styles:r}={})=>k`
  <svg
    slot=${W(s)}
    class=${`announcement-icon ${t??""}`}
    viewBox="0 0 24 24"
    preserveAspectRatio="xMidYMid meet"
    focusable="false"
    width=${i}
    height=${n}
    style=${W(r)}
  >
    ${se(e,()=>Zn`<title>${e}</title>`)}
    <path
      d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"
    />
  </svg>
`,Uf=({slot:s,title:e,className:t,width:i="24",height:n="24",styles:r}={})=>k`
  <svg
    slot=${W(s)}
    class=${`error-icon ${t??""}`}
    viewBox="0 0 24 24"
    preserveAspectRatio="xMidYMid meet"
    focusable="false"
    width=${i}
    height=${n}
    style=${W(r)}
  >
    ${se(e,()=>Zn`<title>${e}</title>`)}
    <path
      d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"
    />
  </svg>
`,Gn=(s,e)=>{Object.assign(s.style,{display:e?"":"none"})};class sf extends HTMLElement{static get observedAttributes(){return["opened"]}toggle=er("height");constructor(){super();const e=new CSSStyleSheet;e.replaceSync(`
      :host { display: block; overflow: hidden; }
		`);const t=this.attachShadow({mode:"open"});t.appendChild(document.createElement("slot")),t.adoptedStyleSheets=[e]}connectedCallback(){Gn(this,this.getAttribute("opened")!=null)}attributeChangedCallback(e,t,i){if(e==="opened"){const n=i!=null;return this.isConnected?this.toggle(this,n):Gn(this,n)}}}customElements.define("cosmoz-collapse",sf);export{Jr as $,W as A,B,U as C,qs as D,Mf as E,Df as F,If as G,Be as H,bo as I,Jo as J,rr as K,ch as L,di as M,Tc as N,ii as O,kc as P,jf as Q,eu as R,Vf as S,uf as T,Uf as U,Ke as V,vr as W,Ua as X,Oh as Y,yt as Z,Cr as _,Ds as a,cf as a0,xh as a1,pt as a2,ar as a3,lf as b,J as c,Gr as d,Pf as e,ie as f,G as g,Rc as h,af as i,Of as j,Cf as k,gf as l,pf as m,Re as n,se as o,ro as p,Ph as q,Yr as r,zi as s,us as t,he as u,df as v,hf as w,Ff as x,ff as y,F as z};
